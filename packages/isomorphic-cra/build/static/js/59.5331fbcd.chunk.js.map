{"version":3,"sources":["../../../node_modules/react-motion/lib/presets.js","../../../node_modules/react-motion-drawer/drawer.js","../../../node_modules/react-motion/lib/react-motion.js","../../../node_modules/react-motion/lib/Motion.js","../../../node_modules/react-motion/lib/StaggeredMotion.js","../../../node_modules/react-motion/lib/TransitionMotion.js","../../../node_modules/react-motion/lib/mergeDiff.js","../../../node_modules/react-motion/lib/spring.js","../../../node_modules/react-motion/lib/reorderKeys.js","../../../node_modules/react-hammerjs/dist/react-hammerjs.es.js","../../../node_modules/hammerjs/hammer.js","../../../node_modules/1-liners/isFunction.js","../../../node_modules/react-motion-drawer/styles.js","../../../node_modules/react-motion/lib/stripStyle.js","../../../node_modules/react-motion/lib/mapToZero.js","../../../node_modules/react-motion/lib/stepper.js","../../../node_modules/react-motion/node_modules/performance-now/lib/performance-now.js","../../../node_modules/react-motion/lib/shouldStopAnimation.js"],"names":["exports","__esModule","noWobble","stiffness","damping","gentle","wobbly","stiff","module","Object","defineProperty","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_react2","_interopRequireDefault","require","_propTypes2","_reactMotion","_reactHammerjs2","_isFunction2","_styles3","obj","default","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","bool","number","object","array","string","func","oneOfType","Drawer","_React$Component","_ref","_temp","_this","this","_len","args","Array","_key","__proto__","getPrototypeOf","apply","concat","state","currentState","isState","s","isClosed","isOpen","isOpening","isClosing","onPress","e","noTouchOpen","preventDefault","peak","onPressUp","noTouchClose","close","onPan","isFinal","pointers","direction","deltaX","inPanTolerance","open","_this$props","right","peakingWidth","width","handleWidth","calculateWidth","clientX","x","document","body","clientWidth","closingOrOpening","nextState","PEAK","IS_OPENING","IS_CLOSING","OPEN","CLOSED","setState","onOverlayTap","test","match","subClass","superClass","create","constructor","setPrototypeOf","_inherits","nextProps","nextOpen","_props","onChange","_props2","isClosingDirection","panTolerance","Math","abs","_this2","_props3","config","drawerStyle","className","overlayClassName","children","offset","_state","createElement","Motion","style","myProp","spring","min","interpolated","_styles","drawer","transform","overlay","computedStyle","display","DIRECTION_HORIZONTAL","onTap","Component","propTypes","zIndex","shape","precision","height","overlayColor","fadeOut","defaultProps","_interopRequire","_Motion","_StaggeredMotion","StaggeredMotion","_TransitionMotion","TransitionMotion","_spring","_presets","presets","_stripStyle","stripStyle","_reorderKeys","reorderKeys","_mapToZero2","_stripStyle2","_stepper4","_performanceNow2","_raf2","_shouldStopAnimation2","wasAnimating","animationID","prevTime","accumulatedTime","unreadPropStyle","clearUnreadPropStyle","destStyle","dirty","currentStyle","currentVelocity","lastIdealStyle","lastIdealVelocity","styleValue","startAnimationIfNecessary","timestamp","propsStyle","onRest","currentTime","timeDelta","currentFrameCompletion","floor","framesToCatchUp","newLastIdealStyle","newLastIdealVelocity","newCurrentStyle","newCurrentVelocity","newLastIdealStyleValue","newLastIdealVelocityValue","_stepper","val","_stepper2","nextIdealX","nextIdealV","defaultState","defaultStyle","objectOf","isRequired","componentDidMount","componentWillReceiveProps","componentWillUnmount","cancel","render","renderedChildren","Children","only","unreadPropStyles","currentStyles","currentVelocities","lastIdealStyles","lastIdealVelocities","someDirty","destStyles","styles","shouldStopAnimationAll","newLastIdealStyles","newLastIdealVelocities","newCurrentStyles","newCurrentVelocities","j","defaultStyles","arrayOf","map","_mergeDiff2","rehydrateStyles","mergedPropsStyles","plainStyles","cUnreadPropStyles","mergedPropsStyle","data","mergeAndSync","willEnter","willLeave","didLeave","oldMergedPropsStyles","oldCurrentStyles","oldCurrentVelocities","oldLastIdealStyles","oldLastIdealVelocities","newMergedPropsStyles","oldIndex","oldMergedPropsStyle","leavingStyle","newMergedPropsStyleCell","foundOldIndex","plainStyle","velocity","unmounting","_mergeAndSync","propStyles","_mergeAndSync2","newMergedPropsStyle","any","styleThatEntered","undefined","defaultStyleCell","_mergeAndSync3","hydratedStyles","prev","next","onRemove","prevKeyIndex","nextKeyIndex","ret","fill","push","sort","a","b","nextOrderA","nextOrderB","prevOrderA","prevOrderB","pivot","defaultConfig","_presets2","process","Hammer","window","privateProps","options","recognizeWith","vertical","handlerToEvent","action","onDoubleTap","onPanCancel","onPanEnd","onPanStart","onPinch","onPinchCancel","onPinchEnd","onPinchIn","onPinchOut","onPinchStart","onRotate","onRotateCancel","onRotateEnd","onRotateMove","onRotateStart","onSwipe","onSwipeRight","onSwipeLeft","onSwipeUp","onSwipeDown","updateHammer","hammer","console","warn","directionProp","get","set","keys","forEach","option","recognizers","gesture","recognizer","requireFailure","optionObj","p","off","on","HammerComponent","domElement","stop","destroy","ref","React","cloneElement","displayName","PropTypes","exportName","VENDOR_PREFIXES","TEST_ELEMENT","round","now","Date","setTimeoutContext","fn","timeout","context","setTimeout","bindFn","invokeArrayArg","arg","isArray","each","iterator","deprecate","method","name","message","deprecationMessage","Error","stack","replace","log","output","index","nextKey","extend","dest","src","merge","inherit","child","base","properties","childP","baseP","_super","boolOrFn","ifUndefined","val1","val2","addEventListeners","types","handler","splitStr","type","addEventListener","removeEventListeners","removeEventListener","hasParent","node","parent","parentNode","inStr","str","find","indexOf","trim","split","inArray","findByKey","toArray","slice","uniqueArray","results","values","prefixed","property","prefix","prop","camelProp","toUpperCase","_uniqueId","getWindowForElement","element","doc","ownerDocument","defaultView","parentWindow","SUPPORT_TOUCH","SUPPORT_POINTER_EVENTS","SUPPORT_ONLY_TOUCH","navigator","userAgent","PROPS_XY","PROPS_CLIENT_XY","Input","manager","callback","inputTarget","domHandler","ev","enable","init","inputHandler","eventType","input","pointersLen","changedPointersLen","changedPointers","isFirst","session","pointersLength","firstInput","simpleCloneInputData","firstMultiple","offsetCenter","center","getCenter","timeStamp","deltaTime","angle","getAngle","distance","getDistance","offsetDelta","prevDelta","prevInput","y","deltaY","computeDeltaXY","offsetDirection","getDirection","overallVelocity","getVelocity","overallVelocityX","overallVelocityY","scale","start","end","rotation","getRotation","maxPointers","velocityX","velocityY","last","lastInterval","v","computeIntervalInputData","srcEvent","computeInputData","emit","recognize","clientY","p1","p2","sqrt","atan2","PI","evEl","evTarget","evWin","MOUSE_INPUT_MAP","mousedown","mousemove","mouseup","MouseInput","pressed","button","which","pointerType","POINTER_INPUT_MAP","pointerdown","pointermove","pointerup","pointercancel","pointerout","IE10_POINTER_TYPE_ENUM","2","3","4","5","POINTER_ELEMENT_EVENTS","POINTER_WINDOW_EVENTS","PointerEventInput","store","pointerEvents","MSPointerEvent","PointerEvent","removePointer","eventTypeNormalized","toLowerCase","isTouch","storeIndex","pointerId","splice","SINGLE_TOUCH_INPUT_MAP","touchstart","touchmove","touchend","touchcancel","SingleTouchInput","started","normalizeSingleTouches","all","touches","changed","changedTouches","TOUCH_INPUT_MAP","TouchInput","targetIds","getTouches","allTouches","identifier","targetTouches","changedTargetTouches","filter","touch","TouchMouseInput","mouse","primaryTouch","lastTouches","recordTouches","eventData","setLastTouch","lastTouch","lts","isSyntheticEvent","t","dx","dy","inputEvent","inputData","isMouse","sourceCapabilities","firesTouchEvents","PREFIXED_TOUCH_ACTION","NATIVE_TOUCH_ACTION","TOUCH_ACTION_MAP","touchMap","cssSupports","CSS","supports","getTouchActionProps","TouchAction","compute","actions","update","touchAction","getTouchAction","hasPanX","hasPanY","cleanTouchActions","join","preventDefaults","prevented","hasNone","isTapPointer","isTapMovement","isTapTouchTime","DIRECTION_LEFT","DIRECTION_UP","preventSrc","Recognizer","defaults","id","simultaneous","requireFail","stateStr","directionStr","getRecognizerByNameIfManager","otherRecognizer","AttrRecognizer","PanRecognizer","pX","pY","PinchRecognizer","PressRecognizer","_timer","_input","RotateRecognizer","SwipeRecognizer","TapRecognizer","pTime","pCenter","count","preset","Manager","dropRecognizeWith","dropRequireFailure","hasRequireFailures","canRecognizeWith","event","additionalEvent","tryEmit","canEmit","inputDataClone","reset","attrTest","optionPointers","isRecognized","isValid","threshold","directionTest","hasMoved","inOut","time","validPointers","validMovement","validTime","clearTimeout","taps","interval","posThreshold","validTouchTime","failTimeout","validInterval","validMultiTap","tapCount","VERSION","domEvents","inputClass","cssProps","userSelect","touchSelect","touchCallout","contentZooming","userDrag","tapHighlightColor","handlers","oldCssProps","createInputInstance","toggleCssProps","item","add","force","stopped","curRecognizer","existing","remove","events","gestureEvent","createEvent","initEvent","dispatchEvent","triggerDomEvent","INPUT_START","INPUT_MOVE","INPUT_END","INPUT_CANCEL","STATE_POSSIBLE","STATE_BEGAN","STATE_CHANGED","STATE_ENDED","STATE_RECOGNIZED","STATE_CANCELLED","STATE_FAILED","DIRECTION_NONE","DIRECTION_RIGHT","DIRECTION_DOWN","DIRECTION_VERTICAL","DIRECTION_ALL","Tap","Pan","Swipe","Pinch","Rotate","Press","define","_defineProperty","_transform","_overlay","left","opacity","overlayTransform","overflow","boxSizing","pointer","position","background","top","secondPerFrame","destX","k","newV","newX","reusedTuple","getNanoSeconds","hrtime","loadTime","performance","hr","getTime"],"mappings":"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","file":"static/js/59.5331fbcd.chunk.js","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = {\n  noWobble: { stiffness: 170, damping: 26 }, // the default, if nothing provided\n  gentle: { stiffness: 120, damping: 14 },\n  wobbly: { stiffness: 180, damping: 12 },\n  stiff: { stiffness: 210, damping: 20 }\n};\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactMotion = require(\"react-motion\");\n\nvar _reactHammerjs = require(\"react-hammerjs\");\n\nvar _reactHammerjs2 = _interopRequireDefault(_reactHammerjs);\n\nvar _isFunction = require(\"1-liners/isFunction\");\n\nvar _isFunction2 = _interopRequireDefault(_isFunction);\n\nvar _styles2 = require(\"./styles\");\n\nvar _styles3 = _interopRequireDefault(_styles2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar bool = _propTypes2.default.bool,\n    number = _propTypes2.default.number,\n    array = _propTypes2.default.array,\n    object = _propTypes2.default.object,\n    string = _propTypes2.default.string,\n    func = _propTypes2.default.func,\n    oneOfType = _propTypes2.default.oneOfType;\n\nvar Drawer = function (_React$Component) {\n  _inherits(Drawer, _React$Component);\n\n  function Drawer() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Drawer);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Drawer.__proto__ || Object.getPrototypeOf(Drawer)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      currentState: \"CLOSED\"\n    }, _this.isState = function (s) {\n      return s === _this.state.currentState;\n    }, _this.isClosed = function () {\n      return _this.isState(\"CLOSED\");\n    }, _this.isOpen = function () {\n      return _this.isState(\"OPEN\");\n    }, _this.isOpening = function () {\n      return _this.isState(\"IS_OPENING\");\n    }, _this.isClosing = function () {\n      return _this.isState(\"IS_CLOSING\");\n    }, _this.onPress = function (e) {\n      if (_this.props.noTouchOpen) return;\n      e.preventDefault();\n      _this.peak();\n    }, _this.onPressUp = function (e) {\n      if (_this.props.noTouchClose) return;\n      e.preventDefault();\n      _this.close();\n    }, _this.onPan = function (e) {\n      if (_this.isClosed() && _this.props.noTouchOpen) return;\n      if (_this.isOpen() && _this.props.noTouchClose) return;\n      e.preventDefault();\n\n      var isFinal = e.isFinal,\n          pointers = e.pointers,\n          direction = e.direction,\n          deltaX = e.deltaX;\n\n      if (_this.inPanTolerance(deltaX)) return;\n\n      if (isFinal) {\n        if (_this.isOpening()) _this.open();else if (_this.isClosing()) _this.close();\n        return;\n      }\n\n      var currentState = _this.state.currentState;\n      var _this$props = _this.props,\n          right = _this$props.right,\n          peakingWidth = _this$props.peakingWidth,\n          handleWidth = _this$props.handleWidth;\n\n      var width = _this.calculateWidth();\n      var clientX = pointers[0].clientX;\n\n\n      var x = right ? document.body.clientWidth - clientX : clientX;\n\n      if (x + peakingWidth >= width) x = width - peakingWidth;\n\n      var closingOrOpening = _this.closingOrOpening(direction);\n      var nextState = {\n        PEAK: closingOrOpening,\n        IS_OPENING: closingOrOpening,\n        IS_CLOSING: closingOrOpening,\n        OPEN: \"IS_CLOSING\",\n        CLOSED: \"PEAK\"\n      };\n\n      _this.setState({\n        currentState: nextState[currentState],\n        x: _this.isClosed() ? peakingWidth : peakingWidth / 2 + x\n      });\n    }, _this.onOverlayTap = function (e) {\n      e.preventDefault();\n      if (_this.isOpen()) _this.close();\n    }, _this.calculateWidth = function () {\n      var width = _this.props.width;\n      return (/\\D/.test(width) ? document.body.clientWidth * (width.match(/\\d*/) / 100) : width\n      );\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Drawer, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var open = this.props.open;\n      var nextOpen = nextProps.open;\n\n\n      if (nextOpen !== open) {\n        if (nextOpen) this.open();else this.close();\n      }\n    }\n  }, {\n    key: \"peak\",\n    value: function peak() {\n      var _props = this.props,\n          onChange = _props.onChange,\n          handleWidth = _props.handleWidth;\n\n      onChange(false);\n      return this.setState({ currentState: \"PEAK\", x: handleWidth });\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      this.props.onChange(false);\n      return this.setState({ currentState: \"CLOSED\", x: 0 });\n    }\n  }, {\n    key: \"open\",\n    value: function open() {\n      var _props2 = this.props,\n          onChange = _props2.onChange,\n          width = _props2.width;\n\n      onChange(true);\n\n      return this.setState({ currentState: \"OPEN\", x: this.calculateWidth() });\n    }\n  }, {\n    key: \"isClosingDirection\",\n    value: function isClosingDirection(direction) {\n      var right = this.props.right;\n\n      var isClosing = direction === 2;\n\n      if (right) return !isClosing;else return isClosing;\n    }\n  }, {\n    key: \"closingOrOpening\",\n    value: function closingOrOpening(direction) {\n      return this.isClosingDirection(direction) ? \"IS_CLOSING\" : \"IS_OPENING\";\n    }\n  }, {\n    key: \"inPanTolerance\",\n    value: function inPanTolerance(deltaX) {\n      var currentState = this.state.currentState;\n      var panTolerance = this.props.panTolerance;\n\n\n      return Math.abs(deltaX) <= panTolerance && currentState === \"OPEN\";\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _props3 = this.props,\n          config = _props3.config,\n          drawerStyle = _props3.drawerStyle,\n          className = _props3.className,\n          overlayClassName = _props3.overlayClassName,\n          width = _props3.width,\n          children = _props3.children,\n          offset = _props3.offset;\n      var _state = this.state,\n          currentState = _state.currentState,\n          x = _state.x;\n\n\n      return _react2.default.createElement(\n        _reactMotion.Motion,\n        { style: { myProp: (0, _reactMotion.spring)(Math.min(x + offset || 0, this.calculateWidth()), config) } },\n        function (interpolated) {\n          var _styles = (0, _styles3.default)(interpolated.myProp, _this2.props),\n              drawer = _styles.drawer,\n              transform = _styles.transform,\n              overlay = _styles.overlay;\n\n          var computedStyle = _extends({}, drawer, drawerStyle);\n          if (interpolated.myProp > 0) computedStyle.display = \"block\";else computedStyle.display = \"none\";\n\n          return _react2.default.createElement(\n            _reactHammerjs2.default,\n            {\n              onPress: _this2.onPress,\n              onPressUp: _this2.onPressUp,\n              onPan: _this2.onPan,\n              direction: _reactHammerjs2.default.DIRECTION_HORIZONTAL\n            },\n            _react2.default.createElement(\n              \"div\",\n              { style: transform },\n              _react2.default.createElement(\n                \"div\",\n                { className: className, style: computedStyle },\n                (0, _isFunction2.default)(children) ? children(interpolated.myProp) : children,\n                !_this2.isClosed() && _react2.default.createElement(\n                  _reactHammerjs2.default,\n                  {\n                    style: overlay,\n                    className: overlayClassName,\n                    onTap: _this2.onOverlayTap\n                  },\n                  _react2.default.createElement(\"span\", null)\n                )\n              )\n            )\n          );\n        }\n      );\n    }\n  }]);\n\n  return Drawer;\n}(_react2.default.Component);\n\nDrawer.propTypes = {\n  zIndex: number, // z-index of the drawer default is 10000\n  noTouchOpen: bool, // can a user pan to open\n  noTouchClose: bool, // can a user pan to close\n  onChange: func, // called when the drawer is open\n  drawerStyle: object, // additional drawer styles\n  className: string, // additional drawer className\n  overlayClassName: string, // additional overlay className\n  config: _propTypes2.default.shape({\n    stiffness: number,\n    damping: number,\n    precision: number\n  }), // configuration of the react-motion animation\n  open: bool, // states if the drawer is open\n  width: oneOfType([number, string]), // width of the drawer\n  height: oneOfType([number, string]), // height of the drawer\n  handleWidth: number, // width of the handle\n  peakingWidth: number, // width that the drawer peaks on press\n  panTolerance: number, // tolerance until the drawer starts to move\n  right: bool, // drawer on the right side of the screen\n  overlayColor: string, // color of the overlay\n  fadeOut: bool, // fade out\n  offset: number // offset\n};\nDrawer.defaultProps = {\n  zIndex: 10000,\n  noTouchOpen: false,\n  noTouchClose: false,\n  onChange: function onChange() {},\n  overlayColor: \"rgba(0, 0, 0, 0.4)\",\n  config: { stiffness: 350, damping: 40 },\n  open: false,\n  width: 300,\n  height: \"100%\",\n  handleWidth: 20,\n  peakingWidth: 50,\n  panTolerance: 50,\n  right: false,\n  fadeOut: false,\n  offset: 0\n};\nexports.default = Drawer;","'use strict';\n\nexports.__esModule = true;\n\nfunction _interopRequire(obj) { return obj && obj.__esModule ? obj['default'] : obj; }\n\nvar _Motion = require('./Motion');\n\nexports.Motion = _interopRequire(_Motion);\n\nvar _StaggeredMotion = require('./StaggeredMotion');\n\nexports.StaggeredMotion = _interopRequire(_StaggeredMotion);\n\nvar _TransitionMotion = require('./TransitionMotion');\n\nexports.TransitionMotion = _interopRequire(_TransitionMotion);\n\nvar _spring = require('./spring');\n\nexports.spring = _interopRequire(_spring);\n\nvar _presets = require('./presets');\n\nexports.presets = _interopRequire(_presets);\n\nvar _stripStyle = require('./stripStyle');\n\nexports.stripStyle = _interopRequire(_stripStyle);\n\n// deprecated, dummy warning function\n\nvar _reorderKeys = require('./reorderKeys');\n\nexports.reorderKeys = _interopRequire(_reorderKeys);","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _mapToZero = require('./mapToZero');\n\nvar _mapToZero2 = _interopRequireDefault(_mapToZero);\n\nvar _stripStyle = require('./stripStyle');\n\nvar _stripStyle2 = _interopRequireDefault(_stripStyle);\n\nvar _stepper3 = require('./stepper');\n\nvar _stepper4 = _interopRequireDefault(_stepper3);\n\nvar _performanceNow = require('performance-now');\n\nvar _performanceNow2 = _interopRequireDefault(_performanceNow);\n\nvar _raf = require('raf');\n\nvar _raf2 = _interopRequireDefault(_raf);\n\nvar _shouldStopAnimation = require('./shouldStopAnimation');\n\nvar _shouldStopAnimation2 = _interopRequireDefault(_shouldStopAnimation);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar msPerFrame = 1000 / 60;\n\nvar Motion = (function (_React$Component) {\n  _inherits(Motion, _React$Component);\n\n  _createClass(Motion, null, [{\n    key: 'propTypes',\n    value: {\n      // TOOD: warn against putting a config in here\n      defaultStyle: _propTypes2['default'].objectOf(_propTypes2['default'].number),\n      style: _propTypes2['default'].objectOf(_propTypes2['default'].oneOfType([_propTypes2['default'].number, _propTypes2['default'].object])).isRequired,\n      children: _propTypes2['default'].func.isRequired,\n      onRest: _propTypes2['default'].func\n    },\n    enumerable: true\n  }]);\n\n  function Motion(props) {\n    var _this = this;\n\n    _classCallCheck(this, Motion);\n\n    _React$Component.call(this, props);\n    this.wasAnimating = false;\n    this.animationID = null;\n    this.prevTime = 0;\n    this.accumulatedTime = 0;\n    this.unreadPropStyle = null;\n\n    this.clearUnreadPropStyle = function (destStyle) {\n      var dirty = false;\n      var _state = _this.state;\n      var currentStyle = _state.currentStyle;\n      var currentVelocity = _state.currentVelocity;\n      var lastIdealStyle = _state.lastIdealStyle;\n      var lastIdealVelocity = _state.lastIdealVelocity;\n\n      for (var key in destStyle) {\n        if (!Object.prototype.hasOwnProperty.call(destStyle, key)) {\n          continue;\n        }\n\n        var styleValue = destStyle[key];\n        if (typeof styleValue === 'number') {\n          if (!dirty) {\n            dirty = true;\n            currentStyle = _extends({}, currentStyle);\n            currentVelocity = _extends({}, currentVelocity);\n            lastIdealStyle = _extends({}, lastIdealStyle);\n            lastIdealVelocity = _extends({}, lastIdealVelocity);\n          }\n\n          currentStyle[key] = styleValue;\n          currentVelocity[key] = 0;\n          lastIdealStyle[key] = styleValue;\n          lastIdealVelocity[key] = 0;\n        }\n      }\n\n      if (dirty) {\n        _this.setState({ currentStyle: currentStyle, currentVelocity: currentVelocity, lastIdealStyle: lastIdealStyle, lastIdealVelocity: lastIdealVelocity });\n      }\n    };\n\n    this.startAnimationIfNecessary = function () {\n      // TODO: when config is {a: 10} and dest is {a: 10} do we raf once and\n      // call cb? No, otherwise accidental parent rerender causes cb trigger\n      _this.animationID = _raf2['default'](function (timestamp) {\n        // check if we need to animate in the first place\n        var propsStyle = _this.props.style;\n        if (_shouldStopAnimation2['default'](_this.state.currentStyle, propsStyle, _this.state.currentVelocity)) {\n          if (_this.wasAnimating && _this.props.onRest) {\n            _this.props.onRest();\n          }\n\n          // no need to cancel animationID here; shouldn't have any in flight\n          _this.animationID = null;\n          _this.wasAnimating = false;\n          _this.accumulatedTime = 0;\n          return;\n        }\n\n        _this.wasAnimating = true;\n\n        var currentTime = timestamp || _performanceNow2['default']();\n        var timeDelta = currentTime - _this.prevTime;\n        _this.prevTime = currentTime;\n        _this.accumulatedTime = _this.accumulatedTime + timeDelta;\n        // more than 10 frames? prolly switched browser tab. Restart\n        if (_this.accumulatedTime > msPerFrame * 10) {\n          _this.accumulatedTime = 0;\n        }\n\n        if (_this.accumulatedTime === 0) {\n          // no need to cancel animationID here; shouldn't have any in flight\n          _this.animationID = null;\n          _this.startAnimationIfNecessary();\n          return;\n        }\n\n        var currentFrameCompletion = (_this.accumulatedTime - Math.floor(_this.accumulatedTime / msPerFrame) * msPerFrame) / msPerFrame;\n        var framesToCatchUp = Math.floor(_this.accumulatedTime / msPerFrame);\n\n        var newLastIdealStyle = {};\n        var newLastIdealVelocity = {};\n        var newCurrentStyle = {};\n        var newCurrentVelocity = {};\n\n        for (var key in propsStyle) {\n          if (!Object.prototype.hasOwnProperty.call(propsStyle, key)) {\n            continue;\n          }\n\n          var styleValue = propsStyle[key];\n          if (typeof styleValue === 'number') {\n            newCurrentStyle[key] = styleValue;\n            newCurrentVelocity[key] = 0;\n            newLastIdealStyle[key] = styleValue;\n            newLastIdealVelocity[key] = 0;\n          } else {\n            var newLastIdealStyleValue = _this.state.lastIdealStyle[key];\n            var newLastIdealVelocityValue = _this.state.lastIdealVelocity[key];\n            for (var i = 0; i < framesToCatchUp; i++) {\n              var _stepper = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\n              newLastIdealStyleValue = _stepper[0];\n              newLastIdealVelocityValue = _stepper[1];\n            }\n\n            var _stepper2 = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\n            var nextIdealX = _stepper2[0];\n            var nextIdealV = _stepper2[1];\n\n            newCurrentStyle[key] = newLastIdealStyleValue + (nextIdealX - newLastIdealStyleValue) * currentFrameCompletion;\n            newCurrentVelocity[key] = newLastIdealVelocityValue + (nextIdealV - newLastIdealVelocityValue) * currentFrameCompletion;\n            newLastIdealStyle[key] = newLastIdealStyleValue;\n            newLastIdealVelocity[key] = newLastIdealVelocityValue;\n          }\n        }\n\n        _this.animationID = null;\n        // the amount we're looped over above\n        _this.accumulatedTime -= framesToCatchUp * msPerFrame;\n\n        _this.setState({\n          currentStyle: newCurrentStyle,\n          currentVelocity: newCurrentVelocity,\n          lastIdealStyle: newLastIdealStyle,\n          lastIdealVelocity: newLastIdealVelocity\n        });\n\n        _this.unreadPropStyle = null;\n\n        _this.startAnimationIfNecessary();\n      });\n    };\n\n    this.state = this.defaultState();\n  }\n\n  Motion.prototype.defaultState = function defaultState() {\n    var _props = this.props;\n    var defaultStyle = _props.defaultStyle;\n    var style = _props.style;\n\n    var currentStyle = defaultStyle || _stripStyle2['default'](style);\n    var currentVelocity = _mapToZero2['default'](currentStyle);\n    return {\n      currentStyle: currentStyle,\n      currentVelocity: currentVelocity,\n      lastIdealStyle: currentStyle,\n      lastIdealVelocity: currentVelocity\n    };\n  };\n\n  // it's possible that currentStyle's value is stale: if props is immediately\n  // changed from 0 to 400 to spring(0) again, the async currentStyle is still\n  // at 0 (didn't have time to tick and interpolate even once). If we naively\n  // compare currentStyle with destVal it'll be 0 === 0 (no animation, stop).\n  // In reality currentStyle should be 400\n\n  Motion.prototype.componentDidMount = function componentDidMount() {\n    this.prevTime = _performanceNow2['default']();\n    this.startAnimationIfNecessary();\n  };\n\n  Motion.prototype.componentWillReceiveProps = function componentWillReceiveProps(props) {\n    if (this.unreadPropStyle != null) {\n      // previous props haven't had the chance to be set yet; set them here\n      this.clearUnreadPropStyle(this.unreadPropStyle);\n    }\n\n    this.unreadPropStyle = props.style;\n    if (this.animationID == null) {\n      this.prevTime = _performanceNow2['default']();\n      this.startAnimationIfNecessary();\n    }\n  };\n\n  Motion.prototype.componentWillUnmount = function componentWillUnmount() {\n    if (this.animationID != null) {\n      _raf2['default'].cancel(this.animationID);\n      this.animationID = null;\n    }\n  };\n\n  Motion.prototype.render = function render() {\n    var renderedChildren = this.props.children(this.state.currentStyle);\n    return renderedChildren && _react2['default'].Children.only(renderedChildren);\n  };\n\n  return Motion;\n})(_react2['default'].Component);\n\nexports['default'] = Motion;\nmodule.exports = exports['default'];\n\n// after checking for unreadPropStyle != null, we manually go set the\n// non-interpolating values (those that are a number, without a spring\n// config)","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _mapToZero = require('./mapToZero');\n\nvar _mapToZero2 = _interopRequireDefault(_mapToZero);\n\nvar _stripStyle = require('./stripStyle');\n\nvar _stripStyle2 = _interopRequireDefault(_stripStyle);\n\nvar _stepper3 = require('./stepper');\n\nvar _stepper4 = _interopRequireDefault(_stepper3);\n\nvar _performanceNow = require('performance-now');\n\nvar _performanceNow2 = _interopRequireDefault(_performanceNow);\n\nvar _raf = require('raf');\n\nvar _raf2 = _interopRequireDefault(_raf);\n\nvar _shouldStopAnimation = require('./shouldStopAnimation');\n\nvar _shouldStopAnimation2 = _interopRequireDefault(_shouldStopAnimation);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar msPerFrame = 1000 / 60;\n\nfunction shouldStopAnimationAll(currentStyles, styles, currentVelocities) {\n  for (var i = 0; i < currentStyles.length; i++) {\n    if (!_shouldStopAnimation2['default'](currentStyles[i], styles[i], currentVelocities[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nvar StaggeredMotion = (function (_React$Component) {\n  _inherits(StaggeredMotion, _React$Component);\n\n  _createClass(StaggeredMotion, null, [{\n    key: 'propTypes',\n    value: {\n      // TOOD: warn against putting a config in here\n      defaultStyles: _propTypes2['default'].arrayOf(_propTypes2['default'].objectOf(_propTypes2['default'].number)),\n      styles: _propTypes2['default'].func.isRequired,\n      children: _propTypes2['default'].func.isRequired\n    },\n    enumerable: true\n  }]);\n\n  function StaggeredMotion(props) {\n    var _this = this;\n\n    _classCallCheck(this, StaggeredMotion);\n\n    _React$Component.call(this, props);\n    this.animationID = null;\n    this.prevTime = 0;\n    this.accumulatedTime = 0;\n    this.unreadPropStyles = null;\n\n    this.clearUnreadPropStyle = function (unreadPropStyles) {\n      var _state = _this.state;\n      var currentStyles = _state.currentStyles;\n      var currentVelocities = _state.currentVelocities;\n      var lastIdealStyles = _state.lastIdealStyles;\n      var lastIdealVelocities = _state.lastIdealVelocities;\n\n      var someDirty = false;\n      for (var i = 0; i < unreadPropStyles.length; i++) {\n        var unreadPropStyle = unreadPropStyles[i];\n        var dirty = false;\n\n        for (var key in unreadPropStyle) {\n          if (!Object.prototype.hasOwnProperty.call(unreadPropStyle, key)) {\n            continue;\n          }\n\n          var styleValue = unreadPropStyle[key];\n          if (typeof styleValue === 'number') {\n            if (!dirty) {\n              dirty = true;\n              someDirty = true;\n              currentStyles[i] = _extends({}, currentStyles[i]);\n              currentVelocities[i] = _extends({}, currentVelocities[i]);\n              lastIdealStyles[i] = _extends({}, lastIdealStyles[i]);\n              lastIdealVelocities[i] = _extends({}, lastIdealVelocities[i]);\n            }\n            currentStyles[i][key] = styleValue;\n            currentVelocities[i][key] = 0;\n            lastIdealStyles[i][key] = styleValue;\n            lastIdealVelocities[i][key] = 0;\n          }\n        }\n      }\n\n      if (someDirty) {\n        _this.setState({ currentStyles: currentStyles, currentVelocities: currentVelocities, lastIdealStyles: lastIdealStyles, lastIdealVelocities: lastIdealVelocities });\n      }\n    };\n\n    this.startAnimationIfNecessary = function () {\n      // TODO: when config is {a: 10} and dest is {a: 10} do we raf once and\n      // call cb? No, otherwise accidental parent rerender causes cb trigger\n      _this.animationID = _raf2['default'](function (timestamp) {\n        var destStyles = _this.props.styles(_this.state.lastIdealStyles);\n\n        // check if we need to animate in the first place\n        if (shouldStopAnimationAll(_this.state.currentStyles, destStyles, _this.state.currentVelocities)) {\n          // no need to cancel animationID here; shouldn't have any in flight\n          _this.animationID = null;\n          _this.accumulatedTime = 0;\n          return;\n        }\n\n        var currentTime = timestamp || _performanceNow2['default']();\n        var timeDelta = currentTime - _this.prevTime;\n        _this.prevTime = currentTime;\n        _this.accumulatedTime = _this.accumulatedTime + timeDelta;\n        // more than 10 frames? prolly switched browser tab. Restart\n        if (_this.accumulatedTime > msPerFrame * 10) {\n          _this.accumulatedTime = 0;\n        }\n\n        if (_this.accumulatedTime === 0) {\n          // no need to cancel animationID here; shouldn't have any in flight\n          _this.animationID = null;\n          _this.startAnimationIfNecessary();\n          return;\n        }\n\n        var currentFrameCompletion = (_this.accumulatedTime - Math.floor(_this.accumulatedTime / msPerFrame) * msPerFrame) / msPerFrame;\n        var framesToCatchUp = Math.floor(_this.accumulatedTime / msPerFrame);\n\n        var newLastIdealStyles = [];\n        var newLastIdealVelocities = [];\n        var newCurrentStyles = [];\n        var newCurrentVelocities = [];\n\n        for (var i = 0; i < destStyles.length; i++) {\n          var destStyle = destStyles[i];\n          var newCurrentStyle = {};\n          var newCurrentVelocity = {};\n          var newLastIdealStyle = {};\n          var newLastIdealVelocity = {};\n\n          for (var key in destStyle) {\n            if (!Object.prototype.hasOwnProperty.call(destStyle, key)) {\n              continue;\n            }\n\n            var styleValue = destStyle[key];\n            if (typeof styleValue === 'number') {\n              newCurrentStyle[key] = styleValue;\n              newCurrentVelocity[key] = 0;\n              newLastIdealStyle[key] = styleValue;\n              newLastIdealVelocity[key] = 0;\n            } else {\n              var newLastIdealStyleValue = _this.state.lastIdealStyles[i][key];\n              var newLastIdealVelocityValue = _this.state.lastIdealVelocities[i][key];\n              for (var j = 0; j < framesToCatchUp; j++) {\n                var _stepper = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\n                newLastIdealStyleValue = _stepper[0];\n                newLastIdealVelocityValue = _stepper[1];\n              }\n\n              var _stepper2 = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\n              var nextIdealX = _stepper2[0];\n              var nextIdealV = _stepper2[1];\n\n              newCurrentStyle[key] = newLastIdealStyleValue + (nextIdealX - newLastIdealStyleValue) * currentFrameCompletion;\n              newCurrentVelocity[key] = newLastIdealVelocityValue + (nextIdealV - newLastIdealVelocityValue) * currentFrameCompletion;\n              newLastIdealStyle[key] = newLastIdealStyleValue;\n              newLastIdealVelocity[key] = newLastIdealVelocityValue;\n            }\n          }\n\n          newCurrentStyles[i] = newCurrentStyle;\n          newCurrentVelocities[i] = newCurrentVelocity;\n          newLastIdealStyles[i] = newLastIdealStyle;\n          newLastIdealVelocities[i] = newLastIdealVelocity;\n        }\n\n        _this.animationID = null;\n        // the amount we're looped over above\n        _this.accumulatedTime -= framesToCatchUp * msPerFrame;\n\n        _this.setState({\n          currentStyles: newCurrentStyles,\n          currentVelocities: newCurrentVelocities,\n          lastIdealStyles: newLastIdealStyles,\n          lastIdealVelocities: newLastIdealVelocities\n        });\n\n        _this.unreadPropStyles = null;\n\n        _this.startAnimationIfNecessary();\n      });\n    };\n\n    this.state = this.defaultState();\n  }\n\n  StaggeredMotion.prototype.defaultState = function defaultState() {\n    var _props = this.props;\n    var defaultStyles = _props.defaultStyles;\n    var styles = _props.styles;\n\n    var currentStyles = defaultStyles || styles().map(_stripStyle2['default']);\n    var currentVelocities = currentStyles.map(function (currentStyle) {\n      return _mapToZero2['default'](currentStyle);\n    });\n    return {\n      currentStyles: currentStyles,\n      currentVelocities: currentVelocities,\n      lastIdealStyles: currentStyles,\n      lastIdealVelocities: currentVelocities\n    };\n  };\n\n  StaggeredMotion.prototype.componentDidMount = function componentDidMount() {\n    this.prevTime = _performanceNow2['default']();\n    this.startAnimationIfNecessary();\n  };\n\n  StaggeredMotion.prototype.componentWillReceiveProps = function componentWillReceiveProps(props) {\n    if (this.unreadPropStyles != null) {\n      // previous props haven't had the chance to be set yet; set them here\n      this.clearUnreadPropStyle(this.unreadPropStyles);\n    }\n\n    this.unreadPropStyles = props.styles(this.state.lastIdealStyles);\n    if (this.animationID == null) {\n      this.prevTime = _performanceNow2['default']();\n      this.startAnimationIfNecessary();\n    }\n  };\n\n  StaggeredMotion.prototype.componentWillUnmount = function componentWillUnmount() {\n    if (this.animationID != null) {\n      _raf2['default'].cancel(this.animationID);\n      this.animationID = null;\n    }\n  };\n\n  StaggeredMotion.prototype.render = function render() {\n    var renderedChildren = this.props.children(this.state.currentStyles);\n    return renderedChildren && _react2['default'].Children.only(renderedChildren);\n  };\n\n  return StaggeredMotion;\n})(_react2['default'].Component);\n\nexports['default'] = StaggeredMotion;\nmodule.exports = exports['default'];\n\n// it's possible that currentStyle's value is stale: if props is immediately\n// changed from 0 to 400 to spring(0) again, the async currentStyle is still\n// at 0 (didn't have time to tick and interpolate even once). If we naively\n// compare currentStyle with destVal it'll be 0 === 0 (no animation, stop).\n// In reality currentStyle should be 400\n\n// after checking for unreadPropStyles != null, we manually go set the\n// non-interpolating values (those that are a number, without a spring\n// config)","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _mapToZero = require('./mapToZero');\n\nvar _mapToZero2 = _interopRequireDefault(_mapToZero);\n\nvar _stripStyle = require('./stripStyle');\n\nvar _stripStyle2 = _interopRequireDefault(_stripStyle);\n\nvar _stepper3 = require('./stepper');\n\nvar _stepper4 = _interopRequireDefault(_stepper3);\n\nvar _mergeDiff = require('./mergeDiff');\n\nvar _mergeDiff2 = _interopRequireDefault(_mergeDiff);\n\nvar _performanceNow = require('performance-now');\n\nvar _performanceNow2 = _interopRequireDefault(_performanceNow);\n\nvar _raf = require('raf');\n\nvar _raf2 = _interopRequireDefault(_raf);\n\nvar _shouldStopAnimation = require('./shouldStopAnimation');\n\nvar _shouldStopAnimation2 = _interopRequireDefault(_shouldStopAnimation);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar msPerFrame = 1000 / 60;\n\n// the children function & (potential) styles function asks as param an\n// Array<TransitionPlainStyle>, where each TransitionPlainStyle is of the format\n// {key: string, data?: any, style: PlainStyle}. However, the way we keep\n// internal states doesn't contain such a data structure (check the state and\n// TransitionMotionState). So when children function and others ask for such\n// data we need to generate them on the fly by combining mergedPropsStyles and\n// currentStyles/lastIdealStyles\nfunction rehydrateStyles(mergedPropsStyles, unreadPropStyles, plainStyles) {\n  // Copy the value to a `const` so that Flow understands that the const won't\n  // change and will be non-nullable in the callback below.\n  var cUnreadPropStyles = unreadPropStyles;\n  if (cUnreadPropStyles == null) {\n    return mergedPropsStyles.map(function (mergedPropsStyle, i) {\n      return {\n        key: mergedPropsStyle.key,\n        data: mergedPropsStyle.data,\n        style: plainStyles[i]\n      };\n    });\n  }\n  return mergedPropsStyles.map(function (mergedPropsStyle, i) {\n    for (var j = 0; j < cUnreadPropStyles.length; j++) {\n      if (cUnreadPropStyles[j].key === mergedPropsStyle.key) {\n        return {\n          key: cUnreadPropStyles[j].key,\n          data: cUnreadPropStyles[j].data,\n          style: plainStyles[i]\n        };\n      }\n    }\n    return { key: mergedPropsStyle.key, data: mergedPropsStyle.data, style: plainStyles[i] };\n  });\n}\n\nfunction shouldStopAnimationAll(currentStyles, destStyles, currentVelocities, mergedPropsStyles) {\n  if (mergedPropsStyles.length !== destStyles.length) {\n    return false;\n  }\n\n  for (var i = 0; i < mergedPropsStyles.length; i++) {\n    if (mergedPropsStyles[i].key !== destStyles[i].key) {\n      return false;\n    }\n  }\n\n  // we have the invariant that mergedPropsStyles and\n  // currentStyles/currentVelocities/last* are synced in terms of cells, see\n  // mergeAndSync comment for more info\n  for (var i = 0; i < mergedPropsStyles.length; i++) {\n    if (!_shouldStopAnimation2['default'](currentStyles[i], destStyles[i].style, currentVelocities[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n// core key merging logic\n\n// things to do: say previously merged style is {a, b}, dest style (prop) is {b,\n// c}, previous current (interpolating) style is {a, b}\n// **invariant**: current[i] corresponds to merged[i] in terms of key\n\n// steps:\n// turn merged style into {a?, b, c}\n//    add c, value of c is destStyles.c\n//    maybe remove a, aka call willLeave(a), then merged is either {b, c} or {a, b, c}\n// turn current (interpolating) style from {a, b} into {a?, b, c}\n//    maybe remove a\n//    certainly add c, value of c is willEnter(c)\n// loop over merged and construct new current\n// dest doesn't change, that's owner's\nfunction mergeAndSync(willEnter, willLeave, didLeave, oldMergedPropsStyles, destStyles, oldCurrentStyles, oldCurrentVelocities, oldLastIdealStyles, oldLastIdealVelocities) {\n  var newMergedPropsStyles = _mergeDiff2['default'](oldMergedPropsStyles, destStyles, function (oldIndex, oldMergedPropsStyle) {\n    var leavingStyle = willLeave(oldMergedPropsStyle);\n    if (leavingStyle == null) {\n      didLeave({ key: oldMergedPropsStyle.key, data: oldMergedPropsStyle.data });\n      return null;\n    }\n    if (_shouldStopAnimation2['default'](oldCurrentStyles[oldIndex], leavingStyle, oldCurrentVelocities[oldIndex])) {\n      didLeave({ key: oldMergedPropsStyle.key, data: oldMergedPropsStyle.data });\n      return null;\n    }\n    return { key: oldMergedPropsStyle.key, data: oldMergedPropsStyle.data, style: leavingStyle };\n  });\n\n  var newCurrentStyles = [];\n  var newCurrentVelocities = [];\n  var newLastIdealStyles = [];\n  var newLastIdealVelocities = [];\n  for (var i = 0; i < newMergedPropsStyles.length; i++) {\n    var newMergedPropsStyleCell = newMergedPropsStyles[i];\n    var foundOldIndex = null;\n    for (var j = 0; j < oldMergedPropsStyles.length; j++) {\n      if (oldMergedPropsStyles[j].key === newMergedPropsStyleCell.key) {\n        foundOldIndex = j;\n        break;\n      }\n    }\n    // TODO: key search code\n    if (foundOldIndex == null) {\n      var plainStyle = willEnter(newMergedPropsStyleCell);\n      newCurrentStyles[i] = plainStyle;\n      newLastIdealStyles[i] = plainStyle;\n\n      var velocity = _mapToZero2['default'](newMergedPropsStyleCell.style);\n      newCurrentVelocities[i] = velocity;\n      newLastIdealVelocities[i] = velocity;\n    } else {\n      newCurrentStyles[i] = oldCurrentStyles[foundOldIndex];\n      newLastIdealStyles[i] = oldLastIdealStyles[foundOldIndex];\n      newCurrentVelocities[i] = oldCurrentVelocities[foundOldIndex];\n      newLastIdealVelocities[i] = oldLastIdealVelocities[foundOldIndex];\n    }\n  }\n\n  return [newMergedPropsStyles, newCurrentStyles, newCurrentVelocities, newLastIdealStyles, newLastIdealVelocities];\n}\n\nvar TransitionMotion = (function (_React$Component) {\n  _inherits(TransitionMotion, _React$Component);\n\n  _createClass(TransitionMotion, null, [{\n    key: 'propTypes',\n    value: {\n      defaultStyles: _propTypes2['default'].arrayOf(_propTypes2['default'].shape({\n        key: _propTypes2['default'].string.isRequired,\n        data: _propTypes2['default'].any,\n        style: _propTypes2['default'].objectOf(_propTypes2['default'].number).isRequired\n      })),\n      styles: _propTypes2['default'].oneOfType([_propTypes2['default'].func, _propTypes2['default'].arrayOf(_propTypes2['default'].shape({\n        key: _propTypes2['default'].string.isRequired,\n        data: _propTypes2['default'].any,\n        style: _propTypes2['default'].objectOf(_propTypes2['default'].oneOfType([_propTypes2['default'].number, _propTypes2['default'].object])).isRequired\n      }))]).isRequired,\n      children: _propTypes2['default'].func.isRequired,\n      willEnter: _propTypes2['default'].func,\n      willLeave: _propTypes2['default'].func,\n      didLeave: _propTypes2['default'].func\n    },\n    enumerable: true\n  }, {\n    key: 'defaultProps',\n    value: {\n      willEnter: function willEnter(styleThatEntered) {\n        return _stripStyle2['default'](styleThatEntered.style);\n      },\n      // recall: returning null makes the current unmounting TransitionStyle\n      // disappear immediately\n      willLeave: function willLeave() {\n        return null;\n      },\n      didLeave: function didLeave() {}\n    },\n    enumerable: true\n  }]);\n\n  function TransitionMotion(props) {\n    var _this = this;\n\n    _classCallCheck(this, TransitionMotion);\n\n    _React$Component.call(this, props);\n    this.unmounting = false;\n    this.animationID = null;\n    this.prevTime = 0;\n    this.accumulatedTime = 0;\n    this.unreadPropStyles = null;\n\n    this.clearUnreadPropStyle = function (unreadPropStyles) {\n      var _mergeAndSync = mergeAndSync(_this.props.willEnter, _this.props.willLeave, _this.props.didLeave, _this.state.mergedPropsStyles, unreadPropStyles, _this.state.currentStyles, _this.state.currentVelocities, _this.state.lastIdealStyles, _this.state.lastIdealVelocities);\n\n      var mergedPropsStyles = _mergeAndSync[0];\n      var currentStyles = _mergeAndSync[1];\n      var currentVelocities = _mergeAndSync[2];\n      var lastIdealStyles = _mergeAndSync[3];\n      var lastIdealVelocities = _mergeAndSync[4];\n\n      for (var i = 0; i < unreadPropStyles.length; i++) {\n        var unreadPropStyle = unreadPropStyles[i].style;\n        var dirty = false;\n\n        for (var key in unreadPropStyle) {\n          if (!Object.prototype.hasOwnProperty.call(unreadPropStyle, key)) {\n            continue;\n          }\n\n          var styleValue = unreadPropStyle[key];\n          if (typeof styleValue === 'number') {\n            if (!dirty) {\n              dirty = true;\n              currentStyles[i] = _extends({}, currentStyles[i]);\n              currentVelocities[i] = _extends({}, currentVelocities[i]);\n              lastIdealStyles[i] = _extends({}, lastIdealStyles[i]);\n              lastIdealVelocities[i] = _extends({}, lastIdealVelocities[i]);\n              mergedPropsStyles[i] = {\n                key: mergedPropsStyles[i].key,\n                data: mergedPropsStyles[i].data,\n                style: _extends({}, mergedPropsStyles[i].style)\n              };\n            }\n            currentStyles[i][key] = styleValue;\n            currentVelocities[i][key] = 0;\n            lastIdealStyles[i][key] = styleValue;\n            lastIdealVelocities[i][key] = 0;\n            mergedPropsStyles[i].style[key] = styleValue;\n          }\n        }\n      }\n\n      // unlike the other 2 components, we can't detect staleness and optionally\n      // opt out of setState here. each style object's data might contain new\n      // stuff we're not/cannot compare\n      _this.setState({\n        currentStyles: currentStyles,\n        currentVelocities: currentVelocities,\n        mergedPropsStyles: mergedPropsStyles,\n        lastIdealStyles: lastIdealStyles,\n        lastIdealVelocities: lastIdealVelocities\n      });\n    };\n\n    this.startAnimationIfNecessary = function () {\n      if (_this.unmounting) {\n        return;\n      }\n\n      // TODO: when config is {a: 10} and dest is {a: 10} do we raf once and\n      // call cb? No, otherwise accidental parent rerender causes cb trigger\n      _this.animationID = _raf2['default'](function (timestamp) {\n        // https://github.com/chenglou/react-motion/pull/420\n        // > if execution passes the conditional if (this.unmounting), then\n        // executes async defaultRaf and after that component unmounts and after\n        // that the callback of defaultRaf is called, then setState will be called\n        // on unmounted component.\n        if (_this.unmounting) {\n          return;\n        }\n\n        var propStyles = _this.props.styles;\n        var destStyles = typeof propStyles === 'function' ? propStyles(rehydrateStyles(_this.state.mergedPropsStyles, _this.unreadPropStyles, _this.state.lastIdealStyles)) : propStyles;\n\n        // check if we need to animate in the first place\n        if (shouldStopAnimationAll(_this.state.currentStyles, destStyles, _this.state.currentVelocities, _this.state.mergedPropsStyles)) {\n          // no need to cancel animationID here; shouldn't have any in flight\n          _this.animationID = null;\n          _this.accumulatedTime = 0;\n          return;\n        }\n\n        var currentTime = timestamp || _performanceNow2['default']();\n        var timeDelta = currentTime - _this.prevTime;\n        _this.prevTime = currentTime;\n        _this.accumulatedTime = _this.accumulatedTime + timeDelta;\n        // more than 10 frames? prolly switched browser tab. Restart\n        if (_this.accumulatedTime > msPerFrame * 10) {\n          _this.accumulatedTime = 0;\n        }\n\n        if (_this.accumulatedTime === 0) {\n          // no need to cancel animationID here; shouldn't have any in flight\n          _this.animationID = null;\n          _this.startAnimationIfNecessary();\n          return;\n        }\n\n        var currentFrameCompletion = (_this.accumulatedTime - Math.floor(_this.accumulatedTime / msPerFrame) * msPerFrame) / msPerFrame;\n        var framesToCatchUp = Math.floor(_this.accumulatedTime / msPerFrame);\n\n        var _mergeAndSync2 = mergeAndSync(_this.props.willEnter, _this.props.willLeave, _this.props.didLeave, _this.state.mergedPropsStyles, destStyles, _this.state.currentStyles, _this.state.currentVelocities, _this.state.lastIdealStyles, _this.state.lastIdealVelocities);\n\n        var newMergedPropsStyles = _mergeAndSync2[0];\n        var newCurrentStyles = _mergeAndSync2[1];\n        var newCurrentVelocities = _mergeAndSync2[2];\n        var newLastIdealStyles = _mergeAndSync2[3];\n        var newLastIdealVelocities = _mergeAndSync2[4];\n\n        for (var i = 0; i < newMergedPropsStyles.length; i++) {\n          var newMergedPropsStyle = newMergedPropsStyles[i].style;\n          var newCurrentStyle = {};\n          var newCurrentVelocity = {};\n          var newLastIdealStyle = {};\n          var newLastIdealVelocity = {};\n\n          for (var key in newMergedPropsStyle) {\n            if (!Object.prototype.hasOwnProperty.call(newMergedPropsStyle, key)) {\n              continue;\n            }\n\n            var styleValue = newMergedPropsStyle[key];\n            if (typeof styleValue === 'number') {\n              newCurrentStyle[key] = styleValue;\n              newCurrentVelocity[key] = 0;\n              newLastIdealStyle[key] = styleValue;\n              newLastIdealVelocity[key] = 0;\n            } else {\n              var newLastIdealStyleValue = newLastIdealStyles[i][key];\n              var newLastIdealVelocityValue = newLastIdealVelocities[i][key];\n              for (var j = 0; j < framesToCatchUp; j++) {\n                var _stepper = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\n                newLastIdealStyleValue = _stepper[0];\n                newLastIdealVelocityValue = _stepper[1];\n              }\n\n              var _stepper2 = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\n              var nextIdealX = _stepper2[0];\n              var nextIdealV = _stepper2[1];\n\n              newCurrentStyle[key] = newLastIdealStyleValue + (nextIdealX - newLastIdealStyleValue) * currentFrameCompletion;\n              newCurrentVelocity[key] = newLastIdealVelocityValue + (nextIdealV - newLastIdealVelocityValue) * currentFrameCompletion;\n              newLastIdealStyle[key] = newLastIdealStyleValue;\n              newLastIdealVelocity[key] = newLastIdealVelocityValue;\n            }\n          }\n\n          newLastIdealStyles[i] = newLastIdealStyle;\n          newLastIdealVelocities[i] = newLastIdealVelocity;\n          newCurrentStyles[i] = newCurrentStyle;\n          newCurrentVelocities[i] = newCurrentVelocity;\n        }\n\n        _this.animationID = null;\n        // the amount we're looped over above\n        _this.accumulatedTime -= framesToCatchUp * msPerFrame;\n\n        _this.setState({\n          currentStyles: newCurrentStyles,\n          currentVelocities: newCurrentVelocities,\n          lastIdealStyles: newLastIdealStyles,\n          lastIdealVelocities: newLastIdealVelocities,\n          mergedPropsStyles: newMergedPropsStyles\n        });\n\n        _this.unreadPropStyles = null;\n\n        _this.startAnimationIfNecessary();\n      });\n    };\n\n    this.state = this.defaultState();\n  }\n\n  TransitionMotion.prototype.defaultState = function defaultState() {\n    var _props = this.props;\n    var defaultStyles = _props.defaultStyles;\n    var styles = _props.styles;\n    var willEnter = _props.willEnter;\n    var willLeave = _props.willLeave;\n    var didLeave = _props.didLeave;\n\n    var destStyles = typeof styles === 'function' ? styles(defaultStyles) : styles;\n\n    // this is special. for the first time around, we don't have a comparison\n    // between last (no last) and current merged props. we'll compute last so:\n    // say default is {a, b} and styles (dest style) is {b, c}, we'll\n    // fabricate last as {a, b}\n    var oldMergedPropsStyles = undefined;\n    if (defaultStyles == null) {\n      oldMergedPropsStyles = destStyles;\n    } else {\n      oldMergedPropsStyles = defaultStyles.map(function (defaultStyleCell) {\n        // TODO: key search code\n        for (var i = 0; i < destStyles.length; i++) {\n          if (destStyles[i].key === defaultStyleCell.key) {\n            return destStyles[i];\n          }\n        }\n        return defaultStyleCell;\n      });\n    }\n    var oldCurrentStyles = defaultStyles == null ? destStyles.map(function (s) {\n      return _stripStyle2['default'](s.style);\n    }) : defaultStyles.map(function (s) {\n      return _stripStyle2['default'](s.style);\n    });\n    var oldCurrentVelocities = defaultStyles == null ? destStyles.map(function (s) {\n      return _mapToZero2['default'](s.style);\n    }) : defaultStyles.map(function (s) {\n      return _mapToZero2['default'](s.style);\n    });\n\n    var _mergeAndSync3 = mergeAndSync(\n    // Because this is an old-style createReactClass component, Flow doesn't\n    // understand that the willEnter and willLeave props have default values\n    // and will always be present.\n    willEnter, willLeave, didLeave, oldMergedPropsStyles, destStyles, oldCurrentStyles, oldCurrentVelocities, oldCurrentStyles, // oldLastIdealStyles really\n    oldCurrentVelocities);\n\n    var mergedPropsStyles = _mergeAndSync3[0];\n    var currentStyles = _mergeAndSync3[1];\n    var currentVelocities = _mergeAndSync3[2];\n    var lastIdealStyles = _mergeAndSync3[3];\n    var lastIdealVelocities = _mergeAndSync3[4];\n    // oldLastIdealVelocities really\n\n    return {\n      currentStyles: currentStyles,\n      currentVelocities: currentVelocities,\n      lastIdealStyles: lastIdealStyles,\n      lastIdealVelocities: lastIdealVelocities,\n      mergedPropsStyles: mergedPropsStyles\n    };\n  };\n\n  // after checking for unreadPropStyles != null, we manually go set the\n  // non-interpolating values (those that are a number, without a spring\n  // config)\n\n  TransitionMotion.prototype.componentDidMount = function componentDidMount() {\n    this.prevTime = _performanceNow2['default']();\n    this.startAnimationIfNecessary();\n  };\n\n  TransitionMotion.prototype.componentWillReceiveProps = function componentWillReceiveProps(props) {\n    if (this.unreadPropStyles) {\n      // previous props haven't had the chance to be set yet; set them here\n      this.clearUnreadPropStyle(this.unreadPropStyles);\n    }\n\n    var styles = props.styles;\n    if (typeof styles === 'function') {\n      this.unreadPropStyles = styles(rehydrateStyles(this.state.mergedPropsStyles, this.unreadPropStyles, this.state.lastIdealStyles));\n    } else {\n      this.unreadPropStyles = styles;\n    }\n\n    if (this.animationID == null) {\n      this.prevTime = _performanceNow2['default']();\n      this.startAnimationIfNecessary();\n    }\n  };\n\n  TransitionMotion.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.unmounting = true;\n    if (this.animationID != null) {\n      _raf2['default'].cancel(this.animationID);\n      this.animationID = null;\n    }\n  };\n\n  TransitionMotion.prototype.render = function render() {\n    var hydratedStyles = rehydrateStyles(this.state.mergedPropsStyles, this.unreadPropStyles, this.state.currentStyles);\n    var renderedChildren = this.props.children(hydratedStyles);\n    return renderedChildren && _react2['default'].Children.only(renderedChildren);\n  };\n\n  return TransitionMotion;\n})(_react2['default'].Component);\n\nexports['default'] = TransitionMotion;\nmodule.exports = exports['default'];\n\n// list of styles, each containing interpolating values. Part of what's passed\n// to children function. Notice that this is\n// Array<ActualInterpolatingStyleObject>, without the wrapper that is {key: ...,\n// data: ... style: ActualInterpolatingStyleObject}. Only mergedPropsStyles\n// contains the key & data info (so that we only have a single source of truth\n// for these, and to save space). Check the comment for `rehydrateStyles` to\n// see how we regenerate the entirety of what's passed to children function\n\n// the array that keeps track of currently rendered stuff! Including stuff\n// that you've unmounted but that's still animating. This is where it lives\n\n// it's possible that currentStyle's value is stale: if props is immediately\n// changed from 0 to 400 to spring(0) again, the async currentStyle is still\n// at 0 (didn't have time to tick and interpolate even once). If we naively\n// compare currentStyle with destVal it'll be 0 === 0 (no animation, stop).\n// In reality currentStyle should be 400","\n\n// core keys merging algorithm. If previous render's keys are [a, b], and the\n// next render's [c, b, d], what's the final merged keys and ordering?\n\n// - c and a must both be before b\n// - b before d\n// - ordering between a and c ambiguous\n\n// this reduces to merging two partially ordered lists (e.g. lists where not\n// every item has a definite ordering, like comparing a and c above). For the\n// ambiguous ordering we deterministically choose to place the next render's\n// item after the previous'; so c after a\n\n// this is called a topological sorting. Except the existing algorithms don't\n// work well with js bc of the amount of allocation, and isn't optimized for our\n// current use-case bc the runtime is linear in terms of edges (see wiki for\n// meaning), which is huge when two lists have many common elements\n'use strict';\n\nexports.__esModule = true;\nexports['default'] = mergeDiff;\n\nfunction mergeDiff(prev, next, onRemove) {\n  // bookkeeping for easier access of a key's index below. This is 2 allocations +\n  // potentially triggering chrome hash map mode for objs (so it might be faster\n\n  var prevKeyIndex = {};\n  for (var i = 0; i < prev.length; i++) {\n    prevKeyIndex[prev[i].key] = i;\n  }\n  var nextKeyIndex = {};\n  for (var i = 0; i < next.length; i++) {\n    nextKeyIndex[next[i].key] = i;\n  }\n\n  // first, an overly elaborate way of merging prev and next, eliminating\n  // duplicates (in terms of keys). If there's dupe, keep the item in next).\n  // This way of writing it saves allocations\n  var ret = [];\n  for (var i = 0; i < next.length; i++) {\n    ret[i] = next[i];\n  }\n  for (var i = 0; i < prev.length; i++) {\n    if (!Object.prototype.hasOwnProperty.call(nextKeyIndex, prev[i].key)) {\n      // this is called my TM's `mergeAndSync`, which calls willLeave. We don't\n      // merge in keys that the user desires to kill\n      var fill = onRemove(i, prev[i]);\n      if (fill != null) {\n        ret.push(fill);\n      }\n    }\n  }\n\n  // now all the items all present. Core sorting logic to have the right order\n  return ret.sort(function (a, b) {\n    var nextOrderA = nextKeyIndex[a.key];\n    var nextOrderB = nextKeyIndex[b.key];\n    var prevOrderA = prevKeyIndex[a.key];\n    var prevOrderB = prevKeyIndex[b.key];\n\n    if (nextOrderA != null && nextOrderB != null) {\n      // both keys in next\n      return nextKeyIndex[a.key] - nextKeyIndex[b.key];\n    } else if (prevOrderA != null && prevOrderB != null) {\n      // both keys in prev\n      return prevKeyIndex[a.key] - prevKeyIndex[b.key];\n    } else if (nextOrderA != null) {\n      // key a in next, key b in prev\n\n      // how to determine the order between a and b? We find a \"pivot\" (term\n      // abuse), a key present in both prev and next, that is sandwiched between\n      // a and b. In the context of our above example, if we're comparing a and\n      // d, b's (the only) pivot\n      for (var i = 0; i < next.length; i++) {\n        var pivot = next[i].key;\n        if (!Object.prototype.hasOwnProperty.call(prevKeyIndex, pivot)) {\n          continue;\n        }\n\n        if (nextOrderA < nextKeyIndex[pivot] && prevOrderB > prevKeyIndex[pivot]) {\n          return -1;\n        } else if (nextOrderA > nextKeyIndex[pivot] && prevOrderB < prevKeyIndex[pivot]) {\n          return 1;\n        }\n      }\n      // pluggable. default to: next bigger than prev\n      return 1;\n    }\n    // prevOrderA, nextOrderB\n    for (var i = 0; i < next.length; i++) {\n      var pivot = next[i].key;\n      if (!Object.prototype.hasOwnProperty.call(prevKeyIndex, pivot)) {\n        continue;\n      }\n      if (nextOrderB < nextKeyIndex[pivot] && prevOrderA > prevKeyIndex[pivot]) {\n        return 1;\n      } else if (nextOrderB > nextKeyIndex[pivot] && prevOrderA < prevKeyIndex[pivot]) {\n        return -1;\n      }\n    }\n    // pluggable. default to: next bigger than prev\n    return -1;\n  });\n}\n\nmodule.exports = exports['default'];\n// to loop through and find a key's index each time), but I no longer care","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports['default'] = spring;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _presets = require('./presets');\n\nvar _presets2 = _interopRequireDefault(_presets);\n\nvar defaultConfig = _extends({}, _presets2['default'].noWobble, {\n  precision: 0.01\n});\n\nfunction spring(val, config) {\n  return _extends({}, defaultConfig, config, { val: val });\n}\n\nmodule.exports = exports['default'];","'use strict';\n\nexports.__esModule = true;\nexports['default'] = reorderKeys;\n\nvar hasWarned = false;\n\nfunction reorderKeys() {\n  if (process.env.NODE_ENV === 'development') {\n    if (!hasWarned) {\n      hasWarned = true;\n      console.error('`reorderKeys` has been removed, since it is no longer needed for TransitionMotion\\'s new styles array API.');\n    }\n  }\n}\n\nmodule.exports = exports['default'];","import PropTypes from 'prop-types';\nimport React from 'react';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// require('hammerjs') when in a browser. This is safe because Hammer is only\n// invoked in componentDidMount, which is not executed on the server.\nvar Hammer = typeof window !== 'undefined' ? require('hammerjs') : undefined;\n\nvar privateProps = {\n\tchildren: true,\n\tdirection: true,\n\toptions: true,\n\trecognizeWith: true,\n\tvertical: true\n};\n\n/**\n * Hammer Component\n * ================\n */\n\nvar handlerToEvent = {\n\taction: 'tap press',\n\tonDoubleTap: 'doubletap',\n\tonPan: 'pan',\n\tonPanCancel: 'pancancel',\n\tonPanEnd: 'panend',\n\tonPanStart: 'panstart',\n\tonPinch: 'pinch',\n\tonPinchCancel: 'pinchcancel',\n\tonPinchEnd: 'pinchend',\n\tonPinchIn: 'pinchin',\n\tonPinchOut: 'pinchout',\n\tonPinchStart: 'pinchstart',\n\tonPress: 'press',\n\tonPressUp: 'pressup',\n\tonRotate: 'rotate',\n\tonRotateCancel: 'rotatecancel',\n\tonRotateEnd: 'rotateend',\n\tonRotateMove: 'rotatemove',\n\tonRotateStart: 'rotatestart',\n\tonSwipe: 'swipe',\n\tonSwipeRight: 'swiperight',\n\tonSwipeLeft: 'swipeleft',\n\tonSwipeUp: 'swipeup',\n\tonSwipeDown: 'swipedown',\n\tonTap: 'tap'\n};\n\nObject.keys(handlerToEvent).forEach(function (i) {\n\tprivateProps[i] = true;\n});\n\nfunction updateHammer(hammer, props) {\n\tif (props.hasOwnProperty('vertical')) {\n\t\tconsole.warn('vertical is deprecated, please use `direction` instead');\n\t}\n\n\tvar directionProp = props.direction;\n\tif (directionProp || props.hasOwnProperty('vertical')) {\n\t\tvar direction = directionProp ? directionProp : props.vertical ? 'DIRECTION_ALL' : 'DIRECTION_HORIZONTAL';\n\t\thammer.get('pan').set({ direction: Hammer[direction] });\n\t\thammer.get('swipe').set({ direction: Hammer[direction] });\n\t}\n\n\tif (props.options) {\n\t\tObject.keys(props.options).forEach(function (option) {\n\t\t\tif (option === 'recognizers') {\n\t\t\t\tObject.keys(props.options.recognizers).forEach(function (gesture) {\n\t\t\t\t\tvar recognizer = hammer.get(gesture);\n\t\t\t\t\trecognizer.set(props.options.recognizers[gesture]);\n\t\t\t\t\tif (props.options.recognizers[gesture].requireFailure) {\n\t\t\t\t\t\trecognizer.requireFailure(props.options.recognizers[gesture].requireFailure);\n\t\t\t\t\t}\n\t\t\t\t}, this);\n\t\t\t} else {\n\t\t\t\tvar key = option;\n\t\t\t\tvar optionObj = {};\n\t\t\t\toptionObj[key] = props.options[option];\n\t\t\t\thammer.set(optionObj);\n\t\t\t}\n\t\t}, this);\n\t}\n\n\tif (props.recognizeWith) {\n\t\tObject.keys(props.recognizeWith).forEach(function (gesture) {\n\t\t\tvar recognizer = hammer.get(gesture);\n\t\t\trecognizer.recognizeWith(props.recognizeWith[gesture]);\n\t\t}, this);\n\t}\n\n\tObject.keys(props).forEach(function (p) {\n\t\tvar e = handlerToEvent[p];\n\t\tif (e) {\n\t\t\thammer.off(e);\n\t\t\thammer.on(e, props[p]);\n\t\t}\n\t});\n}\n\nvar HammerComponent = function (_React$Component) {\n\t_inherits(HammerComponent, _React$Component);\n\n\tfunction HammerComponent() {\n\t\t_classCallCheck(this, HammerComponent);\n\n\t\treturn _possibleConstructorReturn(this, (HammerComponent.__proto__ || Object.getPrototypeOf(HammerComponent)).apply(this, arguments));\n\t}\n\n\t_createClass(HammerComponent, [{\n\t\tkey: 'componentDidMount',\n\t\tvalue: function componentDidMount() {\n\t\t\tthis.hammer = new Hammer(this.domElement);\n\t\t\tupdateHammer(this.hammer, this.props);\n\t\t}\n\t}, {\n\t\tkey: 'componentDidUpdate',\n\t\tvalue: function componentDidUpdate() {\n\t\t\tif (this.hammer) {\n\t\t\t\tupdateHammer(this.hammer, this.props);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'componentWillUnmount',\n\t\tvalue: function componentWillUnmount() {\n\t\t\tif (this.hammer) {\n\t\t\t\tthis.hammer.stop();\n\t\t\t\tthis.hammer.destroy();\n\t\t\t}\n\t\t\tthis.hammer = null;\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar props = {};\n\n\t\t\tObject.keys(this.props).forEach(function (i) {\n\t\t\t\tif (!privateProps[i]) {\n\t\t\t\t\tprops[i] = this.props[i];\n\t\t\t\t}\n\t\t\t}, this);\n\n\t\t\tvar self = this;\n\t\t\tprops.ref = function (domElement) {\n\t\t\t\tif (self.props.ref) {\n\t\t\t\t\tself.props.ref(domElement);\n\t\t\t\t}\n\t\t\t\tself.domElement = domElement;\n\t\t\t};\n\n\t\t\t// Reuse the child provided\n\t\t\t// This makes it flexible to use whatever element is wanted (div, ul, etc)\n\t\t\treturn React.cloneElement(React.Children.only(this.props.children), props);\n\t\t}\n\t}]);\n\n\treturn HammerComponent;\n}(React.Component);\n\nHammerComponent.displayName = 'Hammer';\nHammerComponent.propTypes = {\n\tclassName: PropTypes.string\n};\n\nexport default HammerComponent;\n","/*! Hammer.JS - v2.0.7 - 2016-04-22\n * http://hammerjs.github.io/\n *\n * Copyright (c) 2016 Jorik Tangelder;\n * Licensed under the MIT license */\n(function(window, document, exportName, undefined) {\n  'use strict';\n\nvar VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];\nvar TEST_ELEMENT = document.createElement('div');\n\nvar TYPE_FUNCTION = 'function';\n\nvar round = Math.round;\nvar abs = Math.abs;\nvar now = Date.now;\n\n/**\n * set a timeout with a given scope\n * @param {Function} fn\n * @param {Number} timeout\n * @param {Object} context\n * @returns {number}\n */\nfunction setTimeoutContext(fn, timeout, context) {\n    return setTimeout(bindFn(fn, context), timeout);\n}\n\n/**\n * if the argument is an array, we want to execute the fn on each entry\n * if it aint an array we don't want to do a thing.\n * this is used by all the methods that accept a single and array argument.\n * @param {*|Array} arg\n * @param {String} fn\n * @param {Object} [context]\n * @returns {Boolean}\n */\nfunction invokeArrayArg(arg, fn, context) {\n    if (Array.isArray(arg)) {\n        each(arg, context[fn], context);\n        return true;\n    }\n    return false;\n}\n\n/**\n * walk objects and arrays\n * @param {Object} obj\n * @param {Function} iterator\n * @param {Object} context\n */\nfunction each(obj, iterator, context) {\n    var i;\n\n    if (!obj) {\n        return;\n    }\n\n    if (obj.forEach) {\n        obj.forEach(iterator, context);\n    } else if (obj.length !== undefined) {\n        i = 0;\n        while (i < obj.length) {\n            iterator.call(context, obj[i], i, obj);\n            i++;\n        }\n    } else {\n        for (i in obj) {\n            obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);\n        }\n    }\n}\n\n/**\n * wrap a method with a deprecation warning and stack trace\n * @param {Function} method\n * @param {String} name\n * @param {String} message\n * @returns {Function} A new function wrapping the supplied method.\n */\nfunction deprecate(method, name, message) {\n    var deprecationMessage = 'DEPRECATED METHOD: ' + name + '\\n' + message + ' AT \\n';\n    return function() {\n        var e = new Error('get-stack-trace');\n        var stack = e && e.stack ? e.stack.replace(/^[^\\(]+?[\\n$]/gm, '')\n            .replace(/^\\s+at\\s+/gm, '')\n            .replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';\n\n        var log = window.console && (window.console.warn || window.console.log);\n        if (log) {\n            log.call(window.console, deprecationMessage, stack);\n        }\n        return method.apply(this, arguments);\n    };\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} target\n * @param {...Object} objects_to_assign\n * @returns {Object} target\n */\nvar assign;\nif (typeof Object.assign !== 'function') {\n    assign = function assign(target) {\n        if (target === undefined || target === null) {\n            throw new TypeError('Cannot convert undefined or null to object');\n        }\n\n        var output = Object(target);\n        for (var index = 1; index < arguments.length; index++) {\n            var source = arguments[index];\n            if (source !== undefined && source !== null) {\n                for (var nextKey in source) {\n                    if (source.hasOwnProperty(nextKey)) {\n                        output[nextKey] = source[nextKey];\n                    }\n                }\n            }\n        }\n        return output;\n    };\n} else {\n    assign = Object.assign;\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} dest\n * @param {Object} src\n * @param {Boolean} [merge=false]\n * @returns {Object} dest\n */\nvar extend = deprecate(function extend(dest, src, merge) {\n    var keys = Object.keys(src);\n    var i = 0;\n    while (i < keys.length) {\n        if (!merge || (merge && dest[keys[i]] === undefined)) {\n            dest[keys[i]] = src[keys[i]];\n        }\n        i++;\n    }\n    return dest;\n}, 'extend', 'Use `assign`.');\n\n/**\n * merge the values from src in the dest.\n * means that properties that exist in dest will not be overwritten by src\n * @param {Object} dest\n * @param {Object} src\n * @returns {Object} dest\n */\nvar merge = deprecate(function merge(dest, src) {\n    return extend(dest, src, true);\n}, 'merge', 'Use `assign`.');\n\n/**\n * simple class inheritance\n * @param {Function} child\n * @param {Function} base\n * @param {Object} [properties]\n */\nfunction inherit(child, base, properties) {\n    var baseP = base.prototype,\n        childP;\n\n    childP = child.prototype = Object.create(baseP);\n    childP.constructor = child;\n    childP._super = baseP;\n\n    if (properties) {\n        assign(childP, properties);\n    }\n}\n\n/**\n * simple function bind\n * @param {Function} fn\n * @param {Object} context\n * @returns {Function}\n */\nfunction bindFn(fn, context) {\n    return function boundFn() {\n        return fn.apply(context, arguments);\n    };\n}\n\n/**\n * let a boolean value also be a function that must return a boolean\n * this first item in args will be used as the context\n * @param {Boolean|Function} val\n * @param {Array} [args]\n * @returns {Boolean}\n */\nfunction boolOrFn(val, args) {\n    if (typeof val == TYPE_FUNCTION) {\n        return val.apply(args ? args[0] || undefined : undefined, args);\n    }\n    return val;\n}\n\n/**\n * use the val2 when val1 is undefined\n * @param {*} val1\n * @param {*} val2\n * @returns {*}\n */\nfunction ifUndefined(val1, val2) {\n    return (val1 === undefined) ? val2 : val1;\n}\n\n/**\n * addEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction addEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.addEventListener(type, handler, false);\n    });\n}\n\n/**\n * removeEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction removeEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.removeEventListener(type, handler, false);\n    });\n}\n\n/**\n * find if a node is in the given parent\n * @method hasParent\n * @param {HTMLElement} node\n * @param {HTMLElement} parent\n * @return {Boolean} found\n */\nfunction hasParent(node, parent) {\n    while (node) {\n        if (node == parent) {\n            return true;\n        }\n        node = node.parentNode;\n    }\n    return false;\n}\n\n/**\n * small indexOf wrapper\n * @param {String} str\n * @param {String} find\n * @returns {Boolean} found\n */\nfunction inStr(str, find) {\n    return str.indexOf(find) > -1;\n}\n\n/**\n * split string on whitespace\n * @param {String} str\n * @returns {Array} words\n */\nfunction splitStr(str) {\n    return str.trim().split(/\\s+/g);\n}\n\n/**\n * find if a array contains the object using indexOf or a simple polyFill\n * @param {Array} src\n * @param {String} find\n * @param {String} [findByKey]\n * @return {Boolean|Number} false when not found, or the index\n */\nfunction inArray(src, find, findByKey) {\n    if (src.indexOf && !findByKey) {\n        return src.indexOf(find);\n    } else {\n        var i = 0;\n        while (i < src.length) {\n            if ((findByKey && src[i][findByKey] == find) || (!findByKey && src[i] === find)) {\n                return i;\n            }\n            i++;\n        }\n        return -1;\n    }\n}\n\n/**\n * convert array-like objects to real arrays\n * @param {Object} obj\n * @returns {Array}\n */\nfunction toArray(obj) {\n    return Array.prototype.slice.call(obj, 0);\n}\n\n/**\n * unique array with objects based on a key (like 'id') or just by the array's value\n * @param {Array} src [{id:1},{id:2},{id:1}]\n * @param {String} [key]\n * @param {Boolean} [sort=False]\n * @returns {Array} [{id:1},{id:2}]\n */\nfunction uniqueArray(src, key, sort) {\n    var results = [];\n    var values = [];\n    var i = 0;\n\n    while (i < src.length) {\n        var val = key ? src[i][key] : src[i];\n        if (inArray(values, val) < 0) {\n            results.push(src[i]);\n        }\n        values[i] = val;\n        i++;\n    }\n\n    if (sort) {\n        if (!key) {\n            results = results.sort();\n        } else {\n            results = results.sort(function sortUniqueArray(a, b) {\n                return a[key] > b[key];\n            });\n        }\n    }\n\n    return results;\n}\n\n/**\n * get the prefixed property\n * @param {Object} obj\n * @param {String} property\n * @returns {String|Undefined} prefixed\n */\nfunction prefixed(obj, property) {\n    var prefix, prop;\n    var camelProp = property[0].toUpperCase() + property.slice(1);\n\n    var i = 0;\n    while (i < VENDOR_PREFIXES.length) {\n        prefix = VENDOR_PREFIXES[i];\n        prop = (prefix) ? prefix + camelProp : property;\n\n        if (prop in obj) {\n            return prop;\n        }\n        i++;\n    }\n    return undefined;\n}\n\n/**\n * get a unique id\n * @returns {number} uniqueId\n */\nvar _uniqueId = 1;\nfunction uniqueId() {\n    return _uniqueId++;\n}\n\n/**\n * get the window object of an element\n * @param {HTMLElement} element\n * @returns {DocumentView|Window}\n */\nfunction getWindowForElement(element) {\n    var doc = element.ownerDocument || element;\n    return (doc.defaultView || doc.parentWindow || window);\n}\n\nvar MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;\n\nvar SUPPORT_TOUCH = ('ontouchstart' in window);\nvar SUPPORT_POINTER_EVENTS = prefixed(window, 'PointerEvent') !== undefined;\nvar SUPPORT_ONLY_TOUCH = SUPPORT_TOUCH && MOBILE_REGEX.test(navigator.userAgent);\n\nvar INPUT_TYPE_TOUCH = 'touch';\nvar INPUT_TYPE_PEN = 'pen';\nvar INPUT_TYPE_MOUSE = 'mouse';\nvar INPUT_TYPE_KINECT = 'kinect';\n\nvar COMPUTE_INTERVAL = 25;\n\nvar INPUT_START = 1;\nvar INPUT_MOVE = 2;\nvar INPUT_END = 4;\nvar INPUT_CANCEL = 8;\n\nvar DIRECTION_NONE = 1;\nvar DIRECTION_LEFT = 2;\nvar DIRECTION_RIGHT = 4;\nvar DIRECTION_UP = 8;\nvar DIRECTION_DOWN = 16;\n\nvar DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;\nvar DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;\nvar DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;\n\nvar PROPS_XY = ['x', 'y'];\nvar PROPS_CLIENT_XY = ['clientX', 'clientY'];\n\n/**\n * create new input type manager\n * @param {Manager} manager\n * @param {Function} callback\n * @returns {Input}\n * @constructor\n */\nfunction Input(manager, callback) {\n    var self = this;\n    this.manager = manager;\n    this.callback = callback;\n    this.element = manager.element;\n    this.target = manager.options.inputTarget;\n\n    // smaller wrapper around the handler, for the scope and the enabled state of the manager,\n    // so when disabled the input events are completely bypassed.\n    this.domHandler = function(ev) {\n        if (boolOrFn(manager.options.enable, [manager])) {\n            self.handler(ev);\n        }\n    };\n\n    this.init();\n\n}\n\nInput.prototype = {\n    /**\n     * should handle the inputEvent data and trigger the callback\n     * @virtual\n     */\n    handler: function() { },\n\n    /**\n     * bind the events\n     */\n    init: function() {\n        this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    },\n\n    /**\n     * unbind the events\n     */\n    destroy: function() {\n        this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    }\n};\n\n/**\n * create new input type manager\n * called by the Manager constructor\n * @param {Hammer} manager\n * @returns {Input}\n */\nfunction createInputInstance(manager) {\n    var Type;\n    var inputClass = manager.options.inputClass;\n\n    if (inputClass) {\n        Type = inputClass;\n    } else if (SUPPORT_POINTER_EVENTS) {\n        Type = PointerEventInput;\n    } else if (SUPPORT_ONLY_TOUCH) {\n        Type = TouchInput;\n    } else if (!SUPPORT_TOUCH) {\n        Type = MouseInput;\n    } else {\n        Type = TouchMouseInput;\n    }\n    return new (Type)(manager, inputHandler);\n}\n\n/**\n * handle input events\n * @param {Manager} manager\n * @param {String} eventType\n * @param {Object} input\n */\nfunction inputHandler(manager, eventType, input) {\n    var pointersLen = input.pointers.length;\n    var changedPointersLen = input.changedPointers.length;\n    var isFirst = (eventType & INPUT_START && (pointersLen - changedPointersLen === 0));\n    var isFinal = (eventType & (INPUT_END | INPUT_CANCEL) && (pointersLen - changedPointersLen === 0));\n\n    input.isFirst = !!isFirst;\n    input.isFinal = !!isFinal;\n\n    if (isFirst) {\n        manager.session = {};\n    }\n\n    // source event is the normalized value of the domEvents\n    // like 'touchstart, mouseup, pointerdown'\n    input.eventType = eventType;\n\n    // compute scale, rotation etc\n    computeInputData(manager, input);\n\n    // emit secret event\n    manager.emit('hammer.input', input);\n\n    manager.recognize(input);\n    manager.session.prevInput = input;\n}\n\n/**\n * extend the data with some usable properties like scale, rotate, velocity etc\n * @param {Object} manager\n * @param {Object} input\n */\nfunction computeInputData(manager, input) {\n    var session = manager.session;\n    var pointers = input.pointers;\n    var pointersLength = pointers.length;\n\n    // store the first input to calculate the distance and direction\n    if (!session.firstInput) {\n        session.firstInput = simpleCloneInputData(input);\n    }\n\n    // to compute scale and rotation we need to store the multiple touches\n    if (pointersLength > 1 && !session.firstMultiple) {\n        session.firstMultiple = simpleCloneInputData(input);\n    } else if (pointersLength === 1) {\n        session.firstMultiple = false;\n    }\n\n    var firstInput = session.firstInput;\n    var firstMultiple = session.firstMultiple;\n    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;\n\n    var center = input.center = getCenter(pointers);\n    input.timeStamp = now();\n    input.deltaTime = input.timeStamp - firstInput.timeStamp;\n\n    input.angle = getAngle(offsetCenter, center);\n    input.distance = getDistance(offsetCenter, center);\n\n    computeDeltaXY(session, input);\n    input.offsetDirection = getDirection(input.deltaX, input.deltaY);\n\n    var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);\n    input.overallVelocityX = overallVelocity.x;\n    input.overallVelocityY = overallVelocity.y;\n    input.overallVelocity = (abs(overallVelocity.x) > abs(overallVelocity.y)) ? overallVelocity.x : overallVelocity.y;\n\n    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;\n    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;\n\n    input.maxPointers = !session.prevInput ? input.pointers.length : ((input.pointers.length >\n        session.prevInput.maxPointers) ? input.pointers.length : session.prevInput.maxPointers);\n\n    computeIntervalInputData(session, input);\n\n    // find the correct target\n    var target = manager.element;\n    if (hasParent(input.srcEvent.target, target)) {\n        target = input.srcEvent.target;\n    }\n    input.target = target;\n}\n\nfunction computeDeltaXY(session, input) {\n    var center = input.center;\n    var offset = session.offsetDelta || {};\n    var prevDelta = session.prevDelta || {};\n    var prevInput = session.prevInput || {};\n\n    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {\n        prevDelta = session.prevDelta = {\n            x: prevInput.deltaX || 0,\n            y: prevInput.deltaY || 0\n        };\n\n        offset = session.offsetDelta = {\n            x: center.x,\n            y: center.y\n        };\n    }\n\n    input.deltaX = prevDelta.x + (center.x - offset.x);\n    input.deltaY = prevDelta.y + (center.y - offset.y);\n}\n\n/**\n * velocity is calculated every x ms\n * @param {Object} session\n * @param {Object} input\n */\nfunction computeIntervalInputData(session, input) {\n    var last = session.lastInterval || input,\n        deltaTime = input.timeStamp - last.timeStamp,\n        velocity, velocityX, velocityY, direction;\n\n    if (input.eventType != INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {\n        var deltaX = input.deltaX - last.deltaX;\n        var deltaY = input.deltaY - last.deltaY;\n\n        var v = getVelocity(deltaTime, deltaX, deltaY);\n        velocityX = v.x;\n        velocityY = v.y;\n        velocity = (abs(v.x) > abs(v.y)) ? v.x : v.y;\n        direction = getDirection(deltaX, deltaY);\n\n        session.lastInterval = input;\n    } else {\n        // use latest velocity info if it doesn't overtake a minimum period\n        velocity = last.velocity;\n        velocityX = last.velocityX;\n        velocityY = last.velocityY;\n        direction = last.direction;\n    }\n\n    input.velocity = velocity;\n    input.velocityX = velocityX;\n    input.velocityY = velocityY;\n    input.direction = direction;\n}\n\n/**\n * create a simple clone from the input used for storage of firstInput and firstMultiple\n * @param {Object} input\n * @returns {Object} clonedInputData\n */\nfunction simpleCloneInputData(input) {\n    // make a simple copy of the pointers because we will get a reference if we don't\n    // we only need clientXY for the calculations\n    var pointers = [];\n    var i = 0;\n    while (i < input.pointers.length) {\n        pointers[i] = {\n            clientX: round(input.pointers[i].clientX),\n            clientY: round(input.pointers[i].clientY)\n        };\n        i++;\n    }\n\n    return {\n        timeStamp: now(),\n        pointers: pointers,\n        center: getCenter(pointers),\n        deltaX: input.deltaX,\n        deltaY: input.deltaY\n    };\n}\n\n/**\n * get the center of all the pointers\n * @param {Array} pointers\n * @return {Object} center contains `x` and `y` properties\n */\nfunction getCenter(pointers) {\n    var pointersLength = pointers.length;\n\n    // no need to loop when only one touch\n    if (pointersLength === 1) {\n        return {\n            x: round(pointers[0].clientX),\n            y: round(pointers[0].clientY)\n        };\n    }\n\n    var x = 0, y = 0, i = 0;\n    while (i < pointersLength) {\n        x += pointers[i].clientX;\n        y += pointers[i].clientY;\n        i++;\n    }\n\n    return {\n        x: round(x / pointersLength),\n        y: round(y / pointersLength)\n    };\n}\n\n/**\n * calculate the velocity between two points. unit is in px per ms.\n * @param {Number} deltaTime\n * @param {Number} x\n * @param {Number} y\n * @return {Object} velocity `x` and `y`\n */\nfunction getVelocity(deltaTime, x, y) {\n    return {\n        x: x / deltaTime || 0,\n        y: y / deltaTime || 0\n    };\n}\n\n/**\n * get the direction between two points\n * @param {Number} x\n * @param {Number} y\n * @return {Number} direction\n */\nfunction getDirection(x, y) {\n    if (x === y) {\n        return DIRECTION_NONE;\n    }\n\n    if (abs(x) >= abs(y)) {\n        return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n    }\n    return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n}\n\n/**\n * calculate the absolute distance between two points\n * @param {Object} p1 {x, y}\n * @param {Object} p2 {x, y}\n * @param {Array} [props] containing x and y keys\n * @return {Number} distance\n */\nfunction getDistance(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n\n    return Math.sqrt((x * x) + (y * y));\n}\n\n/**\n * calculate the angle between two coordinates\n * @param {Object} p1\n * @param {Object} p2\n * @param {Array} [props] containing x and y keys\n * @return {Number} angle\n */\nfunction getAngle(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.atan2(y, x) * 180 / Math.PI;\n}\n\n/**\n * calculate the rotation degrees between two pointersets\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} rotation\n */\nfunction getRotation(start, end) {\n    return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);\n}\n\n/**\n * calculate the scale factor between two pointersets\n * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} scale\n */\nfunction getScale(start, end) {\n    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);\n}\n\nvar MOUSE_INPUT_MAP = {\n    mousedown: INPUT_START,\n    mousemove: INPUT_MOVE,\n    mouseup: INPUT_END\n};\n\nvar MOUSE_ELEMENT_EVENTS = 'mousedown';\nvar MOUSE_WINDOW_EVENTS = 'mousemove mouseup';\n\n/**\n * Mouse events input\n * @constructor\n * @extends Input\n */\nfunction MouseInput() {\n    this.evEl = MOUSE_ELEMENT_EVENTS;\n    this.evWin = MOUSE_WINDOW_EVENTS;\n\n    this.pressed = false; // mousedown state\n\n    Input.apply(this, arguments);\n}\n\ninherit(MouseInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function MEhandler(ev) {\n        var eventType = MOUSE_INPUT_MAP[ev.type];\n\n        // on start we want to have the left mouse button down\n        if (eventType & INPUT_START && ev.button === 0) {\n            this.pressed = true;\n        }\n\n        if (eventType & INPUT_MOVE && ev.which !== 1) {\n            eventType = INPUT_END;\n        }\n\n        // mouse must be down\n        if (!this.pressed) {\n            return;\n        }\n\n        if (eventType & INPUT_END) {\n            this.pressed = false;\n        }\n\n        this.callback(this.manager, eventType, {\n            pointers: [ev],\n            changedPointers: [ev],\n            pointerType: INPUT_TYPE_MOUSE,\n            srcEvent: ev\n        });\n    }\n});\n\nvar POINTER_INPUT_MAP = {\n    pointerdown: INPUT_START,\n    pointermove: INPUT_MOVE,\n    pointerup: INPUT_END,\n    pointercancel: INPUT_CANCEL,\n    pointerout: INPUT_CANCEL\n};\n\n// in IE10 the pointer types is defined as an enum\nvar IE10_POINTER_TYPE_ENUM = {\n    2: INPUT_TYPE_TOUCH,\n    3: INPUT_TYPE_PEN,\n    4: INPUT_TYPE_MOUSE,\n    5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816\n};\n\nvar POINTER_ELEMENT_EVENTS = 'pointerdown';\nvar POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel';\n\n// IE10 has prefixed support, and case-sensitive\nif (window.MSPointerEvent && !window.PointerEvent) {\n    POINTER_ELEMENT_EVENTS = 'MSPointerDown';\n    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';\n}\n\n/**\n * Pointer events input\n * @constructor\n * @extends Input\n */\nfunction PointerEventInput() {\n    this.evEl = POINTER_ELEMENT_EVENTS;\n    this.evWin = POINTER_WINDOW_EVENTS;\n\n    Input.apply(this, arguments);\n\n    this.store = (this.manager.session.pointerEvents = []);\n}\n\ninherit(PointerEventInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function PEhandler(ev) {\n        var store = this.store;\n        var removePointer = false;\n\n        var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');\n        var eventType = POINTER_INPUT_MAP[eventTypeNormalized];\n        var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;\n\n        var isTouch = (pointerType == INPUT_TYPE_TOUCH);\n\n        // get index of the event in the store\n        var storeIndex = inArray(store, ev.pointerId, 'pointerId');\n\n        // start and mouse must be down\n        if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {\n            if (storeIndex < 0) {\n                store.push(ev);\n                storeIndex = store.length - 1;\n            }\n        } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n            removePointer = true;\n        }\n\n        // it not found, so the pointer hasn't been down (so it's probably a hover)\n        if (storeIndex < 0) {\n            return;\n        }\n\n        // update the event in the store\n        store[storeIndex] = ev;\n\n        this.callback(this.manager, eventType, {\n            pointers: store,\n            changedPointers: [ev],\n            pointerType: pointerType,\n            srcEvent: ev\n        });\n\n        if (removePointer) {\n            // remove from the store\n            store.splice(storeIndex, 1);\n        }\n    }\n});\n\nvar SINGLE_TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';\nvar SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Touch events input\n * @constructor\n * @extends Input\n */\nfunction SingleTouchInput() {\n    this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;\n    this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;\n    this.started = false;\n\n    Input.apply(this, arguments);\n}\n\ninherit(SingleTouchInput, Input, {\n    handler: function TEhandler(ev) {\n        var type = SINGLE_TOUCH_INPUT_MAP[ev.type];\n\n        // should we handle the touch events?\n        if (type === INPUT_START) {\n            this.started = true;\n        }\n\n        if (!this.started) {\n            return;\n        }\n\n        var touches = normalizeSingleTouches.call(this, ev, type);\n\n        // when done, reset the started state\n        if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {\n            this.started = false;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction normalizeSingleTouches(ev, type) {\n    var all = toArray(ev.touches);\n    var changed = toArray(ev.changedTouches);\n\n    if (type & (INPUT_END | INPUT_CANCEL)) {\n        all = uniqueArray(all.concat(changed), 'identifier', true);\n    }\n\n    return [all, changed];\n}\n\nvar TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Multi-user touch events input\n * @constructor\n * @extends Input\n */\nfunction TouchInput() {\n    this.evTarget = TOUCH_TARGET_EVENTS;\n    this.targetIds = {};\n\n    Input.apply(this, arguments);\n}\n\ninherit(TouchInput, Input, {\n    handler: function MTEhandler(ev) {\n        var type = TOUCH_INPUT_MAP[ev.type];\n        var touches = getTouches.call(this, ev, type);\n        if (!touches) {\n            return;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction getTouches(ev, type) {\n    var allTouches = toArray(ev.touches);\n    var targetIds = this.targetIds;\n\n    // when there is only one touch, the process can be simplified\n    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {\n        targetIds[allTouches[0].identifier] = true;\n        return [allTouches, allTouches];\n    }\n\n    var i,\n        targetTouches,\n        changedTouches = toArray(ev.changedTouches),\n        changedTargetTouches = [],\n        target = this.target;\n\n    // get target touches from touches\n    targetTouches = allTouches.filter(function(touch) {\n        return hasParent(touch.target, target);\n    });\n\n    // collect touches\n    if (type === INPUT_START) {\n        i = 0;\n        while (i < targetTouches.length) {\n            targetIds[targetTouches[i].identifier] = true;\n            i++;\n        }\n    }\n\n    // filter changed touches to only contain touches that exist in the collected target ids\n    i = 0;\n    while (i < changedTouches.length) {\n        if (targetIds[changedTouches[i].identifier]) {\n            changedTargetTouches.push(changedTouches[i]);\n        }\n\n        // cleanup removed touches\n        if (type & (INPUT_END | INPUT_CANCEL)) {\n            delete targetIds[changedTouches[i].identifier];\n        }\n        i++;\n    }\n\n    if (!changedTargetTouches.length) {\n        return;\n    }\n\n    return [\n        // merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'\n        uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true),\n        changedTargetTouches\n    ];\n}\n\n/**\n * Combined touch and mouse input\n *\n * Touch has a higher priority then mouse, and while touching no mouse events are allowed.\n * This because touch devices also emit mouse events while doing a touch.\n *\n * @constructor\n * @extends Input\n */\n\nvar DEDUP_TIMEOUT = 2500;\nvar DEDUP_DISTANCE = 25;\n\nfunction TouchMouseInput() {\n    Input.apply(this, arguments);\n\n    var handler = bindFn(this.handler, this);\n    this.touch = new TouchInput(this.manager, handler);\n    this.mouse = new MouseInput(this.manager, handler);\n\n    this.primaryTouch = null;\n    this.lastTouches = [];\n}\n\ninherit(TouchMouseInput, Input, {\n    /**\n     * handle mouse and touch events\n     * @param {Hammer} manager\n     * @param {String} inputEvent\n     * @param {Object} inputData\n     */\n    handler: function TMEhandler(manager, inputEvent, inputData) {\n        var isTouch = (inputData.pointerType == INPUT_TYPE_TOUCH),\n            isMouse = (inputData.pointerType == INPUT_TYPE_MOUSE);\n\n        if (isMouse && inputData.sourceCapabilities && inputData.sourceCapabilities.firesTouchEvents) {\n            return;\n        }\n\n        // when we're in a touch event, record touches to  de-dupe synthetic mouse event\n        if (isTouch) {\n            recordTouches.call(this, inputEvent, inputData);\n        } else if (isMouse && isSyntheticEvent.call(this, inputData)) {\n            return;\n        }\n\n        this.callback(manager, inputEvent, inputData);\n    },\n\n    /**\n     * remove the event listeners\n     */\n    destroy: function destroy() {\n        this.touch.destroy();\n        this.mouse.destroy();\n    }\n});\n\nfunction recordTouches(eventType, eventData) {\n    if (eventType & INPUT_START) {\n        this.primaryTouch = eventData.changedPointers[0].identifier;\n        setLastTouch.call(this, eventData);\n    } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n        setLastTouch.call(this, eventData);\n    }\n}\n\nfunction setLastTouch(eventData) {\n    var touch = eventData.changedPointers[0];\n\n    if (touch.identifier === this.primaryTouch) {\n        var lastTouch = {x: touch.clientX, y: touch.clientY};\n        this.lastTouches.push(lastTouch);\n        var lts = this.lastTouches;\n        var removeLastTouch = function() {\n            var i = lts.indexOf(lastTouch);\n            if (i > -1) {\n                lts.splice(i, 1);\n            }\n        };\n        setTimeout(removeLastTouch, DEDUP_TIMEOUT);\n    }\n}\n\nfunction isSyntheticEvent(eventData) {\n    var x = eventData.srcEvent.clientX, y = eventData.srcEvent.clientY;\n    for (var i = 0; i < this.lastTouches.length; i++) {\n        var t = this.lastTouches[i];\n        var dx = Math.abs(x - t.x), dy = Math.abs(y - t.y);\n        if (dx <= DEDUP_DISTANCE && dy <= DEDUP_DISTANCE) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar PREFIXED_TOUCH_ACTION = prefixed(TEST_ELEMENT.style, 'touchAction');\nvar NATIVE_TOUCH_ACTION = PREFIXED_TOUCH_ACTION !== undefined;\n\n// magical touchAction value\nvar TOUCH_ACTION_COMPUTE = 'compute';\nvar TOUCH_ACTION_AUTO = 'auto';\nvar TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented\nvar TOUCH_ACTION_NONE = 'none';\nvar TOUCH_ACTION_PAN_X = 'pan-x';\nvar TOUCH_ACTION_PAN_Y = 'pan-y';\nvar TOUCH_ACTION_MAP = getTouchActionProps();\n\n/**\n * Touch Action\n * sets the touchAction property or uses the js alternative\n * @param {Manager} manager\n * @param {String} value\n * @constructor\n */\nfunction TouchAction(manager, value) {\n    this.manager = manager;\n    this.set(value);\n}\n\nTouchAction.prototype = {\n    /**\n     * set the touchAction value on the element or enable the polyfill\n     * @param {String} value\n     */\n    set: function(value) {\n        // find out the touch-action by the event handlers\n        if (value == TOUCH_ACTION_COMPUTE) {\n            value = this.compute();\n        }\n\n        if (NATIVE_TOUCH_ACTION && this.manager.element.style && TOUCH_ACTION_MAP[value]) {\n            this.manager.element.style[PREFIXED_TOUCH_ACTION] = value;\n        }\n        this.actions = value.toLowerCase().trim();\n    },\n\n    /**\n     * just re-set the touchAction value\n     */\n    update: function() {\n        this.set(this.manager.options.touchAction);\n    },\n\n    /**\n     * compute the value for the touchAction property based on the recognizer's settings\n     * @returns {String} value\n     */\n    compute: function() {\n        var actions = [];\n        each(this.manager.recognizers, function(recognizer) {\n            if (boolOrFn(recognizer.options.enable, [recognizer])) {\n                actions = actions.concat(recognizer.getTouchAction());\n            }\n        });\n        return cleanTouchActions(actions.join(' '));\n    },\n\n    /**\n     * this method is called on each input cycle and provides the preventing of the browser behavior\n     * @param {Object} input\n     */\n    preventDefaults: function(input) {\n        var srcEvent = input.srcEvent;\n        var direction = input.offsetDirection;\n\n        // if the touch action did prevented once this session\n        if (this.manager.session.prevented) {\n            srcEvent.preventDefault();\n            return;\n        }\n\n        var actions = this.actions;\n        var hasNone = inStr(actions, TOUCH_ACTION_NONE) && !TOUCH_ACTION_MAP[TOUCH_ACTION_NONE];\n        var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y];\n        var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];\n\n        if (hasNone) {\n            //do not prevent defaults if this is a tap gesture\n\n            var isTapPointer = input.pointers.length === 1;\n            var isTapMovement = input.distance < 2;\n            var isTapTouchTime = input.deltaTime < 250;\n\n            if (isTapPointer && isTapMovement && isTapTouchTime) {\n                return;\n            }\n        }\n\n        if (hasPanX && hasPanY) {\n            // `pan-x pan-y` means browser handles all scrolling/panning, do not prevent\n            return;\n        }\n\n        if (hasNone ||\n            (hasPanY && direction & DIRECTION_HORIZONTAL) ||\n            (hasPanX && direction & DIRECTION_VERTICAL)) {\n            return this.preventSrc(srcEvent);\n        }\n    },\n\n    /**\n     * call preventDefault to prevent the browser's default behavior (scrolling in most cases)\n     * @param {Object} srcEvent\n     */\n    preventSrc: function(srcEvent) {\n        this.manager.session.prevented = true;\n        srcEvent.preventDefault();\n    }\n};\n\n/**\n * when the touchActions are collected they are not a valid value, so we need to clean things up. *\n * @param {String} actions\n * @returns {*}\n */\nfunction cleanTouchActions(actions) {\n    // none\n    if (inStr(actions, TOUCH_ACTION_NONE)) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\n    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y);\n\n    // if both pan-x and pan-y are set (different recognizers\n    // for different directions, e.g. horizontal pan but vertical swipe?)\n    // we need none (as otherwise with pan-x pan-y combined none of these\n    // recognizers will work, since the browser would handle all panning\n    if (hasPanX && hasPanY) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    // pan-x OR pan-y\n    if (hasPanX || hasPanY) {\n        return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;\n    }\n\n    // manipulation\n    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {\n        return TOUCH_ACTION_MANIPULATION;\n    }\n\n    return TOUCH_ACTION_AUTO;\n}\n\nfunction getTouchActionProps() {\n    if (!NATIVE_TOUCH_ACTION) {\n        return false;\n    }\n    var touchMap = {};\n    var cssSupports = window.CSS && window.CSS.supports;\n    ['auto', 'manipulation', 'pan-y', 'pan-x', 'pan-x pan-y', 'none'].forEach(function(val) {\n\n        // If css.supports is not supported but there is native touch-action assume it supports\n        // all values. This is the case for IE 10 and 11.\n        touchMap[val] = cssSupports ? window.CSS.supports('touch-action', val) : true;\n    });\n    return touchMap;\n}\n\n/**\n * Recognizer flow explained; *\n * All recognizers have the initial state of POSSIBLE when a input session starts.\n * The definition of a input session is from the first input until the last input, with all it's movement in it. *\n * Example session for mouse-input: mousedown -> mousemove -> mouseup\n *\n * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed\n * which determines with state it should be.\n *\n * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to\n * POSSIBLE to give it another change on the next cycle.\n *\n *               Possible\n *                  |\n *            +-----+---------------+\n *            |                     |\n *      +-----+-----+               |\n *      |           |               |\n *   Failed      Cancelled          |\n *                          +-------+------+\n *                          |              |\n *                      Recognized       Began\n *                                         |\n *                                      Changed\n *                                         |\n *                                  Ended/Recognized\n */\nvar STATE_POSSIBLE = 1;\nvar STATE_BEGAN = 2;\nvar STATE_CHANGED = 4;\nvar STATE_ENDED = 8;\nvar STATE_RECOGNIZED = STATE_ENDED;\nvar STATE_CANCELLED = 16;\nvar STATE_FAILED = 32;\n\n/**\n * Recognizer\n * Every recognizer needs to extend from this class.\n * @constructor\n * @param {Object} options\n */\nfunction Recognizer(options) {\n    this.options = assign({}, this.defaults, options || {});\n\n    this.id = uniqueId();\n\n    this.manager = null;\n\n    // default is enable true\n    this.options.enable = ifUndefined(this.options.enable, true);\n\n    this.state = STATE_POSSIBLE;\n\n    this.simultaneous = {};\n    this.requireFail = [];\n}\n\nRecognizer.prototype = {\n    /**\n     * @virtual\n     * @type {Object}\n     */\n    defaults: {},\n\n    /**\n     * set options\n     * @param {Object} options\n     * @return {Recognizer}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // also update the touchAction, in case something changed about the directions/enabled state\n        this.manager && this.manager.touchAction.update();\n        return this;\n    },\n\n    /**\n     * recognize simultaneous with an other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    recognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {\n            return this;\n        }\n\n        var simultaneous = this.simultaneous;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (!simultaneous[otherRecognizer.id]) {\n            simultaneous[otherRecognizer.id] = otherRecognizer;\n            otherRecognizer.recognizeWith(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the simultaneous link. it doesnt remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRecognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        delete this.simultaneous[otherRecognizer.id];\n        return this;\n    },\n\n    /**\n     * recognizer can only run when an other is failing\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    requireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {\n            return this;\n        }\n\n        var requireFail = this.requireFail;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (inArray(requireFail, otherRecognizer) === -1) {\n            requireFail.push(otherRecognizer);\n            otherRecognizer.requireFailure(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the requireFailure link. it does not remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRequireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        var index = inArray(this.requireFail, otherRecognizer);\n        if (index > -1) {\n            this.requireFail.splice(index, 1);\n        }\n        return this;\n    },\n\n    /**\n     * has require failures boolean\n     * @returns {boolean}\n     */\n    hasRequireFailures: function() {\n        return this.requireFail.length > 0;\n    },\n\n    /**\n     * if the recognizer can recognize simultaneous with an other recognizer\n     * @param {Recognizer} otherRecognizer\n     * @returns {Boolean}\n     */\n    canRecognizeWith: function(otherRecognizer) {\n        return !!this.simultaneous[otherRecognizer.id];\n    },\n\n    /**\n     * You should use `tryEmit` instead of `emit` directly to check\n     * that all the needed recognizers has failed before emitting.\n     * @param {Object} input\n     */\n    emit: function(input) {\n        var self = this;\n        var state = this.state;\n\n        function emit(event) {\n            self.manager.emit(event, input);\n        }\n\n        // 'panstart' and 'panmove'\n        if (state < STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n\n        emit(self.options.event); // simple 'eventName' events\n\n        if (input.additionalEvent) { // additional event(panleft, panright, pinchin, pinchout...)\n            emit(input.additionalEvent);\n        }\n\n        // panend and pancancel\n        if (state >= STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n    },\n\n    /**\n     * Check that all the require failure recognizers has failed,\n     * if true, it emits a gesture event,\n     * otherwise, setup the state to FAILED.\n     * @param {Object} input\n     */\n    tryEmit: function(input) {\n        if (this.canEmit()) {\n            return this.emit(input);\n        }\n        // it's failing anyway\n        this.state = STATE_FAILED;\n    },\n\n    /**\n     * can we emit?\n     * @returns {boolean}\n     */\n    canEmit: function() {\n        var i = 0;\n        while (i < this.requireFail.length) {\n            if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {\n                return false;\n            }\n            i++;\n        }\n        return true;\n    },\n\n    /**\n     * update the recognizer\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        // make a new copy of the inputData\n        // so we can change the inputData without messing up the other recognizers\n        var inputDataClone = assign({}, inputData);\n\n        // is is enabled and allow recognizing?\n        if (!boolOrFn(this.options.enable, [this, inputDataClone])) {\n            this.reset();\n            this.state = STATE_FAILED;\n            return;\n        }\n\n        // reset when we've reached the end\n        if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {\n            this.state = STATE_POSSIBLE;\n        }\n\n        this.state = this.process(inputDataClone);\n\n        // the recognizer has recognized a gesture\n        // so trigger an event\n        if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {\n            this.tryEmit(inputDataClone);\n        }\n    },\n\n    /**\n     * return the state of the recognizer\n     * the actual recognizing happens in this method\n     * @virtual\n     * @param {Object} inputData\n     * @returns {Const} STATE\n     */\n    process: function(inputData) { }, // jshint ignore:line\n\n    /**\n     * return the preferred touch-action\n     * @virtual\n     * @returns {Array}\n     */\n    getTouchAction: function() { },\n\n    /**\n     * called when the gesture isn't allowed to recognize\n     * like when another is being recognized or it is disabled\n     * @virtual\n     */\n    reset: function() { }\n};\n\n/**\n * get a usable string, used as event postfix\n * @param {Const} state\n * @returns {String} state\n */\nfunction stateStr(state) {\n    if (state & STATE_CANCELLED) {\n        return 'cancel';\n    } else if (state & STATE_ENDED) {\n        return 'end';\n    } else if (state & STATE_CHANGED) {\n        return 'move';\n    } else if (state & STATE_BEGAN) {\n        return 'start';\n    }\n    return '';\n}\n\n/**\n * direction cons to string\n * @param {Const} direction\n * @returns {String}\n */\nfunction directionStr(direction) {\n    if (direction == DIRECTION_DOWN) {\n        return 'down';\n    } else if (direction == DIRECTION_UP) {\n        return 'up';\n    } else if (direction == DIRECTION_LEFT) {\n        return 'left';\n    } else if (direction == DIRECTION_RIGHT) {\n        return 'right';\n    }\n    return '';\n}\n\n/**\n * get a recognizer by name if it is bound to a manager\n * @param {Recognizer|String} otherRecognizer\n * @param {Recognizer} recognizer\n * @returns {Recognizer}\n */\nfunction getRecognizerByNameIfManager(otherRecognizer, recognizer) {\n    var manager = recognizer.manager;\n    if (manager) {\n        return manager.get(otherRecognizer);\n    }\n    return otherRecognizer;\n}\n\n/**\n * This recognizer is just used as a base for the simple attribute recognizers.\n * @constructor\n * @extends Recognizer\n */\nfunction AttrRecognizer() {\n    Recognizer.apply(this, arguments);\n}\n\ninherit(AttrRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof AttrRecognizer\n     */\n    defaults: {\n        /**\n         * @type {Number}\n         * @default 1\n         */\n        pointers: 1\n    },\n\n    /**\n     * Used to check if it the recognizer receives valid input, like input.distance > 10.\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {Boolean} recognized\n     */\n    attrTest: function(input) {\n        var optionPointers = this.options.pointers;\n        return optionPointers === 0 || input.pointers.length === optionPointers;\n    },\n\n    /**\n     * Process the input and return the state for the recognizer\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {*} State\n     */\n    process: function(input) {\n        var state = this.state;\n        var eventType = input.eventType;\n\n        var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);\n        var isValid = this.attrTest(input);\n\n        // on cancel input and we've recognized before, return STATE_CANCELLED\n        if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {\n            return state | STATE_CANCELLED;\n        } else if (isRecognized || isValid) {\n            if (eventType & INPUT_END) {\n                return state | STATE_ENDED;\n            } else if (!(state & STATE_BEGAN)) {\n                return STATE_BEGAN;\n            }\n            return state | STATE_CHANGED;\n        }\n        return STATE_FAILED;\n    }\n});\n\n/**\n * Pan\n * Recognized when the pointer is down and moved in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PanRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n\n    this.pX = null;\n    this.pY = null;\n}\n\ninherit(PanRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PanRecognizer\n     */\n    defaults: {\n        event: 'pan',\n        threshold: 10,\n        pointers: 1,\n        direction: DIRECTION_ALL\n    },\n\n    getTouchAction: function() {\n        var direction = this.options.direction;\n        var actions = [];\n        if (direction & DIRECTION_HORIZONTAL) {\n            actions.push(TOUCH_ACTION_PAN_Y);\n        }\n        if (direction & DIRECTION_VERTICAL) {\n            actions.push(TOUCH_ACTION_PAN_X);\n        }\n        return actions;\n    },\n\n    directionTest: function(input) {\n        var options = this.options;\n        var hasMoved = true;\n        var distance = input.distance;\n        var direction = input.direction;\n        var x = input.deltaX;\n        var y = input.deltaY;\n\n        // lock to axis?\n        if (!(direction & options.direction)) {\n            if (options.direction & DIRECTION_HORIZONTAL) {\n                direction = (x === 0) ? DIRECTION_NONE : (x < 0) ? DIRECTION_LEFT : DIRECTION_RIGHT;\n                hasMoved = x != this.pX;\n                distance = Math.abs(input.deltaX);\n            } else {\n                direction = (y === 0) ? DIRECTION_NONE : (y < 0) ? DIRECTION_UP : DIRECTION_DOWN;\n                hasMoved = y != this.pY;\n                distance = Math.abs(input.deltaY);\n            }\n        }\n        input.direction = direction;\n        return hasMoved && distance > options.threshold && direction & options.direction;\n    },\n\n    attrTest: function(input) {\n        return AttrRecognizer.prototype.attrTest.call(this, input) &&\n            (this.state & STATE_BEGAN || (!(this.state & STATE_BEGAN) && this.directionTest(input)));\n    },\n\n    emit: function(input) {\n\n        this.pX = input.deltaX;\n        this.pY = input.deltaY;\n\n        var direction = directionStr(input.direction);\n\n        if (direction) {\n            input.additionalEvent = this.options.event + direction;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Pinch\n * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PinchRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(PinchRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'pinch',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);\n    },\n\n    emit: function(input) {\n        if (input.scale !== 1) {\n            var inOut = input.scale < 1 ? 'in' : 'out';\n            input.additionalEvent = this.options.event + inOut;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Press\n * Recognized when the pointer is down for x ms without any movement.\n * @constructor\n * @extends Recognizer\n */\nfunction PressRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    this._timer = null;\n    this._input = null;\n}\n\ninherit(PressRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PressRecognizer\n     */\n    defaults: {\n        event: 'press',\n        pointers: 1,\n        time: 251, // minimal time of the pointer to be pressed\n        threshold: 9 // a minimal movement is ok, but keep it low\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_AUTO];\n    },\n\n    process: function(input) {\n        var options = this.options;\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTime = input.deltaTime > options.time;\n\n        this._input = input;\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (!validMovement || !validPointers || (input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime)) {\n            this.reset();\n        } else if (input.eventType & INPUT_START) {\n            this.reset();\n            this._timer = setTimeoutContext(function() {\n                this.state = STATE_RECOGNIZED;\n                this.tryEmit();\n            }, options.time, this);\n        } else if (input.eventType & INPUT_END) {\n            return STATE_RECOGNIZED;\n        }\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function(input) {\n        if (this.state !== STATE_RECOGNIZED) {\n            return;\n        }\n\n        if (input && (input.eventType & INPUT_END)) {\n            this.manager.emit(this.options.event + 'up', input);\n        } else {\n            this._input.timeStamp = now();\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Rotate\n * Recognized when two or more pointer are moving in a circular motion.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction RotateRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(RotateRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof RotateRecognizer\n     */\n    defaults: {\n        event: 'rotate',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);\n    }\n});\n\n/**\n * Swipe\n * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction SwipeRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(SwipeRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof SwipeRecognizer\n     */\n    defaults: {\n        event: 'swipe',\n        threshold: 10,\n        velocity: 0.3,\n        direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,\n        pointers: 1\n    },\n\n    getTouchAction: function() {\n        return PanRecognizer.prototype.getTouchAction.call(this);\n    },\n\n    attrTest: function(input) {\n        var direction = this.options.direction;\n        var velocity;\n\n        if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {\n            velocity = input.overallVelocity;\n        } else if (direction & DIRECTION_HORIZONTAL) {\n            velocity = input.overallVelocityX;\n        } else if (direction & DIRECTION_VERTICAL) {\n            velocity = input.overallVelocityY;\n        }\n\n        return this._super.attrTest.call(this, input) &&\n            direction & input.offsetDirection &&\n            input.distance > this.options.threshold &&\n            input.maxPointers == this.options.pointers &&\n            abs(velocity) > this.options.velocity && input.eventType & INPUT_END;\n    },\n\n    emit: function(input) {\n        var direction = directionStr(input.offsetDirection);\n        if (direction) {\n            this.manager.emit(this.options.event + direction, input);\n        }\n\n        this.manager.emit(this.options.event, input);\n    }\n});\n\n/**\n * A tap is ecognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur\n * between the given interval and position. The delay option can be used to recognize multi-taps without firing\n * a single tap.\n *\n * The eventData from the emitted event contains the property `tapCount`, which contains the amount of\n * multi-taps being recognized.\n * @constructor\n * @extends Recognizer\n */\nfunction TapRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    // previous time and center,\n    // used for tap counting\n    this.pTime = false;\n    this.pCenter = false;\n\n    this._timer = null;\n    this._input = null;\n    this.count = 0;\n}\n\ninherit(TapRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'tap',\n        pointers: 1,\n        taps: 1,\n        interval: 300, // max time between the multi-tap taps\n        time: 250, // max time of the pointer to be down (like finger on the screen)\n        threshold: 9, // a minimal movement is ok, but keep it low\n        posThreshold: 10 // a multi-tap can be a bit off the initial position\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_MANIPULATION];\n    },\n\n    process: function(input) {\n        var options = this.options;\n\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTouchTime = input.deltaTime < options.time;\n\n        this.reset();\n\n        if ((input.eventType & INPUT_START) && (this.count === 0)) {\n            return this.failTimeout();\n        }\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (validMovement && validTouchTime && validPointers) {\n            if (input.eventType != INPUT_END) {\n                return this.failTimeout();\n            }\n\n            var validInterval = this.pTime ? (input.timeStamp - this.pTime < options.interval) : true;\n            var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;\n\n            this.pTime = input.timeStamp;\n            this.pCenter = input.center;\n\n            if (!validMultiTap || !validInterval) {\n                this.count = 1;\n            } else {\n                this.count += 1;\n            }\n\n            this._input = input;\n\n            // if tap count matches we have recognized it,\n            // else it has began recognizing...\n            var tapCount = this.count % options.taps;\n            if (tapCount === 0) {\n                // no failing requirements, immediately trigger the tap event\n                // or wait as long as the multitap interval to trigger\n                if (!this.hasRequireFailures()) {\n                    return STATE_RECOGNIZED;\n                } else {\n                    this._timer = setTimeoutContext(function() {\n                        this.state = STATE_RECOGNIZED;\n                        this.tryEmit();\n                    }, options.interval, this);\n                    return STATE_BEGAN;\n                }\n            }\n        }\n        return STATE_FAILED;\n    },\n\n    failTimeout: function() {\n        this._timer = setTimeoutContext(function() {\n            this.state = STATE_FAILED;\n        }, this.options.interval, this);\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function() {\n        if (this.state == STATE_RECOGNIZED) {\n            this._input.tapCount = this.count;\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Simple way to create a manager with a default set of recognizers.\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Hammer(element, options) {\n    options = options || {};\n    options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);\n    return new Manager(element, options);\n}\n\n/**\n * @const {string}\n */\nHammer.VERSION = '2.0.7';\n\n/**\n * default settings\n * @namespace\n */\nHammer.defaults = {\n    /**\n     * set if DOM events are being triggered.\n     * But this is slower and unused by simple implementations, so disabled by default.\n     * @type {Boolean}\n     * @default false\n     */\n    domEvents: false,\n\n    /**\n     * The value for the touchAction property/fallback.\n     * When set to `compute` it will magically set the correct value based on the added recognizers.\n     * @type {String}\n     * @default compute\n     */\n    touchAction: TOUCH_ACTION_COMPUTE,\n\n    /**\n     * @type {Boolean}\n     * @default true\n     */\n    enable: true,\n\n    /**\n     * EXPERIMENTAL FEATURE -- can be removed/changed\n     * Change the parent input target element.\n     * If Null, then it is being set the to main element.\n     * @type {Null|EventTarget}\n     * @default null\n     */\n    inputTarget: null,\n\n    /**\n     * force an input class\n     * @type {Null|Function}\n     * @default null\n     */\n    inputClass: null,\n\n    /**\n     * Default recognizer setup when calling `Hammer()`\n     * When creating a new Manager these will be skipped.\n     * @type {Array}\n     */\n    preset: [\n        // RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]\n        [RotateRecognizer, {enable: false}],\n        [PinchRecognizer, {enable: false}, ['rotate']],\n        [SwipeRecognizer, {direction: DIRECTION_HORIZONTAL}],\n        [PanRecognizer, {direction: DIRECTION_HORIZONTAL}, ['swipe']],\n        [TapRecognizer],\n        [TapRecognizer, {event: 'doubletap', taps: 2}, ['tap']],\n        [PressRecognizer]\n    ],\n\n    /**\n     * Some CSS properties can be used to improve the working of Hammer.\n     * Add them to this method and they will be set when creating a new Manager.\n     * @namespace\n     */\n    cssProps: {\n        /**\n         * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userSelect: 'none',\n\n        /**\n         * Disable the Windows Phone grippers when pressing an element.\n         * @type {String}\n         * @default 'none'\n         */\n        touchSelect: 'none',\n\n        /**\n         * Disables the default callout shown when you touch and hold a touch target.\n         * On iOS, when you touch and hold a touch target such as a link, Safari displays\n         * a callout containing information about the link. This property allows you to disable that callout.\n         * @type {String}\n         * @default 'none'\n         */\n        touchCallout: 'none',\n\n        /**\n         * Specifies whether zooming is enabled. Used by IE10>\n         * @type {String}\n         * @default 'none'\n         */\n        contentZooming: 'none',\n\n        /**\n         * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userDrag: 'none',\n\n        /**\n         * Overrides the highlight color shown when the user taps a link or a JavaScript\n         * clickable element in iOS. This property obeys the alpha value, if specified.\n         * @type {String}\n         * @default 'rgba(0,0,0,0)'\n         */\n        tapHighlightColor: 'rgba(0,0,0,0)'\n    }\n};\n\nvar STOP = 1;\nvar FORCED_STOP = 2;\n\n/**\n * Manager\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Manager(element, options) {\n    this.options = assign({}, Hammer.defaults, options || {});\n\n    this.options.inputTarget = this.options.inputTarget || element;\n\n    this.handlers = {};\n    this.session = {};\n    this.recognizers = [];\n    this.oldCssProps = {};\n\n    this.element = element;\n    this.input = createInputInstance(this);\n    this.touchAction = new TouchAction(this, this.options.touchAction);\n\n    toggleCssProps(this, true);\n\n    each(this.options.recognizers, function(item) {\n        var recognizer = this.add(new (item[0])(item[1]));\n        item[2] && recognizer.recognizeWith(item[2]);\n        item[3] && recognizer.requireFailure(item[3]);\n    }, this);\n}\n\nManager.prototype = {\n    /**\n     * set options\n     * @param {Object} options\n     * @returns {Manager}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // Options that need a little more setup\n        if (options.touchAction) {\n            this.touchAction.update();\n        }\n        if (options.inputTarget) {\n            // Clean up existing event listeners and reinitialize\n            this.input.destroy();\n            this.input.target = options.inputTarget;\n            this.input.init();\n        }\n        return this;\n    },\n\n    /**\n     * stop recognizing for this session.\n     * This session will be discarded, when a new [input]start event is fired.\n     * When forced, the recognizer cycle is stopped immediately.\n     * @param {Boolean} [force]\n     */\n    stop: function(force) {\n        this.session.stopped = force ? FORCED_STOP : STOP;\n    },\n\n    /**\n     * run the recognizers!\n     * called by the inputHandler function on every movement of the pointers (touches)\n     * it walks through all the recognizers and tries to detect the gesture that is being made\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        var session = this.session;\n        if (session.stopped) {\n            return;\n        }\n\n        // run the touch-action polyfill\n        this.touchAction.preventDefaults(inputData);\n\n        var recognizer;\n        var recognizers = this.recognizers;\n\n        // this holds the recognizer that is being recognized.\n        // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED\n        // if no recognizer is detecting a thing, it is set to `null`\n        var curRecognizer = session.curRecognizer;\n\n        // reset when the last recognizer is recognized\n        // or when we're in a new session\n        if (!curRecognizer || (curRecognizer && curRecognizer.state & STATE_RECOGNIZED)) {\n            curRecognizer = session.curRecognizer = null;\n        }\n\n        var i = 0;\n        while (i < recognizers.length) {\n            recognizer = recognizers[i];\n\n            // find out if we are allowed try to recognize the input for this one.\n            // 1.   allow if the session is NOT forced stopped (see the .stop() method)\n            // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one\n            //      that is being recognized.\n            // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.\n            //      this can be setup with the `recognizeWith()` method on the recognizer.\n            if (session.stopped !== FORCED_STOP && ( // 1\n                    !curRecognizer || recognizer == curRecognizer || // 2\n                    recognizer.canRecognizeWith(curRecognizer))) { // 3\n                recognizer.recognize(inputData);\n            } else {\n                recognizer.reset();\n            }\n\n            // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the\n            // current active recognizer. but only if we don't already have an active recognizer\n            if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {\n                curRecognizer = session.curRecognizer = recognizer;\n            }\n            i++;\n        }\n    },\n\n    /**\n     * get a recognizer by its event name.\n     * @param {Recognizer|String} recognizer\n     * @returns {Recognizer|Null}\n     */\n    get: function(recognizer) {\n        if (recognizer instanceof Recognizer) {\n            return recognizer;\n        }\n\n        var recognizers = this.recognizers;\n        for (var i = 0; i < recognizers.length; i++) {\n            if (recognizers[i].options.event == recognizer) {\n                return recognizers[i];\n            }\n        }\n        return null;\n    },\n\n    /**\n     * add a recognizer to the manager\n     * existing recognizers with the same event name will be removed\n     * @param {Recognizer} recognizer\n     * @returns {Recognizer|Manager}\n     */\n    add: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'add', this)) {\n            return this;\n        }\n\n        // remove existing\n        var existing = this.get(recognizer.options.event);\n        if (existing) {\n            this.remove(existing);\n        }\n\n        this.recognizers.push(recognizer);\n        recognizer.manager = this;\n\n        this.touchAction.update();\n        return recognizer;\n    },\n\n    /**\n     * remove a recognizer by name or instance\n     * @param {Recognizer|String} recognizer\n     * @returns {Manager}\n     */\n    remove: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'remove', this)) {\n            return this;\n        }\n\n        recognizer = this.get(recognizer);\n\n        // let's make sure this recognizer exists\n        if (recognizer) {\n            var recognizers = this.recognizers;\n            var index = inArray(recognizers, recognizer);\n\n            if (index !== -1) {\n                recognizers.splice(index, 1);\n                this.touchAction.update();\n            }\n        }\n\n        return this;\n    },\n\n    /**\n     * bind event\n     * @param {String} events\n     * @param {Function} handler\n     * @returns {EventEmitter} this\n     */\n    on: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n        if (handler === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            handlers[event] = handlers[event] || [];\n            handlers[event].push(handler);\n        });\n        return this;\n    },\n\n    /**\n     * unbind event, leave emit blank to remove all handlers\n     * @param {String} events\n     * @param {Function} [handler]\n     * @returns {EventEmitter} this\n     */\n    off: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            if (!handler) {\n                delete handlers[event];\n            } else {\n                handlers[event] && handlers[event].splice(inArray(handlers[event], handler), 1);\n            }\n        });\n        return this;\n    },\n\n    /**\n     * emit event to the listeners\n     * @param {String} event\n     * @param {Object} data\n     */\n    emit: function(event, data) {\n        // we also want to trigger dom events\n        if (this.options.domEvents) {\n            triggerDomEvent(event, data);\n        }\n\n        // no handlers, so skip it all\n        var handlers = this.handlers[event] && this.handlers[event].slice();\n        if (!handlers || !handlers.length) {\n            return;\n        }\n\n        data.type = event;\n        data.preventDefault = function() {\n            data.srcEvent.preventDefault();\n        };\n\n        var i = 0;\n        while (i < handlers.length) {\n            handlers[i](data);\n            i++;\n        }\n    },\n\n    /**\n     * destroy the manager and unbinds all events\n     * it doesn't unbind dom events, that is the user own responsibility\n     */\n    destroy: function() {\n        this.element && toggleCssProps(this, false);\n\n        this.handlers = {};\n        this.session = {};\n        this.input.destroy();\n        this.element = null;\n    }\n};\n\n/**\n * add/remove the css properties as defined in manager.options.cssProps\n * @param {Manager} manager\n * @param {Boolean} add\n */\nfunction toggleCssProps(manager, add) {\n    var element = manager.element;\n    if (!element.style) {\n        return;\n    }\n    var prop;\n    each(manager.options.cssProps, function(value, name) {\n        prop = prefixed(element.style, name);\n        if (add) {\n            manager.oldCssProps[prop] = element.style[prop];\n            element.style[prop] = value;\n        } else {\n            element.style[prop] = manager.oldCssProps[prop] || '';\n        }\n    });\n    if (!add) {\n        manager.oldCssProps = {};\n    }\n}\n\n/**\n * trigger dom event\n * @param {String} event\n * @param {Object} data\n */\nfunction triggerDomEvent(event, data) {\n    var gestureEvent = document.createEvent('Event');\n    gestureEvent.initEvent(event, true, true);\n    gestureEvent.gesture = data;\n    data.target.dispatchEvent(gestureEvent);\n}\n\nassign(Hammer, {\n    INPUT_START: INPUT_START,\n    INPUT_MOVE: INPUT_MOVE,\n    INPUT_END: INPUT_END,\n    INPUT_CANCEL: INPUT_CANCEL,\n\n    STATE_POSSIBLE: STATE_POSSIBLE,\n    STATE_BEGAN: STATE_BEGAN,\n    STATE_CHANGED: STATE_CHANGED,\n    STATE_ENDED: STATE_ENDED,\n    STATE_RECOGNIZED: STATE_RECOGNIZED,\n    STATE_CANCELLED: STATE_CANCELLED,\n    STATE_FAILED: STATE_FAILED,\n\n    DIRECTION_NONE: DIRECTION_NONE,\n    DIRECTION_LEFT: DIRECTION_LEFT,\n    DIRECTION_RIGHT: DIRECTION_RIGHT,\n    DIRECTION_UP: DIRECTION_UP,\n    DIRECTION_DOWN: DIRECTION_DOWN,\n    DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,\n    DIRECTION_VERTICAL: DIRECTION_VERTICAL,\n    DIRECTION_ALL: DIRECTION_ALL,\n\n    Manager: Manager,\n    Input: Input,\n    TouchAction: TouchAction,\n\n    TouchInput: TouchInput,\n    MouseInput: MouseInput,\n    PointerEventInput: PointerEventInput,\n    TouchMouseInput: TouchMouseInput,\n    SingleTouchInput: SingleTouchInput,\n\n    Recognizer: Recognizer,\n    AttrRecognizer: AttrRecognizer,\n    Tap: TapRecognizer,\n    Pan: PanRecognizer,\n    Swipe: SwipeRecognizer,\n    Pinch: PinchRecognizer,\n    Rotate: RotateRecognizer,\n    Press: PressRecognizer,\n\n    on: addEventListeners,\n    off: removeEventListeners,\n    each: each,\n    merge: merge,\n    extend: extend,\n    assign: assign,\n    inherit: inherit,\n    bindFn: bindFn,\n    prefixed: prefixed\n});\n\n// this prevents errors when Hammer is loaded in the presence of an AMD\n//  style loader but by script tag, not by the loader.\nvar freeGlobal = (typeof window !== 'undefined' ? window : (typeof self !== 'undefined' ? self : {})); // jshint ignore:line\nfreeGlobal.Hammer = Hammer;\n\nif (typeof define === 'function' && define.amd) {\n    define(function() {\n        return Hammer;\n    });\n} else if (typeof module != 'undefined' && module.exports) {\n    module.exports = Hammer;\n} else {\n    window[exportName] = Hammer;\n}\n\n})(window, document, 'Hammer');\n","/**\n * @module 1-liners/isFunction\n *\n * @description\n *\n * Same as `typeof value === 'function'`.\n *\n * @example\n *\n * \tconst isFunction = require('1-liners/isFunction');\n *\n * \tisFunction(function() {});        // => true\n * \tisFunction(function named() {});  // => true\n *\n * \tisFunction('any other value');    // => false\n *\n */\n'use strict';\n\nexports.__esModule = true;\n\nexports['default'] = function (value) {\n  return typeof value === 'function';\n};\n\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (val, props) {\n  var _transform, _overlay;\n\n  var zIndex = props.zIndex,\n      left = props.left,\n      right = props.right,\n      height = props.height,\n      handleWidth = props.handleWidth,\n      overlayColor = props.overlayColor,\n      fadeOut = props.fadeOut,\n      offset = props.offset;\n\n\n  var clientWidth = 1000;\n  var width = props.width;\n\n  if (typeof document !== \"undefined\") {\n    clientWidth = document.body.clientWidth;\n    if (/\\D/.test(width)) width = document.body.clientWidth * (width.match(/\\d*/) / 100);\n  }\n\n  var opacity = (val - offset) / width;\n\n  if (right) val = width - val;else val = val - width;\n\n  var drawer = {\n    display: \"block\",\n    width: width,\n    height: height,\n    overflow: \"auto\"\n  };\n\n  var transform = (_transform = {\n    boxSizing: \"content-box\",\n    pointer: \"cursor\",\n    position: \"fixed\",\n    display: \"block\",\n    zIndex: zIndex,\n    width: width\n  }, _defineProperty(_transform, right ? \"paddingLeft\" : \"paddingRight\", handleWidth), _defineProperty(_transform, \"maxWidth\", width), _defineProperty(_transform, \"height\", height), _defineProperty(_transform, \"top\", 0), _defineProperty(_transform, right ? \"right\" : \"left\", 0), _defineProperty(_transform, \"margin\", 0), _defineProperty(_transform, \"transform\", \"translate3d(\" + val + \"px, 0, 0)\"), _defineProperty(_transform, \"WebkitTransform\", \"translate3d(\" + val + \"px, 0, 0)\"), _defineProperty(_transform, \"opacity\", fadeOut ? opacity : 1), _transform);\n\n  var overlayTransform = right ? -width : width;\n  var overlay = (_overlay = {\n    zIndex: -2,\n    pointer: \"cursor\",\n    position: \"fixed\",\n    width: clientWidth,\n    height: \"100%\",\n    background: overlayColor,\n    opacity: opacity,\n    top: 0\n  }, _defineProperty(_overlay, right ? \"right\" : \"left\", 0), _defineProperty(_overlay, \"margin\", 0), _defineProperty(_overlay, \"transform\", \"translate3d(\" + overlayTransform + \"px, 0, 0)\"), _defineProperty(_overlay, \"WebkitTransform\", \"translate3d(\" + overlayTransform + \"px, 0, 0)\"), _overlay);\n\n  return { drawer: drawer, transform: transform, overlay: overlay };\n};\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }","\n// turn {x: {val: 1, stiffness: 1, damping: 2}, y: 2} generated by\n// `{x: spring(1, {stiffness: 1, damping: 2}), y: 2}` into {x: 1, y: 2}\n\n'use strict';\n\nexports.__esModule = true;\nexports['default'] = stripStyle;\n\nfunction stripStyle(style) {\n  var ret = {};\n  for (var key in style) {\n    if (!Object.prototype.hasOwnProperty.call(style, key)) {\n      continue;\n    }\n    ret[key] = typeof style[key] === 'number' ? style[key] : style[key].val;\n  }\n  return ret;\n}\n\nmodule.exports = exports['default'];","\n\n// currently used to initiate the velocity style object to 0\n'use strict';\n\nexports.__esModule = true;\nexports['default'] = mapToZero;\n\nfunction mapToZero(obj) {\n  var ret = {};\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      ret[key] = 0;\n    }\n  }\n  return ret;\n}\n\nmodule.exports = exports['default'];","\n\n// stepper is used a lot. Saves allocation to return the same array wrapper.\n// This is fine and danger-free against mutations because the callsite\n// immediately destructures it and gets the numbers inside without passing the\n\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = stepper;\n\nvar reusedTuple = [0, 0];\n\nfunction stepper(secondPerFrame, x, v, destX, k, b, precision) {\n  // Spring stiffness, in kg / s^2\n\n  // for animations, destX is really spring length (spring at rest). initial\n  // position is considered as the stretched/compressed position of a spring\n  var Fspring = -k * (x - destX);\n\n  // Damping, in kg / s\n  var Fdamper = -b * v;\n\n  // usually we put mass here, but for animation purposes, specifying mass is a\n  // bit redundant. you could simply adjust k and b accordingly\n  // let a = (Fspring + Fdamper) / mass;\n  var a = Fspring + Fdamper;\n\n  var newV = v + a * secondPerFrame;\n  var newX = x + newV * secondPerFrame;\n\n  if (Math.abs(newV) < precision && Math.abs(newX - destX) < precision) {\n    reusedTuple[0] = destX;\n    reusedTuple[1] = 0;\n    return reusedTuple;\n  }\n\n  reusedTuple[0] = newX;\n  reusedTuple[1] = newV;\n  return reusedTuple;\n}\n\nmodule.exports = exports[\"default\"];\n// array reference around.","// Generated by CoffeeScript 1.7.1\n(function() {\n  var getNanoSeconds, hrtime, loadTime;\n\n  if ((typeof performance !== \"undefined\" && performance !== null) && performance.now) {\n    module.exports = function() {\n      return performance.now();\n    };\n  } else if ((typeof process !== \"undefined\" && process !== null) && process.hrtime) {\n    module.exports = function() {\n      return (getNanoSeconds() - loadTime) / 1e6;\n    };\n    hrtime = process.hrtime;\n    getNanoSeconds = function() {\n      var hr;\n      hr = hrtime();\n      return hr[0] * 1e9 + hr[1];\n    };\n    loadTime = getNanoSeconds();\n  } else if (Date.now) {\n    module.exports = function() {\n      return Date.now() - loadTime;\n    };\n    loadTime = Date.now();\n  } else {\n    module.exports = function() {\n      return new Date().getTime() - loadTime;\n    };\n    loadTime = new Date().getTime();\n  }\n\n}).call(this);\n","\n\n// usage assumption: currentStyle values have already been rendered but it says\n// nothing of whether currentStyle is stale (see unreadPropStyle)\n'use strict';\n\nexports.__esModule = true;\nexports['default'] = shouldStopAnimation;\n\nfunction shouldStopAnimation(currentStyle, style, currentVelocity) {\n  for (var key in style) {\n    if (!Object.prototype.hasOwnProperty.call(style, key)) {\n      continue;\n    }\n\n    if (currentVelocity[key] !== 0) {\n      return false;\n    }\n\n    var styleValue = typeof style[key] === 'number' ? style[key] : style[key].val;\n    // stepper will have already taken care of rounding precision errors, so\n    // won't have such thing as 0.9999 !=== 1\n    if (currentStyle[key] !== styleValue) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nmodule.exports = exports['default'];"],"sourceRoot":""}