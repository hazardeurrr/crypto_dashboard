{"version":3,"sources":["../../../node_modules/antd/es/mentions/style/css.js","../../../node_modules/rc-mentions/es/MentionsContext.js","../../../node_modules/rc-mentions/es/DropdownMenu.js","../../../node_modules/rc-mentions/es/KeywordTrigger.js","../../../node_modules/rc-mentions/es/Option.js","../../../node_modules/rc-mentions/es/util.js","../../../node_modules/rc-mentions/es/Mentions.js","../../../node_modules/rc-mentions/es/index.js","../../../node_modules/antd/es/mentions/index.js","../../../node_modules/react-motion/lib/presets.js","../../../shared/components/Mail/ComposeAutoComplete.style.js","../../../shared/components/Mail/ComposeAutoComplete.js","../../../shared/components/Mail/ComposeMail.style.js","../../../shared/components/Mail/ComposeMail.js","../../../shared/components/Mail/MailBucket.style.js","../../../shared/components/Mail/MailBuckets.js","../../../shared/components/uielements/styles/editor.style.js","../../../shared/components/uielements/editor.js","../../../node_modules/react-motion-drawer/drawer.js","../../../node_modules/react-motion/lib/react-motion.js","../../../node_modules/react-motion/lib/Motion.js","../../../node_modules/react-motion/lib/StaggeredMotion.js","../../../node_modules/react-motion/lib/TransitionMotion.js","../../../node_modules/react-motion/lib/mergeDiff.js","../../../node_modules/react-motion/lib/spring.js","../../../node_modules/react-motion/lib/reorderKeys.js","../../../node_modules/react-hammerjs/dist/react-hammerjs.es.js","../../../node_modules/hammerjs/hammer.js","../../../node_modules/1-liners/isFunction.js","../../../node_modules/react-motion-drawer/styles.js","../../../shared/containers/Mail/Mail.styles.js","../../../shared/components/Mail/SingleMailActions.style.js","../../../shared/components/Mail/SingleMailActions.js","../../../shared/components/Mail/SingleMail.style.js","../../../shared/components/Mail/SingleMail.js","../../../shared/components/Mail/MailList.style.js","../../../shared/components/Mail/MailList.js","../../../shared/components/Mail/MailComposeBtn.style.js","../../../shared/components/Mail/MailComposeBtn.js","../../../shared/components/Mail/MailPagination.style.js","../../../shared/components/Mail/MailPagination.js","../../../node_modules/reselect/es/index.js","../../../shared/redux/mail/selector.js","../../../shared/containers/Mail/MailDrawer.styles.js","../../../shared/containers/Mail/MobileView.js","../../../node_modules/antd/node_modules/lodash/_root.js","../../../node_modules/antd/node_modules/lodash/isObject.js","../../../node_modules/antd/node_modules/lodash/_baseGetTag.js","../../../node_modules/antd/node_modules/lodash/isObjectLike.js","../../../node_modules/antd/node_modules/lodash/_Symbol.js","../../../shared/components/Notification.js","../../../node_modules/antd/node_modules/lodash/_freeGlobal.js","../../../node_modules/antd/es/notification/style/css.js","../../../node_modules/antd/es/_util/ref.js","../../../node_modules/antd/node_modules/lodash/_getRawTag.js","../../../node_modules/antd/node_modules/lodash/_objectToString.js","../../../node_modules/antd/node_modules/lodash/debounce.js","../../../node_modules/antd/node_modules/lodash/now.js","../../../node_modules/antd/node_modules/lodash/toNumber.js","../../../node_modules/antd/node_modules/lodash/isSymbol.js","../../../node_modules/antd/es/spin/style/css.js","../../../node_modules/antd/es/spin/index.js","../../../node_modules/antd/es/empty/style/css.js","../../../node_modules/react-motion/lib/stripStyle.js","../../../shared/components/Mail/MailTags.style.js","../../../shared/components/Mail/MailTags.js","../../../node_modules/react-motion/lib/mapToZero.js","../../../node_modules/react-motion/lib/stepper.js","../../../node_modules/react-motion/node_modules/performance-now/lib/performance-now.js","../../../node_modules/react-motion/lib/shouldStopAnimation.js"],"names":["MentionsContext","React","MentionsContextProvider","Provider","MentionsContextConsumer","Consumer","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","prototype","toString","call","e","_isNativeReflectConstruct","result","Super","_getPrototypeOf","NewTarget","this","constructor","arguments","apply","_possibleConstructorReturn","DropdownMenu","_React$Component","_inherits","_super","_this","_classCallCheck","renderDropdown","_ref","notFoundContent","activeIndex","setActiveIndex","selectOption","onFocus","onBlur","_this$props","props","prefixCls","options","activeOption","Menu","concat","activeKey","value","onSelect","_ref2","key","option","find","_ref3","map","index","disabled","children","className","style","MenuItem","onMouseEnter","length","_createClass","BUILT_IN_PLACEMENTS","bottomRight","points","offset","overflow","adjustX","adjustY","bottomLeft","topRight","topLeft","KeywordTrigger","getDropdownPrefix","getDropdownElement","getDropDownPlacement","placement","direction","_this$props2","visible","transitionName","getPopupContainer","popupElement","Trigger","popupVisible","popup","popupPlacement","popupTransitionName","builtinPlacements","Option","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","_objectSpread","target","i","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","lower","char","toLowerCase","replaceWithMeasure","text","measureConfig","measureLocation","prefix","targetText","selectionStart","split","beforeMeasureText","slice","restText","firstChar","targetTextLen","reduceText","connectedStartText","selectionLocation","Mentions","focusId","undefined","triggerChange","onChange","setState","onKeyDown","event","which","_this$state","state","measuring","KeyCode","UP","DOWN","optionLen","getOptions","newActiveIndex","preventDefault","ESC","stopMeasure","ENTER","onKeyUp","_this$state2","prevMeasureText","measureText","_this$props$prefix","onSearch","validateSearch","selectionStartText","input","getBeforeSelectionText","_getLastMeasureIndex","prefixList","Array","isArray","reduce","lastMatch","prefixStr","lastIndex","lastIndexOf","location","getLastMeasureIndex","measureIndex","measurePrefix","indexOf","validateMeasure","matchOption","startMeasure","onPressEnter","onInputFocus","onInputBlur","onDropdownFocus","onDropdownBlur","window","clearTimeout","isFocus","setTimeout","_this$state3","_option$value","_replaceWithMeasure","textarea","setSelectionRange","blur","focus","setTextAreaRef","element","_element$resizableTex","resizableTextArea","textArea","setMeasureRef","measure","targetMeasureText","_this$props3","filterOption","toArray","defaultValue","scrollTop","callback","_this$state4","_this$props4","autoFocus","inputProps","obj","clone","_len","_key","omit","_objectWithoutProperties","classNames","TextArea","assign","ref","prevState","newState","defaultProps","_ref$value","lowerCase","rows","__rest","s","t","p","hasOwnProperty","propertyIsEnumerable","RcMentions","loadingFilterOption","InternalMentions","_a","_classNames","customizePrefixCls","loading","restProps","_React$useState","_React$useState2","_slicedToArray","focused","setFocused","innerRef","mergedRef","composeRef","_React$useContext","ConfigContext","getPrefixCls","renderEmpty","mergedClassName","_extends","Spin","size","displayName","getMentions","config","_ref$prefix","_ref$split","str","hitPrefix","some","entity","exports","__esModule","noWobble","stiffness","damping","gentle","wobbly","stiff","module","ComposeAutoCompleteStyleWrapper","styled","div","palette","borderRadius","boxShadow","transition","MentionsReceiver","item","placeholder","autofocus","allMails","useState","id","email","name","width","console","log","ComposeForm","uploadCallback","file","Promise","resolve","reject","xhr","XMLHttpRequest","open","setRequestHeader","data","FormData","append","send","addEventListener","response","JSON","parse","responseText","error","ComposeMail","editorState","iconLoading","ComposeAutoCompleteTO","updateData","ComposeAutoCompleteCC","editorOption","height","toolbarClassName","wrapperClassName","editorClassName","onEditorStateChange","toolbar","image","mobileView","tabView","type","onClick","changeComposeMail","notification","MailBucket","ul","WithDirection","buckets","MailBuckets","mails","filterAction","filterAttr","onDrawerClose","unread","mail","bucket","read","getUnread","activeClass","renderSingleBucket","QuillEditor","font","Editor","editorHtml","theme","handleChange","bind","html","newTheme","modules","formats","bounds","Component","header","list","indent","clipboard","matchVisual","descriptor","configurable","writable","Constructor","protoProps","staticProps","_react2","_interopRequireDefault","require","_propTypes2","_reactMotion","_reactHammerjs2","_isFunction2","_styles3","default","instance","TypeError","self","ReferenceError","bool","number","array","string","func","oneOfType","Drawer","_temp","args","__proto__","getPrototypeOf","currentState","isState","isClosed","isOpen","isOpening","isClosing","onPress","noTouchOpen","peak","onPressUp","noTouchClose","close","onPan","isFinal","pointers","deltaX","inPanTolerance","right","peakingWidth","handleWidth","calculateWidth","clientX","x","document","body","clientWidth","closingOrOpening","nextState","PEAK","IS_OPENING","IS_CLOSING","OPEN","CLOSED","onOverlayTap","test","match","subClass","superClass","create","setPrototypeOf","nextProps","nextOpen","_props","_props2","isClosingDirection","panTolerance","Math","abs","_this2","_props3","drawerStyle","overlayClassName","_state","createElement","Motion","myProp","spring","min","interpolated","_styles","drawer","transform","overlay","computedStyle","display","DIRECTION_HORIZONTAL","onTap","propTypes","zIndex","shape","precision","overlayColor","fadeOut","_interopRequire","_Motion","_StaggeredMotion","StaggeredMotion","_TransitionMotion","TransitionMotion","_spring","_presets","presets","_stripStyle","stripStyle","_reorderKeys","reorderKeys","_mapToZero2","_stripStyle2","_stepper4","_performanceNow2","_raf2","_shouldStopAnimation2","wasAnimating","animationID","prevTime","accumulatedTime","unreadPropStyle","clearUnreadPropStyle","destStyle","dirty","currentStyle","currentVelocity","lastIdealStyle","lastIdealVelocity","styleValue","startAnimationIfNecessary","timestamp","propsStyle","onRest","currentTime","timeDelta","currentFrameCompletion","floor","framesToCatchUp","newLastIdealStyle","newLastIdealVelocity","newCurrentStyle","newCurrentVelocity","newLastIdealStyleValue","newLastIdealVelocityValue","_stepper","val","_stepper2","nextIdealX","nextIdealV","defaultState","defaultStyle","objectOf","isRequired","componentDidMount","componentWillReceiveProps","componentWillUnmount","cancel","render","renderedChildren","Children","only","unreadPropStyles","currentStyles","currentVelocities","lastIdealStyles","lastIdealVelocities","someDirty","destStyles","styles","shouldStopAnimationAll","newLastIdealStyles","newLastIdealVelocities","newCurrentStyles","newCurrentVelocities","j","defaultStyles","arrayOf","_mergeDiff2","rehydrateStyles","mergedPropsStyles","plainStyles","cUnreadPropStyles","mergedPropsStyle","mergeAndSync","willEnter","willLeave","didLeave","oldMergedPropsStyles","oldCurrentStyles","oldCurrentVelocities","oldLastIdealStyles","oldLastIdealVelocities","newMergedPropsStyles","oldIndex","oldMergedPropsStyle","leavingStyle","newMergedPropsStyleCell","foundOldIndex","plainStyle","velocity","unmounting","_mergeAndSync","propStyles","_mergeAndSync2","newMergedPropsStyle","any","styleThatEntered","defaultStyleCell","_mergeAndSync3","hydratedStyles","prev","next","onRemove","prevKeyIndex","nextKeyIndex","ret","fill","sort","a","b","nextOrderA","nextOrderB","prevOrderA","prevOrderB","pivot","defaultConfig","_presets2","process","Hammer","privateProps","recognizeWith","vertical","handlerToEvent","action","onDoubleTap","onPanCancel","onPanEnd","onPanStart","onPinch","onPinchCancel","onPinchEnd","onPinchIn","onPinchOut","onPinchStart","onRotate","onRotateCancel","onRotateEnd","onRotateMove","onRotateStart","onSwipe","onSwipeRight","onSwipeLeft","onSwipeUp","onSwipeDown","updateHammer","hammer","warn","directionProp","get","set","recognizers","gesture","recognizer","requireFailure","optionObj","off","on","HammerComponent","domElement","stop","destroy","cloneElement","PropTypes","exportName","VENDOR_PREFIXES","TEST_ELEMENT","round","now","setTimeoutContext","fn","timeout","context","bindFn","invokeArrayArg","arg","each","iterator","deprecate","method","message","deprecationMessage","Error","stack","replace","output","nextKey","extend","dest","src","merge","inherit","child","base","properties","childP","baseP","boolOrFn","ifUndefined","val1","val2","addEventListeners","types","handler","splitStr","removeEventListeners","removeEventListener","hasParent","node","parent","parentNode","inStr","trim","inArray","findByKey","uniqueArray","results","values","prefixed","property","prop","camelProp","toUpperCase","_uniqueId","getWindowForElement","doc","ownerDocument","defaultView","parentWindow","SUPPORT_TOUCH","SUPPORT_POINTER_EVENTS","SUPPORT_ONLY_TOUCH","navigator","userAgent","PROPS_XY","PROPS_CLIENT_XY","Input","manager","inputTarget","domHandler","ev","enable","init","inputHandler","eventType","pointersLen","changedPointersLen","changedPointers","isFirst","session","pointersLength","firstInput","simpleCloneInputData","firstMultiple","offsetCenter","center","getCenter","timeStamp","deltaTime","angle","getAngle","distance","getDistance","offsetDelta","prevDelta","prevInput","y","deltaY","computeDeltaXY","offsetDirection","getDirection","overallVelocity","getVelocity","overallVelocityX","overallVelocityY","scale","start","end","rotation","getRotation","maxPointers","velocityX","velocityY","last","lastInterval","v","computeIntervalInputData","srcEvent","computeInputData","emit","recognize","clientY","p1","p2","sqrt","atan2","PI","evEl","evTarget","evWin","MOUSE_INPUT_MAP","mousedown","mousemove","mouseup","MouseInput","pressed","button","pointerType","POINTER_INPUT_MAP","pointerdown","pointermove","pointerup","pointercancel","pointerout","IE10_POINTER_TYPE_ENUM","2","3","4","5","POINTER_ELEMENT_EVENTS","POINTER_WINDOW_EVENTS","PointerEventInput","store","pointerEvents","MSPointerEvent","PointerEvent","removePointer","eventTypeNormalized","isTouch","storeIndex","pointerId","splice","SINGLE_TOUCH_INPUT_MAP","touchstart","touchmove","touchend","touchcancel","SingleTouchInput","started","normalizeSingleTouches","all","touches","changed","changedTouches","TOUCH_INPUT_MAP","TouchInput","targetIds","getTouches","allTouches","identifier","targetTouches","changedTargetTouches","touch","TouchMouseInput","mouse","primaryTouch","lastTouches","recordTouches","eventData","setLastTouch","lastTouch","lts","isSyntheticEvent","dx","dy","inputEvent","inputData","isMouse","sourceCapabilities","firesTouchEvents","PREFIXED_TOUCH_ACTION","NATIVE_TOUCH_ACTION","TOUCH_ACTION_MAP","touchMap","cssSupports","CSS","supports","getTouchActionProps","TouchAction","compute","actions","update","touchAction","getTouchAction","hasPanX","hasPanY","cleanTouchActions","join","preventDefaults","prevented","hasNone","isTapPointer","isTapMovement","isTapTouchTime","DIRECTION_LEFT","DIRECTION_UP","preventSrc","Recognizer","defaults","simultaneous","requireFail","stateStr","directionStr","getRecognizerByNameIfManager","otherRecognizer","AttrRecognizer","PanRecognizer","pX","pY","PinchRecognizer","PressRecognizer","_timer","_input","RotateRecognizer","SwipeRecognizer","TapRecognizer","pTime","pCenter","count","preset","Manager","dropRecognizeWith","dropRequireFailure","hasRequireFailures","canRecognizeWith","additionalEvent","tryEmit","canEmit","inputDataClone","reset","attrTest","optionPointers","isRecognized","isValid","threshold","directionTest","hasMoved","inOut","time","validPointers","validMovement","validTime","taps","interval","posThreshold","validTouchTime","failTimeout","validInterval","validMultiTap","tapCount","VERSION","domEvents","inputClass","cssProps","userSelect","touchSelect","touchCallout","contentZooming","userDrag","tapHighlightColor","handlers","oldCssProps","createInputInstance","toggleCssProps","add","force","stopped","curRecognizer","existing","remove","events","gestureEvent","createEvent","initEvent","dispatchEvent","triggerDomEvent","INPUT_START","INPUT_MOVE","INPUT_END","INPUT_CANCEL","STATE_POSSIBLE","STATE_BEGAN","STATE_CHANGED","STATE_ENDED","STATE_RECOGNIZED","STATE_CANCELLED","STATE_FAILED","DIRECTION_NONE","DIRECTION_RIGHT","DIRECTION_DOWN","DIRECTION_VERTICAL","DIRECTION_ALL","Tap","Pan","Swipe","Pinch","Rotate","Press","define","_transform","_overlay","left","opacity","overlayTransform","boxSizing","pointer","position","background","top","MailBox","WDSingleMailActions","WDMailActionsWrapper","WDMailCategoryWrapper","WDMailPaginationWrapper","MailActionDropdown","SingleMailActions","MailCategoryWrapper","MailPaginationWrapper","MailActionsWrapper","DeleteButton","Popconfirm","title","okText","cancelText","onConfirm","MoveMailButton","bucketOptions","content","SelectTagButton","tagOptions","tags","tag","filterMails","selectMail","toggleListVisible","findIndex","filterMail","SingleMailContents","WDSingleMailHeader","WDSingleMailInfo","WDSingleMailBody","WDSingleMailReply","SingleMailHeader","SingleMailInfo","SingleMailBody","SingleMailReply","singleMail","allMail","replyMail","changeReplyMail","signature","splitLet","labelColor","tagColor","subject","backgroundColor","img","alt","timeDifference","date","MailListWrapper","mailList","selectedMail","isSelected","unreadClass","tagOption","borderRightColor","borderTopColor","renderSingleMail","MailComposeBtnWrapper","MailPagination","defaultEqualityCheck","areArgumentsShallowlyEqual","equalityCheck","getDependencies","funcs","dependencies","every","dep","dependencyTypes","createSelector","memoize","memoizeOptions","_len2","_key2","recomputations","resultFunc","pop","memoizedResultFunc","selector","params","resetRecomputations","createSelectorCreator","lastArgs","lastResult","searchString","newMails","filterBucket","filterTag","search","includes","MailDrawer","mailActions","changeSearchString","MobileView","setOpen","listVisible","setListVisibility","useSelector","Mails","composeMail","setSearch","mailSelector","closeDrawer","singleMailComponent","m","mailBuckets","mailTags","freeGlobal","freeSelf","root","Function","Symbol","getRawTag","objectToString","symToStringTag","toStringTag","createNotification","description","global","fillRef","_typeof","current","refs","objectProto","nativeObjectToString","isOwn","unmasked","isObject","toNumber","nativeMax","max","nativeMin","wait","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","thisArg","leadingEdge","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","timeWaiting","remainingWait","debounced","isInvoking","flush","isSymbol","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","other","valueOf","isBinary","baseGetTag","isObjectLike","defaultIndicator","tuple","debouncifyUpdateSpinning","delay","cancelExistingSpin","updateSpinning","debounce","originalUpdateSpinning","spinning","renderSpin","tip","spinClassName","divProps","spinElement","indicator","dotClassName","isValidElement","renderIndicator","isNestedPattern","containerClassName","shouldBeDelayed","isNaN","Number","shouldDelay","ConfigConsumer","MailTagsList","MailTags","Tags","gettags","renderSingleTag","secondPerFrame","destX","k","newV","newX","reusedTuple","getNanoSeconds","hrtime","loadTime","performance","hr","getTime"],"mappings":"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","file":"static/js/42.4f7a3a87.chunk.js","sourcesContent":["import './index.css'; // style dependencies\n\nimport '../../empty/style/css';\nimport '../../spin/style/css';","/* tslint:disable: no-object-literal-type-assertion */\nimport * as React from 'react'; // We will never use default, here only to fix TypeScript warning\n\nvar MentionsContext = React.createContext(null);\nexport var MentionsContextProvider = MentionsContext.Provider;\nexport var MentionsContextConsumer = MentionsContext.Consumer;","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport Menu, { MenuItem } from 'rc-menu';\nimport * as React from 'react';\nimport { MentionsContextConsumer } from './MentionsContext';\n/**\n * We only use Menu to display the candidate.\n * The focus is controlled by textarea to make accessibility easy.\n */\n\nvar DropdownMenu = /*#__PURE__*/function (_React$Component) {\n  _inherits(DropdownMenu, _React$Component);\n\n  var _super = _createSuper(DropdownMenu);\n\n  function DropdownMenu() {\n    var _this;\n\n    _classCallCheck(this, DropdownMenu);\n\n    _this = _super.apply(this, arguments);\n\n    _this.renderDropdown = function (_ref) {\n      var notFoundContent = _ref.notFoundContent,\n          activeIndex = _ref.activeIndex,\n          setActiveIndex = _ref.setActiveIndex,\n          selectOption = _ref.selectOption,\n          onFocus = _ref.onFocus,\n          onBlur = _ref.onBlur;\n      var _this$props = _this.props,\n          prefixCls = _this$props.prefixCls,\n          options = _this$props.options;\n      var activeOption = options[activeIndex] || {};\n      return React.createElement(Menu, {\n        prefixCls: \"\".concat(prefixCls, \"-menu\"),\n        activeKey: activeOption.value,\n        onSelect: function onSelect(_ref2) {\n          var key = _ref2.key;\n          var option = options.find(function (_ref3) {\n            var value = _ref3.value;\n            return value === key;\n          });\n          selectOption(option);\n        },\n        onFocus: onFocus,\n        onBlur: onBlur\n      }, options.map(function (option, index) {\n        var value = option.value,\n            disabled = option.disabled,\n            children = option.children,\n            className = option.className,\n            style = option.style;\n        return React.createElement(MenuItem, {\n          key: value,\n          disabled: disabled,\n          className: className,\n          style: style,\n          onMouseEnter: function onMouseEnter() {\n            setActiveIndex(index);\n          }\n        }, children);\n      }), !options.length && React.createElement(MenuItem, {\n        disabled: true\n      }, notFoundContent));\n    };\n\n    return _this;\n  }\n\n  _createClass(DropdownMenu, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(MentionsContextConsumer, null, this.renderDropdown);\n    }\n  }]);\n\n  return DropdownMenu;\n}(React.Component);\n\nexport default DropdownMenu;","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport Trigger from 'rc-trigger';\nimport * as React from 'react';\nimport DropdownMenu from './DropdownMenu';\nvar BUILT_IN_PLACEMENTS = {\n  bottomRight: {\n    points: ['tl', 'br'],\n    offset: [0, 4],\n    overflow: {\n      adjustX: 0,\n      adjustY: 1\n    }\n  },\n  bottomLeft: {\n    points: ['tr', 'bl'],\n    offset: [0, 4],\n    overflow: {\n      adjustX: 0,\n      adjustY: 1\n    }\n  },\n  topRight: {\n    points: ['bl', 'tr'],\n    offset: [0, -4],\n    overflow: {\n      adjustX: 0,\n      adjustY: 1\n    }\n  },\n  topLeft: {\n    points: ['br', 'tl'],\n    offset: [0, -4],\n    overflow: {\n      adjustX: 0,\n      adjustY: 1\n    }\n  }\n};\n\nvar KeywordTrigger = /*#__PURE__*/function (_React$Component) {\n  _inherits(KeywordTrigger, _React$Component);\n\n  var _super = _createSuper(KeywordTrigger);\n\n  function KeywordTrigger() {\n    var _this;\n\n    _classCallCheck(this, KeywordTrigger);\n\n    _this = _super.apply(this, arguments);\n\n    _this.getDropdownPrefix = function () {\n      return \"\".concat(_this.props.prefixCls, \"-dropdown\");\n    };\n\n    _this.getDropdownElement = function () {\n      var options = _this.props.options;\n      return React.createElement(DropdownMenu, {\n        prefixCls: _this.getDropdownPrefix(),\n        options: options\n      });\n    };\n\n    _this.getDropDownPlacement = function () {\n      var _this$props = _this.props,\n          placement = _this$props.placement,\n          direction = _this$props.direction;\n      var popupPlacement = 'topRight';\n\n      if (direction === 'rtl') {\n        popupPlacement = placement === 'top' ? 'topLeft' : 'bottomLeft';\n      } else {\n        popupPlacement = placement === 'top' ? 'topRight' : 'bottomRight';\n      }\n\n      return popupPlacement;\n    };\n\n    return _this;\n  }\n\n  _createClass(KeywordTrigger, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          children = _this$props2.children,\n          visible = _this$props2.visible,\n          transitionName = _this$props2.transitionName,\n          getPopupContainer = _this$props2.getPopupContainer;\n      var popupElement = this.getDropdownElement();\n      return React.createElement(Trigger, {\n        prefixCls: this.getDropdownPrefix(),\n        popupVisible: visible,\n        popup: popupElement,\n        popupPlacement: this.getDropDownPlacement(),\n        popupTransitionName: transitionName,\n        builtinPlacements: BUILT_IN_PLACEMENTS,\n        getPopupContainer: getPopupContainer\n      }, children);\n    }\n  }]);\n\n  return KeywordTrigger;\n}(React.Component);\n\nexport default KeywordTrigger;","var Option = function Option() {\n  return null;\n};\n\nexport default Option;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nexport var omit = function omit(obj) {\n  var clone = _objectSpread({}, obj);\n\n  for (var _len = arguments.length, keys = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    keys[_key - 1] = arguments[_key];\n  }\n\n  keys.forEach(function (key) {\n    delete clone[key];\n  });\n  return clone;\n};\n/**\n * Cut input selection into 2 part and return text before selection start\n */\n\nexport function getBeforeSelectionText(input) {\n  var selectionStart = input.selectionStart;\n  return input.value.slice(0, selectionStart);\n}\n/**\n * Find the last match prefix index\n */\n\nexport function getLastMeasureIndex(text) {\n  var prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  var prefixList = Array.isArray(prefix) ? prefix : [prefix];\n  return prefixList.reduce(function (lastMatch, prefixStr) {\n    var lastIndex = text.lastIndexOf(prefixStr);\n\n    if (lastIndex > lastMatch.location) {\n      return {\n        location: lastIndex,\n        prefix: prefixStr\n      };\n    }\n\n    return lastMatch;\n  }, {\n    location: -1,\n    prefix: ''\n  });\n}\n\nfunction lower(char) {\n  return (char || '').toLowerCase();\n}\n\nfunction reduceText(text, targetText, split) {\n  var firstChar = text[0];\n\n  if (!firstChar || firstChar === split) {\n    return text;\n  } // Reuse rest text as it can\n\n\n  var restText = text;\n  var targetTextLen = targetText.length;\n\n  for (var i = 0; i < targetTextLen; i += 1) {\n    if (lower(restText[i]) !== lower(targetText[i])) {\n      restText = restText.slice(i);\n      break;\n    } else if (i === targetTextLen - 1) {\n      restText = restText.slice(targetTextLen);\n    }\n  }\n\n  return restText;\n}\n/**\n * Paint targetText into current text:\n *  text: little@litest\n *  targetText: light\n *  => little @light test\n */\n\n\nexport function replaceWithMeasure(text, measureConfig) {\n  var measureLocation = measureConfig.measureLocation,\n      prefix = measureConfig.prefix,\n      targetText = measureConfig.targetText,\n      selectionStart = measureConfig.selectionStart,\n      split = measureConfig.split; // Before text will append one space if have other text\n\n  var beforeMeasureText = text.slice(0, measureLocation);\n\n  if (beforeMeasureText[beforeMeasureText.length - split.length] === split) {\n    beforeMeasureText = beforeMeasureText.slice(0, beforeMeasureText.length - split.length);\n  }\n\n  if (beforeMeasureText) {\n    beforeMeasureText = \"\".concat(beforeMeasureText).concat(split);\n  } // Cut duplicate string with current targetText\n\n\n  var restText = reduceText(text.slice(selectionStart), targetText.slice(selectionStart - measureLocation - prefix.length), split);\n\n  if (restText.slice(0, split.length) === split) {\n    restText = restText.slice(split.length);\n  }\n\n  var connectedStartText = \"\".concat(beforeMeasureText).concat(prefix).concat(targetText).concat(split);\n  return {\n    text: \"\".concat(connectedStartText).concat(restText),\n    selectionLocation: connectedStartText.length\n  };\n}\nexport function setInputSelection(input, location) {\n  input.setSelectionRange(location, location);\n  /**\n   * Reset caret into view.\n   * Since this function always called by user control, it's safe to focus element.\n   */\n\n  input.blur();\n  input.focus();\n}\nexport function validateSearch(text, props) {\n  var split = props.split;\n  return !split || text.indexOf(split) === -1;\n}\nexport function filterOption(input, _ref) {\n  var _ref$value = _ref.value,\n      value = _ref$value === void 0 ? '' : _ref$value;\n  var lowerCase = input.toLowerCase();\n  return value.toLowerCase().indexOf(lowerCase) !== -1;\n}","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport classNames from 'classnames';\nimport toArray from \"rc-util/es/Children/toArray\";\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport * as React from 'react';\nimport TextArea from 'rc-textarea';\nimport KeywordTrigger from './KeywordTrigger';\nimport { MentionsContextProvider } from './MentionsContext';\nimport Option from './Option';\nimport { filterOption as defaultFilterOption, getBeforeSelectionText, getLastMeasureIndex, omit, replaceWithMeasure, setInputSelection, validateSearch as defaultValidateSearch } from './util';\n\nvar Mentions = /*#__PURE__*/function (_React$Component) {\n  _inherits(Mentions, _React$Component);\n\n  var _super = _createSuper(Mentions);\n\n  function Mentions(props) {\n    var _this;\n\n    _classCallCheck(this, Mentions);\n\n    _this = _super.call(this, props);\n    _this.focusId = undefined;\n\n    _this.triggerChange = function (value) {\n      var onChange = _this.props.onChange;\n\n      if (!('value' in _this.props)) {\n        _this.setState({\n          value: value\n        });\n      }\n\n      if (onChange) {\n        onChange(value);\n      }\n    };\n\n    _this.onChange = function (_ref) {\n      var value = _ref.target.value;\n\n      _this.triggerChange(value);\n    }; // Check if hit the measure keyword\n\n\n    _this.onKeyDown = function (event) {\n      var which = event.which;\n      var _this$state = _this.state,\n          activeIndex = _this$state.activeIndex,\n          measuring = _this$state.measuring; // Skip if not measuring\n\n      if (!measuring) {\n        return;\n      }\n\n      if (which === KeyCode.UP || which === KeyCode.DOWN) {\n        // Control arrow function\n        var optionLen = _this.getOptions().length;\n\n        var offset = which === KeyCode.UP ? -1 : 1;\n        var newActiveIndex = (activeIndex + offset + optionLen) % optionLen;\n\n        _this.setState({\n          activeIndex: newActiveIndex\n        });\n\n        event.preventDefault();\n      } else if (which === KeyCode.ESC) {\n        _this.stopMeasure();\n      } else if (which === KeyCode.ENTER) {\n        // Measure hit\n        event.preventDefault();\n\n        var options = _this.getOptions();\n\n        if (!options.length) {\n          _this.stopMeasure();\n\n          return;\n        }\n\n        var option = options[activeIndex];\n\n        _this.selectOption(option);\n      }\n    };\n    /**\n     * When to start measure:\n     * 1. When user press `prefix`\n     * 2. When measureText !== prevMeasureText\n     *  - If measure hit\n     *  - If measuring\n     *\n     * When to stop measure:\n     * 1. Selection is out of range\n     * 2. Contains `space`\n     * 3. ESC or select one\n     */\n\n\n    _this.onKeyUp = function (event) {\n      var key = event.key,\n          which = event.which;\n      var _this$state2 = _this.state,\n          prevMeasureText = _this$state2.measureText,\n          measuring = _this$state2.measuring;\n      var _this$props = _this.props,\n          _this$props$prefix = _this$props.prefix,\n          prefix = _this$props$prefix === void 0 ? '' : _this$props$prefix,\n          onSearch = _this$props.onSearch,\n          validateSearch = _this$props.validateSearch;\n      var target = event.target;\n      var selectionStartText = getBeforeSelectionText(target);\n\n      var _getLastMeasureIndex = getLastMeasureIndex(selectionStartText, prefix),\n          measureIndex = _getLastMeasureIndex.location,\n          measurePrefix = _getLastMeasureIndex.prefix; // Skip if match the white key list\n\n\n      if ([KeyCode.ESC, KeyCode.UP, KeyCode.DOWN, KeyCode.ENTER].indexOf(which) !== -1) {\n        return;\n      }\n\n      if (measureIndex !== -1) {\n        var measureText = selectionStartText.slice(measureIndex + measurePrefix.length);\n        var validateMeasure = validateSearch(measureText, _this.props);\n        var matchOption = !!_this.getOptions(measureText).length;\n\n        if (validateMeasure) {\n          if (key === measurePrefix || measuring || measureText !== prevMeasureText && matchOption) {\n            _this.startMeasure(measureText, measurePrefix, measureIndex);\n          }\n        } else if (measuring) {\n          // Stop if measureText is invalidate\n          _this.stopMeasure();\n        }\n        /**\n         * We will trigger `onSearch` to developer since they may use for async update.\n         * If met `space` means user finished searching.\n         */\n\n\n        if (onSearch && validateMeasure) {\n          onSearch(measureText, measurePrefix);\n        }\n      } else if (measuring) {\n        _this.stopMeasure();\n      }\n    };\n\n    _this.onPressEnter = function (event) {\n      var measuring = _this.state.measuring;\n      var onPressEnter = _this.props.onPressEnter;\n\n      if (!measuring && onPressEnter) {\n        onPressEnter(event);\n      }\n    };\n\n    _this.onInputFocus = function (event) {\n      _this.onFocus(event);\n    };\n\n    _this.onInputBlur = function (event) {\n      _this.onBlur(event);\n    };\n\n    _this.onDropdownFocus = function () {\n      _this.onFocus();\n    };\n\n    _this.onDropdownBlur = function () {\n      _this.onBlur();\n    };\n\n    _this.onFocus = function (event) {\n      window.clearTimeout(_this.focusId);\n      var isFocus = _this.state.isFocus;\n      var onFocus = _this.props.onFocus;\n\n      if (!isFocus && event && onFocus) {\n        onFocus(event);\n      }\n\n      _this.setState({\n        isFocus: true\n      });\n    };\n\n    _this.onBlur = function (event) {\n      _this.focusId = window.setTimeout(function () {\n        var onBlur = _this.props.onBlur;\n\n        _this.setState({\n          isFocus: false\n        });\n\n        _this.stopMeasure();\n\n        if (onBlur) {\n          onBlur(event);\n        }\n      }, 0);\n    };\n\n    _this.selectOption = function (option) {\n      var _this$state3 = _this.state,\n          value = _this$state3.value,\n          measureLocation = _this$state3.measureLocation,\n          measurePrefix = _this$state3.measurePrefix;\n      var _this$props2 = _this.props,\n          split = _this$props2.split,\n          onSelect = _this$props2.onSelect;\n      var _option$value = option.value,\n          mentionValue = _option$value === void 0 ? '' : _option$value;\n\n      var _replaceWithMeasure = replaceWithMeasure(value, {\n        measureLocation: measureLocation,\n        targetText: mentionValue,\n        prefix: measurePrefix,\n        selectionStart: _this.textarea.selectionStart,\n        split: split\n      }),\n          text = _replaceWithMeasure.text,\n          selectionLocation = _replaceWithMeasure.selectionLocation;\n\n      _this.triggerChange(text);\n\n      _this.stopMeasure(function () {\n        // We need restore the selection position\n        setInputSelection(_this.textarea, selectionLocation);\n      });\n\n      if (onSelect) {\n        onSelect(option, measurePrefix);\n      }\n    };\n\n    _this.setActiveIndex = function (activeIndex) {\n      _this.setState({\n        activeIndex: activeIndex\n      });\n    };\n\n    _this.setTextAreaRef = function (element) {\n      var _element$resizableTex;\n\n      _this.textarea = element === null || element === void 0 ? void 0 : (_element$resizableTex = element.resizableTextArea) === null || _element$resizableTex === void 0 ? void 0 : _element$resizableTex.textArea;\n    };\n\n    _this.setMeasureRef = function (element) {\n      _this.measure = element;\n    };\n\n    _this.getOptions = function (measureText) {\n      var targetMeasureText = measureText || _this.state.measureText || '';\n      var _this$props3 = _this.props,\n          children = _this$props3.children,\n          filterOption = _this$props3.filterOption;\n      var list = toArray(children).map(function (_ref2) {\n        var props = _ref2.props;\n        return props;\n      }).filter(function (option) {\n        /** Return all result if `filterOption` is false. */\n        if (filterOption === false) {\n          return true;\n        }\n\n        return filterOption(targetMeasureText, option);\n      });\n      return list;\n    };\n\n    _this.state = {\n      value: props.defaultValue || props.value || '',\n      measuring: false,\n      measureLocation: 0,\n      measureText: null,\n      measurePrefix: '',\n      activeIndex: 0,\n      isFocus: false\n    };\n    return _this;\n  }\n\n  _createClass(Mentions, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var measuring = this.state.measuring; // Sync measure div top with textarea for rc-trigger usage\n\n      if (measuring) {\n        this.measure.scrollTop = this.textarea.scrollTop;\n      }\n    }\n  }, {\n    key: \"startMeasure\",\n    value: function startMeasure(measureText, measurePrefix, measureLocation) {\n      this.setState({\n        measuring: true,\n        measureText: measureText,\n        measurePrefix: measurePrefix,\n        measureLocation: measureLocation,\n        activeIndex: 0\n      });\n    }\n  }, {\n    key: \"stopMeasure\",\n    value: function stopMeasure(callback) {\n      this.setState({\n        measuring: false,\n        measureLocation: 0,\n        measureText: null\n      }, callback);\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      this.textarea.focus();\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      this.textarea.blur();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state4 = this.state,\n          value = _this$state4.value,\n          measureLocation = _this$state4.measureLocation,\n          measurePrefix = _this$state4.measurePrefix,\n          measuring = _this$state4.measuring,\n          activeIndex = _this$state4.activeIndex;\n\n      var _this$props4 = this.props,\n          prefixCls = _this$props4.prefixCls,\n          placement = _this$props4.placement,\n          direction = _this$props4.direction,\n          transitionName = _this$props4.transitionName,\n          className = _this$props4.className,\n          style = _this$props4.style,\n          autoFocus = _this$props4.autoFocus,\n          notFoundContent = _this$props4.notFoundContent,\n          getPopupContainer = _this$props4.getPopupContainer,\n          restProps = _objectWithoutProperties(_this$props4, [\"prefixCls\", \"placement\", \"direction\", \"transitionName\", \"className\", \"style\", \"autoFocus\", \"notFoundContent\", \"getPopupContainer\"]);\n\n      var inputProps = omit(restProps, 'value', 'defaultValue', 'prefix', 'split', 'children', 'validateSearch', 'filterOption', 'onSelect', 'onSearch');\n      var options = measuring ? this.getOptions() : [];\n      return React.createElement(\"div\", {\n        className: classNames(prefixCls, className),\n        style: style\n      }, React.createElement(TextArea, Object.assign({\n        autoFocus: autoFocus,\n        ref: this.setTextAreaRef,\n        value: value\n      }, inputProps, {\n        onChange: this.onChange,\n        onKeyDown: this.onKeyDown,\n        onKeyUp: this.onKeyUp,\n        onPressEnter: this.onPressEnter,\n        onFocus: this.onInputFocus,\n        onBlur: this.onInputBlur\n      })), measuring && React.createElement(\"div\", {\n        ref: this.setMeasureRef,\n        className: \"\".concat(prefixCls, \"-measure\")\n      }, value.slice(0, measureLocation), React.createElement(MentionsContextProvider, {\n        value: {\n          notFoundContent: notFoundContent,\n          activeIndex: activeIndex,\n          setActiveIndex: this.setActiveIndex,\n          selectOption: this.selectOption,\n          onFocus: this.onDropdownFocus,\n          onBlur: this.onDropdownBlur\n        }\n      }, React.createElement(KeywordTrigger, {\n        prefixCls: prefixCls,\n        transitionName: transitionName,\n        placement: placement,\n        direction: direction,\n        options: options,\n        visible: true,\n        getPopupContainer: getPopupContainer\n      }, React.createElement(\"span\", null, measurePrefix))), value.slice(measureLocation + measurePrefix.length)));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(props, prevState) {\n      var newState = {};\n\n      if ('value' in props && props.value !== prevState.value) {\n        newState.value = props.value || '';\n      }\n\n      return newState;\n    }\n  }]);\n\n  return Mentions;\n}(React.Component);\n\nMentions.Option = Option;\nMentions.defaultProps = {\n  prefixCls: 'rc-mentions',\n  prefix: '@',\n  split: ' ',\n  validateSearch: defaultValidateSearch,\n  filterOption: defaultFilterOption,\n  notFoundContent: 'Not Found',\n  rows: 1\n};\nexport default Mentions;","import Mentions from './Mentions';\nexport default Mentions;","import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport RcMentions from 'rc-mentions';\nimport Spin from '../spin';\nimport { ConfigContext } from '../config-provider';\nimport { composeRef } from '../_util/ref';\nvar Option = RcMentions.Option;\nexport { Option };\n\nfunction loadingFilterOption() {\n  return true;\n}\n\nvar InternalMentions = function InternalMentions(_a, ref) {\n  var _classNames;\n\n  var customizePrefixCls = _a.prefixCls,\n      className = _a.className,\n      disabled = _a.disabled,\n      loading = _a.loading,\n      filterOption = _a.filterOption,\n      children = _a.children,\n      notFoundContent = _a.notFoundContent,\n      restProps = __rest(_a, [\"prefixCls\", \"className\", \"disabled\", \"loading\", \"filterOption\", \"children\", \"notFoundContent\"]);\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      focused = _React$useState2[0],\n      setFocused = _React$useState2[1];\n\n  var innerRef = React.useRef();\n  var mergedRef = composeRef(ref, innerRef);\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      renderEmpty = _React$useContext.renderEmpty,\n      direction = _React$useContext.direction;\n\n  var onFocus = function onFocus() {\n    if (restProps.onFocus) {\n      restProps.onFocus.apply(restProps, arguments);\n    }\n\n    setFocused(true);\n  };\n\n  var onBlur = function onBlur() {\n    if (restProps.onBlur) {\n      restProps.onBlur.apply(restProps, arguments);\n    }\n\n    setFocused(false);\n  };\n\n  var getNotFoundContent = function getNotFoundContent() {\n    if (notFoundContent !== undefined) {\n      return notFoundContent;\n    }\n\n    return renderEmpty('Select');\n  };\n\n  var getOptions = function getOptions() {\n    if (loading) {\n      return /*#__PURE__*/React.createElement(Option, {\n        value: \"ANTD_SEARCHING\",\n        disabled: true\n      }, /*#__PURE__*/React.createElement(Spin, {\n        size: \"small\"\n      }));\n    }\n\n    return children;\n  };\n\n  var getFilterOption = function getFilterOption() {\n    if (loading) {\n      return loadingFilterOption;\n    }\n\n    return filterOption;\n  };\n\n  var prefixCls = getPrefixCls('mentions', customizePrefixCls);\n  var mergedClassName = classNames((_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-disabled\"), disabled), _defineProperty(_classNames, \"\".concat(prefixCls, \"-focused\"), focused), _defineProperty(_classNames, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames), className);\n  return /*#__PURE__*/React.createElement(RcMentions, _extends({\n    prefixCls: prefixCls,\n    notFoundContent: getNotFoundContent(),\n    className: mergedClassName,\n    disabled: disabled,\n    direction: direction\n  }, restProps, {\n    filterOption: getFilterOption(),\n    onFocus: onFocus,\n    onBlur: onBlur,\n    ref: mergedRef\n  }), getOptions());\n};\n\nvar Mentions = /*#__PURE__*/React.forwardRef(InternalMentions);\nMentions.displayName = 'Mentions';\nMentions.Option = Option;\n\nMentions.getMentions = function () {\n  var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var config = arguments.length > 1 ? arguments[1] : undefined;\n\n  var _ref = config || {},\n      _ref$prefix = _ref.prefix,\n      prefix = _ref$prefix === void 0 ? '@' : _ref$prefix,\n      _ref$split = _ref.split,\n      split = _ref$split === void 0 ? ' ' : _ref$split;\n\n  var prefixList = Array.isArray(prefix) ? prefix : [prefix];\n  return value.split(split).map(function () {\n    var str = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var hitPrefix = null;\n    prefixList.some(function (prefixStr) {\n      var startStr = str.slice(0, prefixStr.length);\n\n      if (startStr === prefixStr) {\n        hitPrefix = prefixStr;\n        return true;\n      }\n\n      return false;\n    });\n\n    if (hitPrefix !== null) {\n      return {\n        prefix: hitPrefix,\n        value: str.slice(hitPrefix.length)\n      };\n    }\n\n    return null;\n  }).filter(function (entity) {\n    return !!entity && !!entity.value;\n  });\n};\n\nexport default Mentions;","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = {\n  noWobble: { stiffness: 170, damping: 26 }, // the default, if nothing provided\n  gentle: { stiffness: 120, damping: 14 },\n  wobbly: { stiffness: 180, damping: 12 },\n  stiff: { stiffness: 210, damping: 20 }\n};\nmodule.exports = exports[\"default\"];","import styled from 'styled-components';\nimport { palette } from 'styled-theme';\nimport {\n  transition,\n  borderRadius,\n  boxShadow,\n} from '@iso/lib/helpers/style_utils';\n\nconst ComposeAutoCompleteStyleWrapper = styled.div`\n  .ant-mentions {\n    min-height: 36px;\n    width: 100%;\n    position: relative;\n    margin-bottom: 10px;\n    padding: 0 15px;\n    border: 1px solid ${palette('border', 0)};\n    ${borderRadius('3px')};\n\n    &:hover {\n      border-color: ${palette('border', 0)};\n    }\n\n    &:focus,\n    &.ant-mentions-focused {\n      border-color: ${palette('border', 0)};\n      box-shadow: none;\n    }\n\n    textarea {\n      width: 100%;\n      font-size: 14px;\n      font-weight: 400;\n      color: ${palette('text', 0)};\n      line-height: inherit;\n      text-align: ${(props) =>\n        props['data-rtl'] === 'rtl' ? 'right' : 'left'};\n      line-height: 36px;\n      min-width: 240px;\n      padding: 0;\n      border: 0;\n      outline: 0 !important;\n      background-color: transparent;\n\n      &::-webkit-input-placeholder {\n        text-align: ${(props) =>\n          props['data-rtl'] === 'rtl' ? 'right' : 'left'};\n        color: ${palette('grayscale', 0)};\n      }\n\n      &:-moz-placeholder {\n        text-align: ${(props) =>\n          props['data-rtl'] === 'rtl' ? 'right' : 'left'};\n        color: ${palette('grayscale', 0)};\n      }\n\n      &::-moz-placeholder {\n        text-align: ${(props) =>\n          props['data-rtl'] === 'rtl' ? 'right' : 'left'};\n        color: ${palette('grayscale', 0)};\n      }\n      &:-ms-input-placeholder {\n        text-align: ${(props) =>\n          props['data-rtl'] === 'rtl' ? 'right' : 'left'};\n        color: ${palette('grayscale', 0)};\n      }\n    }\n\n    &suggestions {\n      z-index: 999;\n      display: -webkit-flex;\n      display: -ms-flex;\n      display: flex;\n      flex-direction: column;\n      background-color: #fff;\n      margin: 3px 0 0;\n      overflow: hidden;\n      word-break: break-word;\n      border: 1px solid rgba(0, 0, 0, 0.2);\n      text-align: ${(props) =>\n        props['data-rtl'] === 'rtl' ? 'right' : 'left'};\n      position: absolute;\n      right: ${(props) => (props['data-rtl'] === 'rtl' ? '0' : 'auto')};\n      left: ${(props) => (props['data-rtl'] === 'rtl' ? 'auto' : '0')};\n      top: 100%;\n      ${borderRadius()};\n      ${boxShadow('0 2px 4px rgba(0,0,0,0.2)')};\n\n      li {\n        font-size: 14px;\n        font-weight: 400;\n        color: ${palette('text', 0)};\n        border-bottom: ${palette('border', 0)};\n        line-height: 1.5;\n        width: 100%;\n        padding: 10px 15px;\n        margin: 0;\n        cursor: pointer;\n        ${transition()};\n\n        &:hover {\n          background-color: ${palette('grayscale', 3)};\n        }\n\n        &:last-of-type {\n          border-bottom: 0;\n        }\n      }\n    }\n\n    &activeSuggestion {\n      background-color: ${palette('grayscale', 3)};\n    }\n  }\n`;\n\nexport default ComposeAutoCompleteStyleWrapper;\n","import React from 'react';\nimport AutoComplete from './ComposeAutoComplete.style';\nimport { Mentions } from 'antd';\n\nfunction createSuggestions(item) {\n  if (item && item.length > 0) {\n    return item.map((element) => ({\n      id: `${element.id}`,\n      value: `${element.email}`,\n      text: `${element.name}<${element.email}>`,\n    }));\n  }\n  return [];\n}\n\nexport default function MentionsReceiver({ placeholder, autofocus, allMails }) {\n  const [options] = React.useState(createSuggestions(allMails));\n  function onChange(value) {\n    console.log('Change:', value);\n  }\n  function onSelect(option) {\n    console.log('select', option);\n  }\n  return (\n    <AutoComplete>\n      <Mentions\n        style={{ width: '100%' }}\n        onChange={onChange}\n        onSelect={onSelect}\n        placeholder={`${placeholder}: input @ to mention receiver`}\n        autoFocus={autofocus ?? false}\n      >\n        {options.map(({ id, value, text }) => (\n          <Mentions.Option key={id} value={value}>\n            {text}\n          </Mentions.Option>\n        ))}\n      </Mentions>\n    </AutoComplete>\n  );\n}\n","import styled from 'styled-components';\nimport { palette } from 'styled-theme';\nimport {\n  transition,\n  borderRadius,\n  boxShadow,\n} from '@iso/lib/helpers/style_utils';\n\nconst ComposeForm = styled.div`\n  padding: 35px;\n  text-align: left;\n  height: 100%;\n  width: 100%;\n  overflow-y: auto;\n\n  .isoInputBox {\n    font-size: 14px;\n    font-weight: 400;\n    color: ${palette('text', 0)};\n    line-height: inherit;\n    height: 36px;\n    padding: 0 15px;\n    margin-bottom: 10px;\n    border: 1px solid ${palette('border', 0)};\n    outline: 0 !important;\n    overflow: hidden;\n    background-color: #ffffff;\n    ${borderRadius('3px')};\n    ${boxShadow()};\n    ${transition()};\n\n    &:focus,\n    &:hover {\n      border-color: ${palette('border', 0)};\n      box-shadow: none;\n    }\n\n    &::-webkit-input-placeholder {\n      color: ${palette('grayscale', 0)};\n    }\n\n    &:-moz-placeholder {\n      color: ${palette('grayscale', 0)};\n    }\n\n    &::-moz-placeholder {\n      color: ${palette('grayscale', 0)};\n    }\n    &:-ms-input-placeholder {\n      color: ${palette('grayscale', 0)};\n    }\n  }\n\n  .isoComposeMailBtnWrapper {\n    margin-top: 10px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    .isoSendMailBtn,\n    .isoCancelMailBtn {\n      height: 36px;\n      padding: 0 30px;\n      background-color: ${palette('primary', 0)};\n      border: 0;\n      ${transition()};\n\n      &:hover {\n        background-color: ${palette('primary', 1)};\n      }\n    }\n\n    .isoCancelMailBtn {\n      background-color: ${palette('error', 0)};\n\n      &:hover {\n        background-color: ${palette('error', 1)};\n      }\n    }\n  }\n`;\n\nexport default ComposeForm;\n","import React from 'react';\nimport Button from '../uielements/button';\nimport Input from '../uielements/input';\nimport ComposeAutoComplete from './ComposeAutoComplete';\nimport notification from '../Notification';\nimport IntlMessages from '../utility/intlMessages';\nimport ComposeForm from './ComposeMail.style';\nimport Editor from '../uielements/editor';\n\nfunction uploadCallback(file) {\n  return new Promise((resolve, reject) => {\n    const xhr = new XMLHttpRequest();\n    xhr.open('POST', 'https://api.imgur.com/3/image');\n    xhr.setRequestHeader('Authorization', 'Client-ID 8d26ccd12712fca');\n    const data = new FormData();\n    data.append('image', file);\n    xhr.send(data);\n    xhr.addEventListener('load', () => {\n      const response = JSON.parse(xhr.responseText);\n      resolve(response);\n    });\n    xhr.addEventListener('error', () => {\n      const error = JSON.parse(xhr.responseText);\n      reject(error);\n    });\n  });\n}\nexport default function ComposeMail(props) {\n  const [state, setState] = React.useState({\n    editorState: null,\n    loading: false,\n    iconLoading: false,\n  });\n  const onEditorStateChange = editorState => {\n    setState({ ...state, editorState });\n  };\n  const ComposeAutoCompleteTO = {\n    allMails: props.allMails,\n    updateData: () => {},\n    placeholder: 'To',\n    autofocus: true,\n  };\n  const ComposeAutoCompleteCC = {\n    allMails: props.allMails,\n    updateData: () => {},\n    placeholder: 'CC',\n  };\n  const editorOption = {\n    style: { width: '90%', height: '70%' },\n    editorState: state.editorState,\n    toolbarClassName: 'home-toolbar',\n    wrapperClassName: 'home-wrapper',\n    editorClassName: 'home-editor',\n    onEditorStateChange: onEditorStateChange,\n    uploadCallback: uploadCallback,\n    toolbar: { image: { uploadCallback: uploadCallback } },\n  };\n\n  return (\n    <ComposeForm className=\"isoComposeMailWrapper\">\n      <ComposeAutoComplete {...ComposeAutoCompleteTO} />\n      <ComposeAutoComplete {...ComposeAutoCompleteCC} />\n      <Input placeholder=\"Subject\" className=\"isoInputBox\" />\n      <Editor {...editorOption} />\n      <div className=\"isoComposeMailBtnWrapper\">\n        {props.mobileView || props.tabView ? (\n          <Button\n            type=\"primary\"\n            onClick={() => {\n              props.changeComposeMail(false);\n            }}\n            className=\"isoCancelMailBtn\"\n          >\n            <IntlMessages id=\"email.cancel\" />\n          </Button>\n        ) : (\n          ''\n        )}\n\n        <Button\n          type=\"primary\"\n          onClick={e => notification('success', `Mail has been sent`, '')}\n          className=\"isoSendMailBtn\"\n        >\n          <IntlMessages id=\"email.send\" />\n        </Button>\n      </div>\n    </ComposeForm>\n  );\n}\n","import styled from 'styled-components';\nimport { palette } from 'styled-theme';\nimport { transition } from '@iso/lib/helpers/style_utils';\nimport WithDirection from '@iso/lib/helpers/rtl';\n\nconst MailBucket = styled.ul`\n  padding: 35px 0 0;\n\n  .isoSingleBucket {\n    width: 100%;\n    display: flex;\n    padding: 0 30px;\n    margin-bottom: 15px;\n    align-items: center;\n    cursor: pointer;\n    justify-content: space-between;\n\n    span {\n      font-size: 14px;\n      font-weight: 400;\n      color: ${palette('secondary', 2)};\n      cursor: pointer;\n      text-transform: capitalize;\n      line-height: 1.1;\n      ${transition()};\n    }\n\n    .isoMailBadge {\n      font-size: 12px;\n      font-weight: 500;\n      color: ${palette('secondary', 2)};\n      line-height: normal;\n      margin: ${props =>\n        props['data-rtl'] === 'rtl' ? '0 auto 0 0' : '0 0 0 auto'};\n      display: -webkit-inline-flex;\n      display: -ms-inline-flex;\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      text-align: center;\n    }\n\n    &.active {\n      span:not(.isoMailBadge) {\n        font-weight: 500;\n        color: ${palette('primary', 0)};\n      }\n    }\n\n    span:not(.isoMailBadge) {\n      &:hover {\n        color: ${palette('primary', 0)};\n      }\n    }\n  }\n`;\n\nexport default WithDirection(MailBucket);\n","import React from 'react';\nimport MailBucket from './MailBucket.style';\n\nconst buckets = [\n  'Inbox',\n  'Sent',\n  'Drafts',\n  'Trash',\n  'Important',\n  'spam',\n  'Starred',\n];\n\nfunction getUnread(mails) {\n  const unread = {};\n  mails.forEach((mail) => {\n    if (!unread[mail.bucket]) {\n      unread[mail.bucket] = 0;\n    }\n    if (!mail.read) {\n      unread[mail.bucket] += 1;\n    }\n  });\n  return unread;\n}\n\nexport default function MailBuckets(\n  mails,\n  filterAction,\n  filterAttr,\n  onDrawerClose\n) {\n  const unread = getUnread(mails);\n  const renderSingleBucket = (bucket, key) => {\n    const onClick = () => {\n      filterAction({ bucket });\n      if (onDrawerClose) {\n        onDrawerClose();\n      }\n    };\n    const selectedBucket = bucket === filterAttr.bucket;\n    const activeClass = selectedBucket ? 'active' : '';\n    return (\n      <li\n        key={`bucket${key}`}\n        onClick={onClick}\n        className={`isoSingleBucket ${activeClass}`}\n      >\n        <span>{bucket}</span>\n        <span className=\"isoMailBadge\">\n          {unread[bucket] ? unread[bucket] : ''}\n        </span>\n      </li>\n    );\n  };\n  return (\n    <MailBucket className=\"isoBucketList\">\n      {buckets.map((bucket, index) => renderSingleBucket(bucket, index))}\n    </MailBucket>\n  );\n}\nexport { buckets };\n","import styled from 'styled-components';\nimport { palette, font } from 'styled-theme';\nimport WithDirection from '@iso/lib/helpers/rtl';\nconst QuillEditor = styled.div`\n  .ql-editor {\n    min-height: 215px;\n    text-align: ${props => (props['data-rtl'] === 'rtl' ? 'right' : 'left')};\n  }\n\n  .ql-toolbar.ql-snow,\n  .ql-container.ql-snow {\n    border: 1px solid ${palette('border', 0)};\n    text-align: ${props => (props['data-rtl'] === 'rtl' ? 'right' : 'left')};\n\n    .ql-formats {\n      margin: ${props =>\n        props['data-rtl'] === 'rtl' ? '0 0 0 15px' : '0 15px 0 0'};\n    }\n\n    .ql-picker-label {\n      padding: ${props =>\n        props['data-rtl'] === 'rtl' ? '0 8px 0 2px' : '0 2px 0 8px'};\n\n      &:not(.ql-color-picker):not(.ql-icon-picker) {\n        svg {\n          right: ${props => (props['data-rtl'] === 'rtl' ? 'inherit' : '0')};\n          left: ${props => (props['data-rtl'] === 'rtl' ? '0' : 'inherit')};\n        }\n      }\n    }\n  }\n\n  .ql-container {\n    font-family: ${font('primary', 0)};\n    min-height: 220px;\n  }\n\n  .ql-editor p,\n  .ql-editor ol,\n  .ql-editor ul,\n  .ql-editor pre,\n  .ql-editor blockquote,\n  .ql-editor h1,\n  .ql-editor h2,\n  .ql-editor h3,\n  .ql-editor h4,\n  .ql-editor h5,\n  .ql-editor h6 {\n    color: ${palette('text', 0)};\n  }\n\n  .ql-snow.ql-toolbar button:hover,\n  .ql-snow .ql-toolbar button:hover,\n  .ql-snow.ql-toolbar button:focus,\n  .ql-snow .ql-toolbar button:focus,\n  .ql-snow.ql-toolbar button.ql-active,\n  .ql-snow .ql-toolbar button.ql-active,\n  .ql-snow.ql-toolbar .ql-picker-label:hover,\n  .ql-snow .ql-toolbar .ql-picker-label:hover,\n  .ql-snow.ql-toolbar .ql-picker-label.ql-active,\n  .ql-snow .ql-toolbar .ql-picker-label.ql-active,\n  .ql-snow.ql-toolbar .ql-picker-item:hover,\n  .ql-snow .ql-toolbar .ql-picker-item:hover,\n  .ql-snow.ql-toolbar .ql-picker-item.ql-selected,\n  .ql-snow .ql-toolbar .ql-picker-item.ql-selected {\n    color: ${palette('primary', 0)};\n  }\n  .ql-snow.ql-toolbar button:hover .ql-fill,\n  .ql-snow .ql-toolbar button:hover .ql-fill,\n  .ql-snow.ql-toolbar button:focus .ql-fill,\n  .ql-snow .ql-toolbar button:focus .ql-fill,\n  .ql-snow.ql-toolbar button.ql-active .ql-fill,\n  .ql-snow .ql-toolbar button.ql-active .ql-fill,\n  .ql-snow.ql-toolbar .ql-picker-label:hover .ql-fill,\n  .ql-snow .ql-toolbar .ql-picker-label:hover .ql-fill,\n  .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-fill,\n  .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-fill,\n  .ql-snow.ql-toolbar .ql-picker-item:hover .ql-fill,\n  .ql-snow .ql-toolbar .ql-picker-item:hover .ql-fill,\n  .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-fill,\n  .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-fill,\n  .ql-snow.ql-toolbar button:hover .ql-stroke.ql-fill,\n  .ql-snow .ql-toolbar button:hover .ql-stroke.ql-fill,\n  .ql-snow.ql-toolbar button:focus .ql-stroke.ql-fill,\n  .ql-snow .ql-toolbar button:focus .ql-stroke.ql-fill,\n  .ql-snow.ql-toolbar button.ql-active .ql-stroke.ql-fill,\n  .ql-snow .ql-toolbar button.ql-active .ql-stroke.ql-fill,\n  .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,\n  .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,\n  .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,\n  .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,\n  .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,\n  .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,\n  .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,\n  .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill {\n    fill: ${palette('primary', 0)};\n  }\n  .ql-snow.ql-toolbar button:hover .ql-stroke,\n  .ql-snow .ql-toolbar button:hover .ql-stroke,\n  .ql-snow.ql-toolbar button:focus .ql-stroke,\n  .ql-snow .ql-toolbar button:focus .ql-stroke,\n  .ql-snow.ql-toolbar button.ql-active .ql-stroke,\n  .ql-snow .ql-toolbar button.ql-active .ql-stroke,\n  .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke,\n  .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke,\n  .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke,\n  .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke,\n  .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke,\n  .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke,\n  .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke,\n  .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke,\n  .ql-snow.ql-toolbar button:hover .ql-stroke-miter,\n  .ql-snow .ql-toolbar button:hover .ql-stroke-miter,\n  .ql-snow.ql-toolbar button:focus .ql-stroke-miter,\n  .ql-snow .ql-toolbar button:focus .ql-stroke-miter,\n  .ql-snow.ql-toolbar button.ql-active .ql-stroke-miter,\n  .ql-snow .ql-toolbar button.ql-active .ql-stroke-miter,\n  .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke-miter,\n  .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke-miter,\n  .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,\n  .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,\n  .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke-miter,\n  .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke-miter,\n  .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,\n  .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter {\n    stroke: ${palette('primary', 0)};\n  }\n\n  .ql-snow a {\n    color: ${palette('primary', 0)};\n  }\n`;\n\nexport default WithDirection(QuillEditor);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactQuill from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\nimport 'react-quill/dist/quill.bubble.css';\nimport 'react-quill/dist/quill.core.css';\nimport EditorWrapper from './styles/editor.style';\nclass Editor extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { editorHtml: '', theme: 'snow' };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(html) {\n    this.setState({ editorHtml: html });\n  }\n\n  handleThemeChange(newTheme) {\n    if (newTheme === 'core') newTheme = null;\n    this.setState({ theme: newTheme });\n  }\n\n  render() {\n    return (\n      <EditorWrapper>\n        <ReactQuill\n          theme={this.state.theme}\n          onChange={this.handleChange}\n          value={this.state.editorHtml}\n          modules={Editor.modules}\n          formats={Editor.formats}\n          bounds={'.app'}\n          placeholder={this.props.placeholder}\n        />\n        {/* <div className=\"themeSwitcher\">\n          <label>Theme </label>\n          <select onChange={e => this.handleThemeChange(e.target.value)}>\n            <option value=\"snow\">Snow</option>\n            <option value=\"bubble\">Bubble</option>\n            <option value=\"core\">Core</option>\n          </select>\n        </div> */}\n      </EditorWrapper>\n    );\n  }\n}\n\n/*\n * Quill modules to attach to editor\n * See https://quilljs.com/docs/modules/ for complete options\n */\nEditor.modules = {\n  toolbar: [\n    [{ header: '1' }, { header: '2' }, { font: [] }],\n    [{ size: [] }],\n    ['bold', 'italic', 'underline', 'strike', 'blockquote'],\n    [\n      { list: 'ordered' },\n      { list: 'bullet' },\n      { indent: '-1' },\n      { indent: '+1' },\n    ],\n    ['link', 'image', 'video'],\n    ['clean'],\n  ],\n  clipboard: {\n    // toggle to add extra line breaks when pasting HTML:\n    matchVisual: false,\n  },\n};\n/*\n * Quill editor formats\n * See https://quilljs.com/docs/formats/\n */\nEditor.formats = [\n  'header',\n  'font',\n  'size',\n  'bold',\n  'italic',\n  'underline',\n  'strike',\n  'blockquote',\n  'list',\n  'bullet',\n  'indent',\n  'link',\n  'image',\n  'video',\n];\n\n/*\n * PropType validation\n */\nEditor.propTypes = {\n  placeholder: PropTypes.string,\n};\n\nexport default Editor;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactMotion = require(\"react-motion\");\n\nvar _reactHammerjs = require(\"react-hammerjs\");\n\nvar _reactHammerjs2 = _interopRequireDefault(_reactHammerjs);\n\nvar _isFunction = require(\"1-liners/isFunction\");\n\nvar _isFunction2 = _interopRequireDefault(_isFunction);\n\nvar _styles2 = require(\"./styles\");\n\nvar _styles3 = _interopRequireDefault(_styles2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar bool = _propTypes2.default.bool,\n    number = _propTypes2.default.number,\n    array = _propTypes2.default.array,\n    object = _propTypes2.default.object,\n    string = _propTypes2.default.string,\n    func = _propTypes2.default.func,\n    oneOfType = _propTypes2.default.oneOfType;\n\nvar Drawer = function (_React$Component) {\n  _inherits(Drawer, _React$Component);\n\n  function Drawer() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Drawer);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Drawer.__proto__ || Object.getPrototypeOf(Drawer)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      currentState: \"CLOSED\"\n    }, _this.isState = function (s) {\n      return s === _this.state.currentState;\n    }, _this.isClosed = function () {\n      return _this.isState(\"CLOSED\");\n    }, _this.isOpen = function () {\n      return _this.isState(\"OPEN\");\n    }, _this.isOpening = function () {\n      return _this.isState(\"IS_OPENING\");\n    }, _this.isClosing = function () {\n      return _this.isState(\"IS_CLOSING\");\n    }, _this.onPress = function (e) {\n      if (_this.props.noTouchOpen) return;\n      e.preventDefault();\n      _this.peak();\n    }, _this.onPressUp = function (e) {\n      if (_this.props.noTouchClose) return;\n      e.preventDefault();\n      _this.close();\n    }, _this.onPan = function (e) {\n      if (_this.isClosed() && _this.props.noTouchOpen) return;\n      if (_this.isOpen() && _this.props.noTouchClose) return;\n      e.preventDefault();\n\n      var isFinal = e.isFinal,\n          pointers = e.pointers,\n          direction = e.direction,\n          deltaX = e.deltaX;\n\n      if (_this.inPanTolerance(deltaX)) return;\n\n      if (isFinal) {\n        if (_this.isOpening()) _this.open();else if (_this.isClosing()) _this.close();\n        return;\n      }\n\n      var currentState = _this.state.currentState;\n      var _this$props = _this.props,\n          right = _this$props.right,\n          peakingWidth = _this$props.peakingWidth,\n          handleWidth = _this$props.handleWidth;\n\n      var width = _this.calculateWidth();\n      var clientX = pointers[0].clientX;\n\n\n      var x = right ? document.body.clientWidth - clientX : clientX;\n\n      if (x + peakingWidth >= width) x = width - peakingWidth;\n\n      var closingOrOpening = _this.closingOrOpening(direction);\n      var nextState = {\n        PEAK: closingOrOpening,\n        IS_OPENING: closingOrOpening,\n        IS_CLOSING: closingOrOpening,\n        OPEN: \"IS_CLOSING\",\n        CLOSED: \"PEAK\"\n      };\n\n      _this.setState({\n        currentState: nextState[currentState],\n        x: _this.isClosed() ? peakingWidth : peakingWidth / 2 + x\n      });\n    }, _this.onOverlayTap = function (e) {\n      e.preventDefault();\n      if (_this.isOpen()) _this.close();\n    }, _this.calculateWidth = function () {\n      var width = _this.props.width;\n      return (/\\D/.test(width) ? document.body.clientWidth * (width.match(/\\d*/) / 100) : width\n      );\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Drawer, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var open = this.props.open;\n      var nextOpen = nextProps.open;\n\n\n      if (nextOpen !== open) {\n        if (nextOpen) this.open();else this.close();\n      }\n    }\n  }, {\n    key: \"peak\",\n    value: function peak() {\n      var _props = this.props,\n          onChange = _props.onChange,\n          handleWidth = _props.handleWidth;\n\n      onChange(false);\n      return this.setState({ currentState: \"PEAK\", x: handleWidth });\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      this.props.onChange(false);\n      return this.setState({ currentState: \"CLOSED\", x: 0 });\n    }\n  }, {\n    key: \"open\",\n    value: function open() {\n      var _props2 = this.props,\n          onChange = _props2.onChange,\n          width = _props2.width;\n\n      onChange(true);\n\n      return this.setState({ currentState: \"OPEN\", x: this.calculateWidth() });\n    }\n  }, {\n    key: \"isClosingDirection\",\n    value: function isClosingDirection(direction) {\n      var right = this.props.right;\n\n      var isClosing = direction === 2;\n\n      if (right) return !isClosing;else return isClosing;\n    }\n  }, {\n    key: \"closingOrOpening\",\n    value: function closingOrOpening(direction) {\n      return this.isClosingDirection(direction) ? \"IS_CLOSING\" : \"IS_OPENING\";\n    }\n  }, {\n    key: \"inPanTolerance\",\n    value: function inPanTolerance(deltaX) {\n      var currentState = this.state.currentState;\n      var panTolerance = this.props.panTolerance;\n\n\n      return Math.abs(deltaX) <= panTolerance && currentState === \"OPEN\";\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _props3 = this.props,\n          config = _props3.config,\n          drawerStyle = _props3.drawerStyle,\n          className = _props3.className,\n          overlayClassName = _props3.overlayClassName,\n          width = _props3.width,\n          children = _props3.children,\n          offset = _props3.offset;\n      var _state = this.state,\n          currentState = _state.currentState,\n          x = _state.x;\n\n\n      return _react2.default.createElement(\n        _reactMotion.Motion,\n        { style: { myProp: (0, _reactMotion.spring)(Math.min(x + offset || 0, this.calculateWidth()), config) } },\n        function (interpolated) {\n          var _styles = (0, _styles3.default)(interpolated.myProp, _this2.props),\n              drawer = _styles.drawer,\n              transform = _styles.transform,\n              overlay = _styles.overlay;\n\n          var computedStyle = _extends({}, drawer, drawerStyle);\n          if (interpolated.myProp > 0) computedStyle.display = \"block\";else computedStyle.display = \"none\";\n\n          return _react2.default.createElement(\n            _reactHammerjs2.default,\n            {\n              onPress: _this2.onPress,\n              onPressUp: _this2.onPressUp,\n              onPan: _this2.onPan,\n              direction: _reactHammerjs2.default.DIRECTION_HORIZONTAL\n            },\n            _react2.default.createElement(\n              \"div\",\n              { style: transform },\n              _react2.default.createElement(\n                \"div\",\n                { className: className, style: computedStyle },\n                (0, _isFunction2.default)(children) ? children(interpolated.myProp) : children,\n                !_this2.isClosed() && _react2.default.createElement(\n                  _reactHammerjs2.default,\n                  {\n                    style: overlay,\n                    className: overlayClassName,\n                    onTap: _this2.onOverlayTap\n                  },\n                  _react2.default.createElement(\"span\", null)\n                )\n              )\n            )\n          );\n        }\n      );\n    }\n  }]);\n\n  return Drawer;\n}(_react2.default.Component);\n\nDrawer.propTypes = {\n  zIndex: number, // z-index of the drawer default is 10000\n  noTouchOpen: bool, // can a user pan to open\n  noTouchClose: bool, // can a user pan to close\n  onChange: func, // called when the drawer is open\n  drawerStyle: object, // additional drawer styles\n  className: string, // additional drawer className\n  overlayClassName: string, // additional overlay className\n  config: _propTypes2.default.shape({\n    stiffness: number,\n    damping: number,\n    precision: number\n  }), // configuration of the react-motion animation\n  open: bool, // states if the drawer is open\n  width: oneOfType([number, string]), // width of the drawer\n  height: oneOfType([number, string]), // height of the drawer\n  handleWidth: number, // width of the handle\n  peakingWidth: number, // width that the drawer peaks on press\n  panTolerance: number, // tolerance until the drawer starts to move\n  right: bool, // drawer on the right side of the screen\n  overlayColor: string, // color of the overlay\n  fadeOut: bool, // fade out\n  offset: number // offset\n};\nDrawer.defaultProps = {\n  zIndex: 10000,\n  noTouchOpen: false,\n  noTouchClose: false,\n  onChange: function onChange() {},\n  overlayColor: \"rgba(0, 0, 0, 0.4)\",\n  config: { stiffness: 350, damping: 40 },\n  open: false,\n  width: 300,\n  height: \"100%\",\n  handleWidth: 20,\n  peakingWidth: 50,\n  panTolerance: 50,\n  right: false,\n  fadeOut: false,\n  offset: 0\n};\nexports.default = Drawer;","'use strict';\n\nexports.__esModule = true;\n\nfunction _interopRequire(obj) { return obj && obj.__esModule ? obj['default'] : obj; }\n\nvar _Motion = require('./Motion');\n\nexports.Motion = _interopRequire(_Motion);\n\nvar _StaggeredMotion = require('./StaggeredMotion');\n\nexports.StaggeredMotion = _interopRequire(_StaggeredMotion);\n\nvar _TransitionMotion = require('./TransitionMotion');\n\nexports.TransitionMotion = _interopRequire(_TransitionMotion);\n\nvar _spring = require('./spring');\n\nexports.spring = _interopRequire(_spring);\n\nvar _presets = require('./presets');\n\nexports.presets = _interopRequire(_presets);\n\nvar _stripStyle = require('./stripStyle');\n\nexports.stripStyle = _interopRequire(_stripStyle);\n\n// deprecated, dummy warning function\n\nvar _reorderKeys = require('./reorderKeys');\n\nexports.reorderKeys = _interopRequire(_reorderKeys);","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _mapToZero = require('./mapToZero');\n\nvar _mapToZero2 = _interopRequireDefault(_mapToZero);\n\nvar _stripStyle = require('./stripStyle');\n\nvar _stripStyle2 = _interopRequireDefault(_stripStyle);\n\nvar _stepper3 = require('./stepper');\n\nvar _stepper4 = _interopRequireDefault(_stepper3);\n\nvar _performanceNow = require('performance-now');\n\nvar _performanceNow2 = _interopRequireDefault(_performanceNow);\n\nvar _raf = require('raf');\n\nvar _raf2 = _interopRequireDefault(_raf);\n\nvar _shouldStopAnimation = require('./shouldStopAnimation');\n\nvar _shouldStopAnimation2 = _interopRequireDefault(_shouldStopAnimation);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar msPerFrame = 1000 / 60;\n\nvar Motion = (function (_React$Component) {\n  _inherits(Motion, _React$Component);\n\n  _createClass(Motion, null, [{\n    key: 'propTypes',\n    value: {\n      // TOOD: warn against putting a config in here\n      defaultStyle: _propTypes2['default'].objectOf(_propTypes2['default'].number),\n      style: _propTypes2['default'].objectOf(_propTypes2['default'].oneOfType([_propTypes2['default'].number, _propTypes2['default'].object])).isRequired,\n      children: _propTypes2['default'].func.isRequired,\n      onRest: _propTypes2['default'].func\n    },\n    enumerable: true\n  }]);\n\n  function Motion(props) {\n    var _this = this;\n\n    _classCallCheck(this, Motion);\n\n    _React$Component.call(this, props);\n    this.wasAnimating = false;\n    this.animationID = null;\n    this.prevTime = 0;\n    this.accumulatedTime = 0;\n    this.unreadPropStyle = null;\n\n    this.clearUnreadPropStyle = function (destStyle) {\n      var dirty = false;\n      var _state = _this.state;\n      var currentStyle = _state.currentStyle;\n      var currentVelocity = _state.currentVelocity;\n      var lastIdealStyle = _state.lastIdealStyle;\n      var lastIdealVelocity = _state.lastIdealVelocity;\n\n      for (var key in destStyle) {\n        if (!Object.prototype.hasOwnProperty.call(destStyle, key)) {\n          continue;\n        }\n\n        var styleValue = destStyle[key];\n        if (typeof styleValue === 'number') {\n          if (!dirty) {\n            dirty = true;\n            currentStyle = _extends({}, currentStyle);\n            currentVelocity = _extends({}, currentVelocity);\n            lastIdealStyle = _extends({}, lastIdealStyle);\n            lastIdealVelocity = _extends({}, lastIdealVelocity);\n          }\n\n          currentStyle[key] = styleValue;\n          currentVelocity[key] = 0;\n          lastIdealStyle[key] = styleValue;\n          lastIdealVelocity[key] = 0;\n        }\n      }\n\n      if (dirty) {\n        _this.setState({ currentStyle: currentStyle, currentVelocity: currentVelocity, lastIdealStyle: lastIdealStyle, lastIdealVelocity: lastIdealVelocity });\n      }\n    };\n\n    this.startAnimationIfNecessary = function () {\n      // TODO: when config is {a: 10} and dest is {a: 10} do we raf once and\n      // call cb? No, otherwise accidental parent rerender causes cb trigger\n      _this.animationID = _raf2['default'](function (timestamp) {\n        // check if we need to animate in the first place\n        var propsStyle = _this.props.style;\n        if (_shouldStopAnimation2['default'](_this.state.currentStyle, propsStyle, _this.state.currentVelocity)) {\n          if (_this.wasAnimating && _this.props.onRest) {\n            _this.props.onRest();\n          }\n\n          // no need to cancel animationID here; shouldn't have any in flight\n          _this.animationID = null;\n          _this.wasAnimating = false;\n          _this.accumulatedTime = 0;\n          return;\n        }\n\n        _this.wasAnimating = true;\n\n        var currentTime = timestamp || _performanceNow2['default']();\n        var timeDelta = currentTime - _this.prevTime;\n        _this.prevTime = currentTime;\n        _this.accumulatedTime = _this.accumulatedTime + timeDelta;\n        // more than 10 frames? prolly switched browser tab. Restart\n        if (_this.accumulatedTime > msPerFrame * 10) {\n          _this.accumulatedTime = 0;\n        }\n\n        if (_this.accumulatedTime === 0) {\n          // no need to cancel animationID here; shouldn't have any in flight\n          _this.animationID = null;\n          _this.startAnimationIfNecessary();\n          return;\n        }\n\n        var currentFrameCompletion = (_this.accumulatedTime - Math.floor(_this.accumulatedTime / msPerFrame) * msPerFrame) / msPerFrame;\n        var framesToCatchUp = Math.floor(_this.accumulatedTime / msPerFrame);\n\n        var newLastIdealStyle = {};\n        var newLastIdealVelocity = {};\n        var newCurrentStyle = {};\n        var newCurrentVelocity = {};\n\n        for (var key in propsStyle) {\n          if (!Object.prototype.hasOwnProperty.call(propsStyle, key)) {\n            continue;\n          }\n\n          var styleValue = propsStyle[key];\n          if (typeof styleValue === 'number') {\n            newCurrentStyle[key] = styleValue;\n            newCurrentVelocity[key] = 0;\n            newLastIdealStyle[key] = styleValue;\n            newLastIdealVelocity[key] = 0;\n          } else {\n            var newLastIdealStyleValue = _this.state.lastIdealStyle[key];\n            var newLastIdealVelocityValue = _this.state.lastIdealVelocity[key];\n            for (var i = 0; i < framesToCatchUp; i++) {\n              var _stepper = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\n              newLastIdealStyleValue = _stepper[0];\n              newLastIdealVelocityValue = _stepper[1];\n            }\n\n            var _stepper2 = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\n            var nextIdealX = _stepper2[0];\n            var nextIdealV = _stepper2[1];\n\n            newCurrentStyle[key] = newLastIdealStyleValue + (nextIdealX - newLastIdealStyleValue) * currentFrameCompletion;\n            newCurrentVelocity[key] = newLastIdealVelocityValue + (nextIdealV - newLastIdealVelocityValue) * currentFrameCompletion;\n            newLastIdealStyle[key] = newLastIdealStyleValue;\n            newLastIdealVelocity[key] = newLastIdealVelocityValue;\n          }\n        }\n\n        _this.animationID = null;\n        // the amount we're looped over above\n        _this.accumulatedTime -= framesToCatchUp * msPerFrame;\n\n        _this.setState({\n          currentStyle: newCurrentStyle,\n          currentVelocity: newCurrentVelocity,\n          lastIdealStyle: newLastIdealStyle,\n          lastIdealVelocity: newLastIdealVelocity\n        });\n\n        _this.unreadPropStyle = null;\n\n        _this.startAnimationIfNecessary();\n      });\n    };\n\n    this.state = this.defaultState();\n  }\n\n  Motion.prototype.defaultState = function defaultState() {\n    var _props = this.props;\n    var defaultStyle = _props.defaultStyle;\n    var style = _props.style;\n\n    var currentStyle = defaultStyle || _stripStyle2['default'](style);\n    var currentVelocity = _mapToZero2['default'](currentStyle);\n    return {\n      currentStyle: currentStyle,\n      currentVelocity: currentVelocity,\n      lastIdealStyle: currentStyle,\n      lastIdealVelocity: currentVelocity\n    };\n  };\n\n  // it's possible that currentStyle's value is stale: if props is immediately\n  // changed from 0 to 400 to spring(0) again, the async currentStyle is still\n  // at 0 (didn't have time to tick and interpolate even once). If we naively\n  // compare currentStyle with destVal it'll be 0 === 0 (no animation, stop).\n  // In reality currentStyle should be 400\n\n  Motion.prototype.componentDidMount = function componentDidMount() {\n    this.prevTime = _performanceNow2['default']();\n    this.startAnimationIfNecessary();\n  };\n\n  Motion.prototype.componentWillReceiveProps = function componentWillReceiveProps(props) {\n    if (this.unreadPropStyle != null) {\n      // previous props haven't had the chance to be set yet; set them here\n      this.clearUnreadPropStyle(this.unreadPropStyle);\n    }\n\n    this.unreadPropStyle = props.style;\n    if (this.animationID == null) {\n      this.prevTime = _performanceNow2['default']();\n      this.startAnimationIfNecessary();\n    }\n  };\n\n  Motion.prototype.componentWillUnmount = function componentWillUnmount() {\n    if (this.animationID != null) {\n      _raf2['default'].cancel(this.animationID);\n      this.animationID = null;\n    }\n  };\n\n  Motion.prototype.render = function render() {\n    var renderedChildren = this.props.children(this.state.currentStyle);\n    return renderedChildren && _react2['default'].Children.only(renderedChildren);\n  };\n\n  return Motion;\n})(_react2['default'].Component);\n\nexports['default'] = Motion;\nmodule.exports = exports['default'];\n\n// after checking for unreadPropStyle != null, we manually go set the\n// non-interpolating values (those that are a number, without a spring\n// config)","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _mapToZero = require('./mapToZero');\n\nvar _mapToZero2 = _interopRequireDefault(_mapToZero);\n\nvar _stripStyle = require('./stripStyle');\n\nvar _stripStyle2 = _interopRequireDefault(_stripStyle);\n\nvar _stepper3 = require('./stepper');\n\nvar _stepper4 = _interopRequireDefault(_stepper3);\n\nvar _performanceNow = require('performance-now');\n\nvar _performanceNow2 = _interopRequireDefault(_performanceNow);\n\nvar _raf = require('raf');\n\nvar _raf2 = _interopRequireDefault(_raf);\n\nvar _shouldStopAnimation = require('./shouldStopAnimation');\n\nvar _shouldStopAnimation2 = _interopRequireDefault(_shouldStopAnimation);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar msPerFrame = 1000 / 60;\n\nfunction shouldStopAnimationAll(currentStyles, styles, currentVelocities) {\n  for (var i = 0; i < currentStyles.length; i++) {\n    if (!_shouldStopAnimation2['default'](currentStyles[i], styles[i], currentVelocities[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nvar StaggeredMotion = (function (_React$Component) {\n  _inherits(StaggeredMotion, _React$Component);\n\n  _createClass(StaggeredMotion, null, [{\n    key: 'propTypes',\n    value: {\n      // TOOD: warn against putting a config in here\n      defaultStyles: _propTypes2['default'].arrayOf(_propTypes2['default'].objectOf(_propTypes2['default'].number)),\n      styles: _propTypes2['default'].func.isRequired,\n      children: _propTypes2['default'].func.isRequired\n    },\n    enumerable: true\n  }]);\n\n  function StaggeredMotion(props) {\n    var _this = this;\n\n    _classCallCheck(this, StaggeredMotion);\n\n    _React$Component.call(this, props);\n    this.animationID = null;\n    this.prevTime = 0;\n    this.accumulatedTime = 0;\n    this.unreadPropStyles = null;\n\n    this.clearUnreadPropStyle = function (unreadPropStyles) {\n      var _state = _this.state;\n      var currentStyles = _state.currentStyles;\n      var currentVelocities = _state.currentVelocities;\n      var lastIdealStyles = _state.lastIdealStyles;\n      var lastIdealVelocities = _state.lastIdealVelocities;\n\n      var someDirty = false;\n      for (var i = 0; i < unreadPropStyles.length; i++) {\n        var unreadPropStyle = unreadPropStyles[i];\n        var dirty = false;\n\n        for (var key in unreadPropStyle) {\n          if (!Object.prototype.hasOwnProperty.call(unreadPropStyle, key)) {\n            continue;\n          }\n\n          var styleValue = unreadPropStyle[key];\n          if (typeof styleValue === 'number') {\n            if (!dirty) {\n              dirty = true;\n              someDirty = true;\n              currentStyles[i] = _extends({}, currentStyles[i]);\n              currentVelocities[i] = _extends({}, currentVelocities[i]);\n              lastIdealStyles[i] = _extends({}, lastIdealStyles[i]);\n              lastIdealVelocities[i] = _extends({}, lastIdealVelocities[i]);\n            }\n            currentStyles[i][key] = styleValue;\n            currentVelocities[i][key] = 0;\n            lastIdealStyles[i][key] = styleValue;\n            lastIdealVelocities[i][key] = 0;\n          }\n        }\n      }\n\n      if (someDirty) {\n        _this.setState({ currentStyles: currentStyles, currentVelocities: currentVelocities, lastIdealStyles: lastIdealStyles, lastIdealVelocities: lastIdealVelocities });\n      }\n    };\n\n    this.startAnimationIfNecessary = function () {\n      // TODO: when config is {a: 10} and dest is {a: 10} do we raf once and\n      // call cb? No, otherwise accidental parent rerender causes cb trigger\n      _this.animationID = _raf2['default'](function (timestamp) {\n        var destStyles = _this.props.styles(_this.state.lastIdealStyles);\n\n        // check if we need to animate in the first place\n        if (shouldStopAnimationAll(_this.state.currentStyles, destStyles, _this.state.currentVelocities)) {\n          // no need to cancel animationID here; shouldn't have any in flight\n          _this.animationID = null;\n          _this.accumulatedTime = 0;\n          return;\n        }\n\n        var currentTime = timestamp || _performanceNow2['default']();\n        var timeDelta = currentTime - _this.prevTime;\n        _this.prevTime = currentTime;\n        _this.accumulatedTime = _this.accumulatedTime + timeDelta;\n        // more than 10 frames? prolly switched browser tab. Restart\n        if (_this.accumulatedTime > msPerFrame * 10) {\n          _this.accumulatedTime = 0;\n        }\n\n        if (_this.accumulatedTime === 0) {\n          // no need to cancel animationID here; shouldn't have any in flight\n          _this.animationID = null;\n          _this.startAnimationIfNecessary();\n          return;\n        }\n\n        var currentFrameCompletion = (_this.accumulatedTime - Math.floor(_this.accumulatedTime / msPerFrame) * msPerFrame) / msPerFrame;\n        var framesToCatchUp = Math.floor(_this.accumulatedTime / msPerFrame);\n\n        var newLastIdealStyles = [];\n        var newLastIdealVelocities = [];\n        var newCurrentStyles = [];\n        var newCurrentVelocities = [];\n\n        for (var i = 0; i < destStyles.length; i++) {\n          var destStyle = destStyles[i];\n          var newCurrentStyle = {};\n          var newCurrentVelocity = {};\n          var newLastIdealStyle = {};\n          var newLastIdealVelocity = {};\n\n          for (var key in destStyle) {\n            if (!Object.prototype.hasOwnProperty.call(destStyle, key)) {\n              continue;\n            }\n\n            var styleValue = destStyle[key];\n            if (typeof styleValue === 'number') {\n              newCurrentStyle[key] = styleValue;\n              newCurrentVelocity[key] = 0;\n              newLastIdealStyle[key] = styleValue;\n              newLastIdealVelocity[key] = 0;\n            } else {\n              var newLastIdealStyleValue = _this.state.lastIdealStyles[i][key];\n              var newLastIdealVelocityValue = _this.state.lastIdealVelocities[i][key];\n              for (var j = 0; j < framesToCatchUp; j++) {\n                var _stepper = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\n                newLastIdealStyleValue = _stepper[0];\n                newLastIdealVelocityValue = _stepper[1];\n              }\n\n              var _stepper2 = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\n              var nextIdealX = _stepper2[0];\n              var nextIdealV = _stepper2[1];\n\n              newCurrentStyle[key] = newLastIdealStyleValue + (nextIdealX - newLastIdealStyleValue) * currentFrameCompletion;\n              newCurrentVelocity[key] = newLastIdealVelocityValue + (nextIdealV - newLastIdealVelocityValue) * currentFrameCompletion;\n              newLastIdealStyle[key] = newLastIdealStyleValue;\n              newLastIdealVelocity[key] = newLastIdealVelocityValue;\n            }\n          }\n\n          newCurrentStyles[i] = newCurrentStyle;\n          newCurrentVelocities[i] = newCurrentVelocity;\n          newLastIdealStyles[i] = newLastIdealStyle;\n          newLastIdealVelocities[i] = newLastIdealVelocity;\n        }\n\n        _this.animationID = null;\n        // the amount we're looped over above\n        _this.accumulatedTime -= framesToCatchUp * msPerFrame;\n\n        _this.setState({\n          currentStyles: newCurrentStyles,\n          currentVelocities: newCurrentVelocities,\n          lastIdealStyles: newLastIdealStyles,\n          lastIdealVelocities: newLastIdealVelocities\n        });\n\n        _this.unreadPropStyles = null;\n\n        _this.startAnimationIfNecessary();\n      });\n    };\n\n    this.state = this.defaultState();\n  }\n\n  StaggeredMotion.prototype.defaultState = function defaultState() {\n    var _props = this.props;\n    var defaultStyles = _props.defaultStyles;\n    var styles = _props.styles;\n\n    var currentStyles = defaultStyles || styles().map(_stripStyle2['default']);\n    var currentVelocities = currentStyles.map(function (currentStyle) {\n      return _mapToZero2['default'](currentStyle);\n    });\n    return {\n      currentStyles: currentStyles,\n      currentVelocities: currentVelocities,\n      lastIdealStyles: currentStyles,\n      lastIdealVelocities: currentVelocities\n    };\n  };\n\n  StaggeredMotion.prototype.componentDidMount = function componentDidMount() {\n    this.prevTime = _performanceNow2['default']();\n    this.startAnimationIfNecessary();\n  };\n\n  StaggeredMotion.prototype.componentWillReceiveProps = function componentWillReceiveProps(props) {\n    if (this.unreadPropStyles != null) {\n      // previous props haven't had the chance to be set yet; set them here\n      this.clearUnreadPropStyle(this.unreadPropStyles);\n    }\n\n    this.unreadPropStyles = props.styles(this.state.lastIdealStyles);\n    if (this.animationID == null) {\n      this.prevTime = _performanceNow2['default']();\n      this.startAnimationIfNecessary();\n    }\n  };\n\n  StaggeredMotion.prototype.componentWillUnmount = function componentWillUnmount() {\n    if (this.animationID != null) {\n      _raf2['default'].cancel(this.animationID);\n      this.animationID = null;\n    }\n  };\n\n  StaggeredMotion.prototype.render = function render() {\n    var renderedChildren = this.props.children(this.state.currentStyles);\n    return renderedChildren && _react2['default'].Children.only(renderedChildren);\n  };\n\n  return StaggeredMotion;\n})(_react2['default'].Component);\n\nexports['default'] = StaggeredMotion;\nmodule.exports = exports['default'];\n\n// it's possible that currentStyle's value is stale: if props is immediately\n// changed from 0 to 400 to spring(0) again, the async currentStyle is still\n// at 0 (didn't have time to tick and interpolate even once). If we naively\n// compare currentStyle with destVal it'll be 0 === 0 (no animation, stop).\n// In reality currentStyle should be 400\n\n// after checking for unreadPropStyles != null, we manually go set the\n// non-interpolating values (those that are a number, without a spring\n// config)","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _mapToZero = require('./mapToZero');\n\nvar _mapToZero2 = _interopRequireDefault(_mapToZero);\n\nvar _stripStyle = require('./stripStyle');\n\nvar _stripStyle2 = _interopRequireDefault(_stripStyle);\n\nvar _stepper3 = require('./stepper');\n\nvar _stepper4 = _interopRequireDefault(_stepper3);\n\nvar _mergeDiff = require('./mergeDiff');\n\nvar _mergeDiff2 = _interopRequireDefault(_mergeDiff);\n\nvar _performanceNow = require('performance-now');\n\nvar _performanceNow2 = _interopRequireDefault(_performanceNow);\n\nvar _raf = require('raf');\n\nvar _raf2 = _interopRequireDefault(_raf);\n\nvar _shouldStopAnimation = require('./shouldStopAnimation');\n\nvar _shouldStopAnimation2 = _interopRequireDefault(_shouldStopAnimation);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar msPerFrame = 1000 / 60;\n\n// the children function & (potential) styles function asks as param an\n// Array<TransitionPlainStyle>, where each TransitionPlainStyle is of the format\n// {key: string, data?: any, style: PlainStyle}. However, the way we keep\n// internal states doesn't contain such a data structure (check the state and\n// TransitionMotionState). So when children function and others ask for such\n// data we need to generate them on the fly by combining mergedPropsStyles and\n// currentStyles/lastIdealStyles\nfunction rehydrateStyles(mergedPropsStyles, unreadPropStyles, plainStyles) {\n  // Copy the value to a `const` so that Flow understands that the const won't\n  // change and will be non-nullable in the callback below.\n  var cUnreadPropStyles = unreadPropStyles;\n  if (cUnreadPropStyles == null) {\n    return mergedPropsStyles.map(function (mergedPropsStyle, i) {\n      return {\n        key: mergedPropsStyle.key,\n        data: mergedPropsStyle.data,\n        style: plainStyles[i]\n      };\n    });\n  }\n  return mergedPropsStyles.map(function (mergedPropsStyle, i) {\n    for (var j = 0; j < cUnreadPropStyles.length; j++) {\n      if (cUnreadPropStyles[j].key === mergedPropsStyle.key) {\n        return {\n          key: cUnreadPropStyles[j].key,\n          data: cUnreadPropStyles[j].data,\n          style: plainStyles[i]\n        };\n      }\n    }\n    return { key: mergedPropsStyle.key, data: mergedPropsStyle.data, style: plainStyles[i] };\n  });\n}\n\nfunction shouldStopAnimationAll(currentStyles, destStyles, currentVelocities, mergedPropsStyles) {\n  if (mergedPropsStyles.length !== destStyles.length) {\n    return false;\n  }\n\n  for (var i = 0; i < mergedPropsStyles.length; i++) {\n    if (mergedPropsStyles[i].key !== destStyles[i].key) {\n      return false;\n    }\n  }\n\n  // we have the invariant that mergedPropsStyles and\n  // currentStyles/currentVelocities/last* are synced in terms of cells, see\n  // mergeAndSync comment for more info\n  for (var i = 0; i < mergedPropsStyles.length; i++) {\n    if (!_shouldStopAnimation2['default'](currentStyles[i], destStyles[i].style, currentVelocities[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n// core key merging logic\n\n// things to do: say previously merged style is {a, b}, dest style (prop) is {b,\n// c}, previous current (interpolating) style is {a, b}\n// **invariant**: current[i] corresponds to merged[i] in terms of key\n\n// steps:\n// turn merged style into {a?, b, c}\n//    add c, value of c is destStyles.c\n//    maybe remove a, aka call willLeave(a), then merged is either {b, c} or {a, b, c}\n// turn current (interpolating) style from {a, b} into {a?, b, c}\n//    maybe remove a\n//    certainly add c, value of c is willEnter(c)\n// loop over merged and construct new current\n// dest doesn't change, that's owner's\nfunction mergeAndSync(willEnter, willLeave, didLeave, oldMergedPropsStyles, destStyles, oldCurrentStyles, oldCurrentVelocities, oldLastIdealStyles, oldLastIdealVelocities) {\n  var newMergedPropsStyles = _mergeDiff2['default'](oldMergedPropsStyles, destStyles, function (oldIndex, oldMergedPropsStyle) {\n    var leavingStyle = willLeave(oldMergedPropsStyle);\n    if (leavingStyle == null) {\n      didLeave({ key: oldMergedPropsStyle.key, data: oldMergedPropsStyle.data });\n      return null;\n    }\n    if (_shouldStopAnimation2['default'](oldCurrentStyles[oldIndex], leavingStyle, oldCurrentVelocities[oldIndex])) {\n      didLeave({ key: oldMergedPropsStyle.key, data: oldMergedPropsStyle.data });\n      return null;\n    }\n    return { key: oldMergedPropsStyle.key, data: oldMergedPropsStyle.data, style: leavingStyle };\n  });\n\n  var newCurrentStyles = [];\n  var newCurrentVelocities = [];\n  var newLastIdealStyles = [];\n  var newLastIdealVelocities = [];\n  for (var i = 0; i < newMergedPropsStyles.length; i++) {\n    var newMergedPropsStyleCell = newMergedPropsStyles[i];\n    var foundOldIndex = null;\n    for (var j = 0; j < oldMergedPropsStyles.length; j++) {\n      if (oldMergedPropsStyles[j].key === newMergedPropsStyleCell.key) {\n        foundOldIndex = j;\n        break;\n      }\n    }\n    // TODO: key search code\n    if (foundOldIndex == null) {\n      var plainStyle = willEnter(newMergedPropsStyleCell);\n      newCurrentStyles[i] = plainStyle;\n      newLastIdealStyles[i] = plainStyle;\n\n      var velocity = _mapToZero2['default'](newMergedPropsStyleCell.style);\n      newCurrentVelocities[i] = velocity;\n      newLastIdealVelocities[i] = velocity;\n    } else {\n      newCurrentStyles[i] = oldCurrentStyles[foundOldIndex];\n      newLastIdealStyles[i] = oldLastIdealStyles[foundOldIndex];\n      newCurrentVelocities[i] = oldCurrentVelocities[foundOldIndex];\n      newLastIdealVelocities[i] = oldLastIdealVelocities[foundOldIndex];\n    }\n  }\n\n  return [newMergedPropsStyles, newCurrentStyles, newCurrentVelocities, newLastIdealStyles, newLastIdealVelocities];\n}\n\nvar TransitionMotion = (function (_React$Component) {\n  _inherits(TransitionMotion, _React$Component);\n\n  _createClass(TransitionMotion, null, [{\n    key: 'propTypes',\n    value: {\n      defaultStyles: _propTypes2['default'].arrayOf(_propTypes2['default'].shape({\n        key: _propTypes2['default'].string.isRequired,\n        data: _propTypes2['default'].any,\n        style: _propTypes2['default'].objectOf(_propTypes2['default'].number).isRequired\n      })),\n      styles: _propTypes2['default'].oneOfType([_propTypes2['default'].func, _propTypes2['default'].arrayOf(_propTypes2['default'].shape({\n        key: _propTypes2['default'].string.isRequired,\n        data: _propTypes2['default'].any,\n        style: _propTypes2['default'].objectOf(_propTypes2['default'].oneOfType([_propTypes2['default'].number, _propTypes2['default'].object])).isRequired\n      }))]).isRequired,\n      children: _propTypes2['default'].func.isRequired,\n      willEnter: _propTypes2['default'].func,\n      willLeave: _propTypes2['default'].func,\n      didLeave: _propTypes2['default'].func\n    },\n    enumerable: true\n  }, {\n    key: 'defaultProps',\n    value: {\n      willEnter: function willEnter(styleThatEntered) {\n        return _stripStyle2['default'](styleThatEntered.style);\n      },\n      // recall: returning null makes the current unmounting TransitionStyle\n      // disappear immediately\n      willLeave: function willLeave() {\n        return null;\n      },\n      didLeave: function didLeave() {}\n    },\n    enumerable: true\n  }]);\n\n  function TransitionMotion(props) {\n    var _this = this;\n\n    _classCallCheck(this, TransitionMotion);\n\n    _React$Component.call(this, props);\n    this.unmounting = false;\n    this.animationID = null;\n    this.prevTime = 0;\n    this.accumulatedTime = 0;\n    this.unreadPropStyles = null;\n\n    this.clearUnreadPropStyle = function (unreadPropStyles) {\n      var _mergeAndSync = mergeAndSync(_this.props.willEnter, _this.props.willLeave, _this.props.didLeave, _this.state.mergedPropsStyles, unreadPropStyles, _this.state.currentStyles, _this.state.currentVelocities, _this.state.lastIdealStyles, _this.state.lastIdealVelocities);\n\n      var mergedPropsStyles = _mergeAndSync[0];\n      var currentStyles = _mergeAndSync[1];\n      var currentVelocities = _mergeAndSync[2];\n      var lastIdealStyles = _mergeAndSync[3];\n      var lastIdealVelocities = _mergeAndSync[4];\n\n      for (var i = 0; i < unreadPropStyles.length; i++) {\n        var unreadPropStyle = unreadPropStyles[i].style;\n        var dirty = false;\n\n        for (var key in unreadPropStyle) {\n          if (!Object.prototype.hasOwnProperty.call(unreadPropStyle, key)) {\n            continue;\n          }\n\n          var styleValue = unreadPropStyle[key];\n          if (typeof styleValue === 'number') {\n            if (!dirty) {\n              dirty = true;\n              currentStyles[i] = _extends({}, currentStyles[i]);\n              currentVelocities[i] = _extends({}, currentVelocities[i]);\n              lastIdealStyles[i] = _extends({}, lastIdealStyles[i]);\n              lastIdealVelocities[i] = _extends({}, lastIdealVelocities[i]);\n              mergedPropsStyles[i] = {\n                key: mergedPropsStyles[i].key,\n                data: mergedPropsStyles[i].data,\n                style: _extends({}, mergedPropsStyles[i].style)\n              };\n            }\n            currentStyles[i][key] = styleValue;\n            currentVelocities[i][key] = 0;\n            lastIdealStyles[i][key] = styleValue;\n            lastIdealVelocities[i][key] = 0;\n            mergedPropsStyles[i].style[key] = styleValue;\n          }\n        }\n      }\n\n      // unlike the other 2 components, we can't detect staleness and optionally\n      // opt out of setState here. each style object's data might contain new\n      // stuff we're not/cannot compare\n      _this.setState({\n        currentStyles: currentStyles,\n        currentVelocities: currentVelocities,\n        mergedPropsStyles: mergedPropsStyles,\n        lastIdealStyles: lastIdealStyles,\n        lastIdealVelocities: lastIdealVelocities\n      });\n    };\n\n    this.startAnimationIfNecessary = function () {\n      if (_this.unmounting) {\n        return;\n      }\n\n      // TODO: when config is {a: 10} and dest is {a: 10} do we raf once and\n      // call cb? No, otherwise accidental parent rerender causes cb trigger\n      _this.animationID = _raf2['default'](function (timestamp) {\n        // https://github.com/chenglou/react-motion/pull/420\n        // > if execution passes the conditional if (this.unmounting), then\n        // executes async defaultRaf and after that component unmounts and after\n        // that the callback of defaultRaf is called, then setState will be called\n        // on unmounted component.\n        if (_this.unmounting) {\n          return;\n        }\n\n        var propStyles = _this.props.styles;\n        var destStyles = typeof propStyles === 'function' ? propStyles(rehydrateStyles(_this.state.mergedPropsStyles, _this.unreadPropStyles, _this.state.lastIdealStyles)) : propStyles;\n\n        // check if we need to animate in the first place\n        if (shouldStopAnimationAll(_this.state.currentStyles, destStyles, _this.state.currentVelocities, _this.state.mergedPropsStyles)) {\n          // no need to cancel animationID here; shouldn't have any in flight\n          _this.animationID = null;\n          _this.accumulatedTime = 0;\n          return;\n        }\n\n        var currentTime = timestamp || _performanceNow2['default']();\n        var timeDelta = currentTime - _this.prevTime;\n        _this.prevTime = currentTime;\n        _this.accumulatedTime = _this.accumulatedTime + timeDelta;\n        // more than 10 frames? prolly switched browser tab. Restart\n        if (_this.accumulatedTime > msPerFrame * 10) {\n          _this.accumulatedTime = 0;\n        }\n\n        if (_this.accumulatedTime === 0) {\n          // no need to cancel animationID here; shouldn't have any in flight\n          _this.animationID = null;\n          _this.startAnimationIfNecessary();\n          return;\n        }\n\n        var currentFrameCompletion = (_this.accumulatedTime - Math.floor(_this.accumulatedTime / msPerFrame) * msPerFrame) / msPerFrame;\n        var framesToCatchUp = Math.floor(_this.accumulatedTime / msPerFrame);\n\n        var _mergeAndSync2 = mergeAndSync(_this.props.willEnter, _this.props.willLeave, _this.props.didLeave, _this.state.mergedPropsStyles, destStyles, _this.state.currentStyles, _this.state.currentVelocities, _this.state.lastIdealStyles, _this.state.lastIdealVelocities);\n\n        var newMergedPropsStyles = _mergeAndSync2[0];\n        var newCurrentStyles = _mergeAndSync2[1];\n        var newCurrentVelocities = _mergeAndSync2[2];\n        var newLastIdealStyles = _mergeAndSync2[3];\n        var newLastIdealVelocities = _mergeAndSync2[4];\n\n        for (var i = 0; i < newMergedPropsStyles.length; i++) {\n          var newMergedPropsStyle = newMergedPropsStyles[i].style;\n          var newCurrentStyle = {};\n          var newCurrentVelocity = {};\n          var newLastIdealStyle = {};\n          var newLastIdealVelocity = {};\n\n          for (var key in newMergedPropsStyle) {\n            if (!Object.prototype.hasOwnProperty.call(newMergedPropsStyle, key)) {\n              continue;\n            }\n\n            var styleValue = newMergedPropsStyle[key];\n            if (typeof styleValue === 'number') {\n              newCurrentStyle[key] = styleValue;\n              newCurrentVelocity[key] = 0;\n              newLastIdealStyle[key] = styleValue;\n              newLastIdealVelocity[key] = 0;\n            } else {\n              var newLastIdealStyleValue = newLastIdealStyles[i][key];\n              var newLastIdealVelocityValue = newLastIdealVelocities[i][key];\n              for (var j = 0; j < framesToCatchUp; j++) {\n                var _stepper = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\n                newLastIdealStyleValue = _stepper[0];\n                newLastIdealVelocityValue = _stepper[1];\n              }\n\n              var _stepper2 = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\n              var nextIdealX = _stepper2[0];\n              var nextIdealV = _stepper2[1];\n\n              newCurrentStyle[key] = newLastIdealStyleValue + (nextIdealX - newLastIdealStyleValue) * currentFrameCompletion;\n              newCurrentVelocity[key] = newLastIdealVelocityValue + (nextIdealV - newLastIdealVelocityValue) * currentFrameCompletion;\n              newLastIdealStyle[key] = newLastIdealStyleValue;\n              newLastIdealVelocity[key] = newLastIdealVelocityValue;\n            }\n          }\n\n          newLastIdealStyles[i] = newLastIdealStyle;\n          newLastIdealVelocities[i] = newLastIdealVelocity;\n          newCurrentStyles[i] = newCurrentStyle;\n          newCurrentVelocities[i] = newCurrentVelocity;\n        }\n\n        _this.animationID = null;\n        // the amount we're looped over above\n        _this.accumulatedTime -= framesToCatchUp * msPerFrame;\n\n        _this.setState({\n          currentStyles: newCurrentStyles,\n          currentVelocities: newCurrentVelocities,\n          lastIdealStyles: newLastIdealStyles,\n          lastIdealVelocities: newLastIdealVelocities,\n          mergedPropsStyles: newMergedPropsStyles\n        });\n\n        _this.unreadPropStyles = null;\n\n        _this.startAnimationIfNecessary();\n      });\n    };\n\n    this.state = this.defaultState();\n  }\n\n  TransitionMotion.prototype.defaultState = function defaultState() {\n    var _props = this.props;\n    var defaultStyles = _props.defaultStyles;\n    var styles = _props.styles;\n    var willEnter = _props.willEnter;\n    var willLeave = _props.willLeave;\n    var didLeave = _props.didLeave;\n\n    var destStyles = typeof styles === 'function' ? styles(defaultStyles) : styles;\n\n    // this is special. for the first time around, we don't have a comparison\n    // between last (no last) and current merged props. we'll compute last so:\n    // say default is {a, b} and styles (dest style) is {b, c}, we'll\n    // fabricate last as {a, b}\n    var oldMergedPropsStyles = undefined;\n    if (defaultStyles == null) {\n      oldMergedPropsStyles = destStyles;\n    } else {\n      oldMergedPropsStyles = defaultStyles.map(function (defaultStyleCell) {\n        // TODO: key search code\n        for (var i = 0; i < destStyles.length; i++) {\n          if (destStyles[i].key === defaultStyleCell.key) {\n            return destStyles[i];\n          }\n        }\n        return defaultStyleCell;\n      });\n    }\n    var oldCurrentStyles = defaultStyles == null ? destStyles.map(function (s) {\n      return _stripStyle2['default'](s.style);\n    }) : defaultStyles.map(function (s) {\n      return _stripStyle2['default'](s.style);\n    });\n    var oldCurrentVelocities = defaultStyles == null ? destStyles.map(function (s) {\n      return _mapToZero2['default'](s.style);\n    }) : defaultStyles.map(function (s) {\n      return _mapToZero2['default'](s.style);\n    });\n\n    var _mergeAndSync3 = mergeAndSync(\n    // Because this is an old-style createReactClass component, Flow doesn't\n    // understand that the willEnter and willLeave props have default values\n    // and will always be present.\n    willEnter, willLeave, didLeave, oldMergedPropsStyles, destStyles, oldCurrentStyles, oldCurrentVelocities, oldCurrentStyles, // oldLastIdealStyles really\n    oldCurrentVelocities);\n\n    var mergedPropsStyles = _mergeAndSync3[0];\n    var currentStyles = _mergeAndSync3[1];\n    var currentVelocities = _mergeAndSync3[2];\n    var lastIdealStyles = _mergeAndSync3[3];\n    var lastIdealVelocities = _mergeAndSync3[4];\n    // oldLastIdealVelocities really\n\n    return {\n      currentStyles: currentStyles,\n      currentVelocities: currentVelocities,\n      lastIdealStyles: lastIdealStyles,\n      lastIdealVelocities: lastIdealVelocities,\n      mergedPropsStyles: mergedPropsStyles\n    };\n  };\n\n  // after checking for unreadPropStyles != null, we manually go set the\n  // non-interpolating values (those that are a number, without a spring\n  // config)\n\n  TransitionMotion.prototype.componentDidMount = function componentDidMount() {\n    this.prevTime = _performanceNow2['default']();\n    this.startAnimationIfNecessary();\n  };\n\n  TransitionMotion.prototype.componentWillReceiveProps = function componentWillReceiveProps(props) {\n    if (this.unreadPropStyles) {\n      // previous props haven't had the chance to be set yet; set them here\n      this.clearUnreadPropStyle(this.unreadPropStyles);\n    }\n\n    var styles = props.styles;\n    if (typeof styles === 'function') {\n      this.unreadPropStyles = styles(rehydrateStyles(this.state.mergedPropsStyles, this.unreadPropStyles, this.state.lastIdealStyles));\n    } else {\n      this.unreadPropStyles = styles;\n    }\n\n    if (this.animationID == null) {\n      this.prevTime = _performanceNow2['default']();\n      this.startAnimationIfNecessary();\n    }\n  };\n\n  TransitionMotion.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.unmounting = true;\n    if (this.animationID != null) {\n      _raf2['default'].cancel(this.animationID);\n      this.animationID = null;\n    }\n  };\n\n  TransitionMotion.prototype.render = function render() {\n    var hydratedStyles = rehydrateStyles(this.state.mergedPropsStyles, this.unreadPropStyles, this.state.currentStyles);\n    var renderedChildren = this.props.children(hydratedStyles);\n    return renderedChildren && _react2['default'].Children.only(renderedChildren);\n  };\n\n  return TransitionMotion;\n})(_react2['default'].Component);\n\nexports['default'] = TransitionMotion;\nmodule.exports = exports['default'];\n\n// list of styles, each containing interpolating values. Part of what's passed\n// to children function. Notice that this is\n// Array<ActualInterpolatingStyleObject>, without the wrapper that is {key: ...,\n// data: ... style: ActualInterpolatingStyleObject}. Only mergedPropsStyles\n// contains the key & data info (so that we only have a single source of truth\n// for these, and to save space). Check the comment for `rehydrateStyles` to\n// see how we regenerate the entirety of what's passed to children function\n\n// the array that keeps track of currently rendered stuff! Including stuff\n// that you've unmounted but that's still animating. This is where it lives\n\n// it's possible that currentStyle's value is stale: if props is immediately\n// changed from 0 to 400 to spring(0) again, the async currentStyle is still\n// at 0 (didn't have time to tick and interpolate even once). If we naively\n// compare currentStyle with destVal it'll be 0 === 0 (no animation, stop).\n// In reality currentStyle should be 400","\n\n// core keys merging algorithm. If previous render's keys are [a, b], and the\n// next render's [c, b, d], what's the final merged keys and ordering?\n\n// - c and a must both be before b\n// - b before d\n// - ordering between a and c ambiguous\n\n// this reduces to merging two partially ordered lists (e.g. lists where not\n// every item has a definite ordering, like comparing a and c above). For the\n// ambiguous ordering we deterministically choose to place the next render's\n// item after the previous'; so c after a\n\n// this is called a topological sorting. Except the existing algorithms don't\n// work well with js bc of the amount of allocation, and isn't optimized for our\n// current use-case bc the runtime is linear in terms of edges (see wiki for\n// meaning), which is huge when two lists have many common elements\n'use strict';\n\nexports.__esModule = true;\nexports['default'] = mergeDiff;\n\nfunction mergeDiff(prev, next, onRemove) {\n  // bookkeeping for easier access of a key's index below. This is 2 allocations +\n  // potentially triggering chrome hash map mode for objs (so it might be faster\n\n  var prevKeyIndex = {};\n  for (var i = 0; i < prev.length; i++) {\n    prevKeyIndex[prev[i].key] = i;\n  }\n  var nextKeyIndex = {};\n  for (var i = 0; i < next.length; i++) {\n    nextKeyIndex[next[i].key] = i;\n  }\n\n  // first, an overly elaborate way of merging prev and next, eliminating\n  // duplicates (in terms of keys). If there's dupe, keep the item in next).\n  // This way of writing it saves allocations\n  var ret = [];\n  for (var i = 0; i < next.length; i++) {\n    ret[i] = next[i];\n  }\n  for (var i = 0; i < prev.length; i++) {\n    if (!Object.prototype.hasOwnProperty.call(nextKeyIndex, prev[i].key)) {\n      // this is called my TM's `mergeAndSync`, which calls willLeave. We don't\n      // merge in keys that the user desires to kill\n      var fill = onRemove(i, prev[i]);\n      if (fill != null) {\n        ret.push(fill);\n      }\n    }\n  }\n\n  // now all the items all present. Core sorting logic to have the right order\n  return ret.sort(function (a, b) {\n    var nextOrderA = nextKeyIndex[a.key];\n    var nextOrderB = nextKeyIndex[b.key];\n    var prevOrderA = prevKeyIndex[a.key];\n    var prevOrderB = prevKeyIndex[b.key];\n\n    if (nextOrderA != null && nextOrderB != null) {\n      // both keys in next\n      return nextKeyIndex[a.key] - nextKeyIndex[b.key];\n    } else if (prevOrderA != null && prevOrderB != null) {\n      // both keys in prev\n      return prevKeyIndex[a.key] - prevKeyIndex[b.key];\n    } else if (nextOrderA != null) {\n      // key a in next, key b in prev\n\n      // how to determine the order between a and b? We find a \"pivot\" (term\n      // abuse), a key present in both prev and next, that is sandwiched between\n      // a and b. In the context of our above example, if we're comparing a and\n      // d, b's (the only) pivot\n      for (var i = 0; i < next.length; i++) {\n        var pivot = next[i].key;\n        if (!Object.prototype.hasOwnProperty.call(prevKeyIndex, pivot)) {\n          continue;\n        }\n\n        if (nextOrderA < nextKeyIndex[pivot] && prevOrderB > prevKeyIndex[pivot]) {\n          return -1;\n        } else if (nextOrderA > nextKeyIndex[pivot] && prevOrderB < prevKeyIndex[pivot]) {\n          return 1;\n        }\n      }\n      // pluggable. default to: next bigger than prev\n      return 1;\n    }\n    // prevOrderA, nextOrderB\n    for (var i = 0; i < next.length; i++) {\n      var pivot = next[i].key;\n      if (!Object.prototype.hasOwnProperty.call(prevKeyIndex, pivot)) {\n        continue;\n      }\n      if (nextOrderB < nextKeyIndex[pivot] && prevOrderA > prevKeyIndex[pivot]) {\n        return 1;\n      } else if (nextOrderB > nextKeyIndex[pivot] && prevOrderA < prevKeyIndex[pivot]) {\n        return -1;\n      }\n    }\n    // pluggable. default to: next bigger than prev\n    return -1;\n  });\n}\n\nmodule.exports = exports['default'];\n// to loop through and find a key's index each time), but I no longer care","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports['default'] = spring;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _presets = require('./presets');\n\nvar _presets2 = _interopRequireDefault(_presets);\n\nvar defaultConfig = _extends({}, _presets2['default'].noWobble, {\n  precision: 0.01\n});\n\nfunction spring(val, config) {\n  return _extends({}, defaultConfig, config, { val: val });\n}\n\nmodule.exports = exports['default'];","'use strict';\n\nexports.__esModule = true;\nexports['default'] = reorderKeys;\n\nvar hasWarned = false;\n\nfunction reorderKeys() {\n  if (process.env.NODE_ENV === 'development') {\n    if (!hasWarned) {\n      hasWarned = true;\n      console.error('`reorderKeys` has been removed, since it is no longer needed for TransitionMotion\\'s new styles array API.');\n    }\n  }\n}\n\nmodule.exports = exports['default'];","import PropTypes from 'prop-types';\nimport React from 'react';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// require('hammerjs') when in a browser. This is safe because Hammer is only\n// invoked in componentDidMount, which is not executed on the server.\nvar Hammer = typeof window !== 'undefined' ? require('hammerjs') : undefined;\n\nvar privateProps = {\n\tchildren: true,\n\tdirection: true,\n\toptions: true,\n\trecognizeWith: true,\n\tvertical: true\n};\n\n/**\n * Hammer Component\n * ================\n */\n\nvar handlerToEvent = {\n\taction: 'tap press',\n\tonDoubleTap: 'doubletap',\n\tonPan: 'pan',\n\tonPanCancel: 'pancancel',\n\tonPanEnd: 'panend',\n\tonPanStart: 'panstart',\n\tonPinch: 'pinch',\n\tonPinchCancel: 'pinchcancel',\n\tonPinchEnd: 'pinchend',\n\tonPinchIn: 'pinchin',\n\tonPinchOut: 'pinchout',\n\tonPinchStart: 'pinchstart',\n\tonPress: 'press',\n\tonPressUp: 'pressup',\n\tonRotate: 'rotate',\n\tonRotateCancel: 'rotatecancel',\n\tonRotateEnd: 'rotateend',\n\tonRotateMove: 'rotatemove',\n\tonRotateStart: 'rotatestart',\n\tonSwipe: 'swipe',\n\tonSwipeRight: 'swiperight',\n\tonSwipeLeft: 'swipeleft',\n\tonSwipeUp: 'swipeup',\n\tonSwipeDown: 'swipedown',\n\tonTap: 'tap'\n};\n\nObject.keys(handlerToEvent).forEach(function (i) {\n\tprivateProps[i] = true;\n});\n\nfunction updateHammer(hammer, props) {\n\tif (props.hasOwnProperty('vertical')) {\n\t\tconsole.warn('vertical is deprecated, please use `direction` instead');\n\t}\n\n\tvar directionProp = props.direction;\n\tif (directionProp || props.hasOwnProperty('vertical')) {\n\t\tvar direction = directionProp ? directionProp : props.vertical ? 'DIRECTION_ALL' : 'DIRECTION_HORIZONTAL';\n\t\thammer.get('pan').set({ direction: Hammer[direction] });\n\t\thammer.get('swipe').set({ direction: Hammer[direction] });\n\t}\n\n\tif (props.options) {\n\t\tObject.keys(props.options).forEach(function (option) {\n\t\t\tif (option === 'recognizers') {\n\t\t\t\tObject.keys(props.options.recognizers).forEach(function (gesture) {\n\t\t\t\t\tvar recognizer = hammer.get(gesture);\n\t\t\t\t\trecognizer.set(props.options.recognizers[gesture]);\n\t\t\t\t\tif (props.options.recognizers[gesture].requireFailure) {\n\t\t\t\t\t\trecognizer.requireFailure(props.options.recognizers[gesture].requireFailure);\n\t\t\t\t\t}\n\t\t\t\t}, this);\n\t\t\t} else {\n\t\t\t\tvar key = option;\n\t\t\t\tvar optionObj = {};\n\t\t\t\toptionObj[key] = props.options[option];\n\t\t\t\thammer.set(optionObj);\n\t\t\t}\n\t\t}, this);\n\t}\n\n\tif (props.recognizeWith) {\n\t\tObject.keys(props.recognizeWith).forEach(function (gesture) {\n\t\t\tvar recognizer = hammer.get(gesture);\n\t\t\trecognizer.recognizeWith(props.recognizeWith[gesture]);\n\t\t}, this);\n\t}\n\n\tObject.keys(props).forEach(function (p) {\n\t\tvar e = handlerToEvent[p];\n\t\tif (e) {\n\t\t\thammer.off(e);\n\t\t\thammer.on(e, props[p]);\n\t\t}\n\t});\n}\n\nvar HammerComponent = function (_React$Component) {\n\t_inherits(HammerComponent, _React$Component);\n\n\tfunction HammerComponent() {\n\t\t_classCallCheck(this, HammerComponent);\n\n\t\treturn _possibleConstructorReturn(this, (HammerComponent.__proto__ || Object.getPrototypeOf(HammerComponent)).apply(this, arguments));\n\t}\n\n\t_createClass(HammerComponent, [{\n\t\tkey: 'componentDidMount',\n\t\tvalue: function componentDidMount() {\n\t\t\tthis.hammer = new Hammer(this.domElement);\n\t\t\tupdateHammer(this.hammer, this.props);\n\t\t}\n\t}, {\n\t\tkey: 'componentDidUpdate',\n\t\tvalue: function componentDidUpdate() {\n\t\t\tif (this.hammer) {\n\t\t\t\tupdateHammer(this.hammer, this.props);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'componentWillUnmount',\n\t\tvalue: function componentWillUnmount() {\n\t\t\tif (this.hammer) {\n\t\t\t\tthis.hammer.stop();\n\t\t\t\tthis.hammer.destroy();\n\t\t\t}\n\t\t\tthis.hammer = null;\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar props = {};\n\n\t\t\tObject.keys(this.props).forEach(function (i) {\n\t\t\t\tif (!privateProps[i]) {\n\t\t\t\t\tprops[i] = this.props[i];\n\t\t\t\t}\n\t\t\t}, this);\n\n\t\t\tvar self = this;\n\t\t\tprops.ref = function (domElement) {\n\t\t\t\tif (self.props.ref) {\n\t\t\t\t\tself.props.ref(domElement);\n\t\t\t\t}\n\t\t\t\tself.domElement = domElement;\n\t\t\t};\n\n\t\t\t// Reuse the child provided\n\t\t\t// This makes it flexible to use whatever element is wanted (div, ul, etc)\n\t\t\treturn React.cloneElement(React.Children.only(this.props.children), props);\n\t\t}\n\t}]);\n\n\treturn HammerComponent;\n}(React.Component);\n\nHammerComponent.displayName = 'Hammer';\nHammerComponent.propTypes = {\n\tclassName: PropTypes.string\n};\n\nexport default HammerComponent;\n","/*! Hammer.JS - v2.0.7 - 2016-04-22\n * http://hammerjs.github.io/\n *\n * Copyright (c) 2016 Jorik Tangelder;\n * Licensed under the MIT license */\n(function(window, document, exportName, undefined) {\n  'use strict';\n\nvar VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];\nvar TEST_ELEMENT = document.createElement('div');\n\nvar TYPE_FUNCTION = 'function';\n\nvar round = Math.round;\nvar abs = Math.abs;\nvar now = Date.now;\n\n/**\n * set a timeout with a given scope\n * @param {Function} fn\n * @param {Number} timeout\n * @param {Object} context\n * @returns {number}\n */\nfunction setTimeoutContext(fn, timeout, context) {\n    return setTimeout(bindFn(fn, context), timeout);\n}\n\n/**\n * if the argument is an array, we want to execute the fn on each entry\n * if it aint an array we don't want to do a thing.\n * this is used by all the methods that accept a single and array argument.\n * @param {*|Array} arg\n * @param {String} fn\n * @param {Object} [context]\n * @returns {Boolean}\n */\nfunction invokeArrayArg(arg, fn, context) {\n    if (Array.isArray(arg)) {\n        each(arg, context[fn], context);\n        return true;\n    }\n    return false;\n}\n\n/**\n * walk objects and arrays\n * @param {Object} obj\n * @param {Function} iterator\n * @param {Object} context\n */\nfunction each(obj, iterator, context) {\n    var i;\n\n    if (!obj) {\n        return;\n    }\n\n    if (obj.forEach) {\n        obj.forEach(iterator, context);\n    } else if (obj.length !== undefined) {\n        i = 0;\n        while (i < obj.length) {\n            iterator.call(context, obj[i], i, obj);\n            i++;\n        }\n    } else {\n        for (i in obj) {\n            obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);\n        }\n    }\n}\n\n/**\n * wrap a method with a deprecation warning and stack trace\n * @param {Function} method\n * @param {String} name\n * @param {String} message\n * @returns {Function} A new function wrapping the supplied method.\n */\nfunction deprecate(method, name, message) {\n    var deprecationMessage = 'DEPRECATED METHOD: ' + name + '\\n' + message + ' AT \\n';\n    return function() {\n        var e = new Error('get-stack-trace');\n        var stack = e && e.stack ? e.stack.replace(/^[^\\(]+?[\\n$]/gm, '')\n            .replace(/^\\s+at\\s+/gm, '')\n            .replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';\n\n        var log = window.console && (window.console.warn || window.console.log);\n        if (log) {\n            log.call(window.console, deprecationMessage, stack);\n        }\n        return method.apply(this, arguments);\n    };\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} target\n * @param {...Object} objects_to_assign\n * @returns {Object} target\n */\nvar assign;\nif (typeof Object.assign !== 'function') {\n    assign = function assign(target) {\n        if (target === undefined || target === null) {\n            throw new TypeError('Cannot convert undefined or null to object');\n        }\n\n        var output = Object(target);\n        for (var index = 1; index < arguments.length; index++) {\n            var source = arguments[index];\n            if (source !== undefined && source !== null) {\n                for (var nextKey in source) {\n                    if (source.hasOwnProperty(nextKey)) {\n                        output[nextKey] = source[nextKey];\n                    }\n                }\n            }\n        }\n        return output;\n    };\n} else {\n    assign = Object.assign;\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} dest\n * @param {Object} src\n * @param {Boolean} [merge=false]\n * @returns {Object} dest\n */\nvar extend = deprecate(function extend(dest, src, merge) {\n    var keys = Object.keys(src);\n    var i = 0;\n    while (i < keys.length) {\n        if (!merge || (merge && dest[keys[i]] === undefined)) {\n            dest[keys[i]] = src[keys[i]];\n        }\n        i++;\n    }\n    return dest;\n}, 'extend', 'Use `assign`.');\n\n/**\n * merge the values from src in the dest.\n * means that properties that exist in dest will not be overwritten by src\n * @param {Object} dest\n * @param {Object} src\n * @returns {Object} dest\n */\nvar merge = deprecate(function merge(dest, src) {\n    return extend(dest, src, true);\n}, 'merge', 'Use `assign`.');\n\n/**\n * simple class inheritance\n * @param {Function} child\n * @param {Function} base\n * @param {Object} [properties]\n */\nfunction inherit(child, base, properties) {\n    var baseP = base.prototype,\n        childP;\n\n    childP = child.prototype = Object.create(baseP);\n    childP.constructor = child;\n    childP._super = baseP;\n\n    if (properties) {\n        assign(childP, properties);\n    }\n}\n\n/**\n * simple function bind\n * @param {Function} fn\n * @param {Object} context\n * @returns {Function}\n */\nfunction bindFn(fn, context) {\n    return function boundFn() {\n        return fn.apply(context, arguments);\n    };\n}\n\n/**\n * let a boolean value also be a function that must return a boolean\n * this first item in args will be used as the context\n * @param {Boolean|Function} val\n * @param {Array} [args]\n * @returns {Boolean}\n */\nfunction boolOrFn(val, args) {\n    if (typeof val == TYPE_FUNCTION) {\n        return val.apply(args ? args[0] || undefined : undefined, args);\n    }\n    return val;\n}\n\n/**\n * use the val2 when val1 is undefined\n * @param {*} val1\n * @param {*} val2\n * @returns {*}\n */\nfunction ifUndefined(val1, val2) {\n    return (val1 === undefined) ? val2 : val1;\n}\n\n/**\n * addEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction addEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.addEventListener(type, handler, false);\n    });\n}\n\n/**\n * removeEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction removeEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.removeEventListener(type, handler, false);\n    });\n}\n\n/**\n * find if a node is in the given parent\n * @method hasParent\n * @param {HTMLElement} node\n * @param {HTMLElement} parent\n * @return {Boolean} found\n */\nfunction hasParent(node, parent) {\n    while (node) {\n        if (node == parent) {\n            return true;\n        }\n        node = node.parentNode;\n    }\n    return false;\n}\n\n/**\n * small indexOf wrapper\n * @param {String} str\n * @param {String} find\n * @returns {Boolean} found\n */\nfunction inStr(str, find) {\n    return str.indexOf(find) > -1;\n}\n\n/**\n * split string on whitespace\n * @param {String} str\n * @returns {Array} words\n */\nfunction splitStr(str) {\n    return str.trim().split(/\\s+/g);\n}\n\n/**\n * find if a array contains the object using indexOf or a simple polyFill\n * @param {Array} src\n * @param {String} find\n * @param {String} [findByKey]\n * @return {Boolean|Number} false when not found, or the index\n */\nfunction inArray(src, find, findByKey) {\n    if (src.indexOf && !findByKey) {\n        return src.indexOf(find);\n    } else {\n        var i = 0;\n        while (i < src.length) {\n            if ((findByKey && src[i][findByKey] == find) || (!findByKey && src[i] === find)) {\n                return i;\n            }\n            i++;\n        }\n        return -1;\n    }\n}\n\n/**\n * convert array-like objects to real arrays\n * @param {Object} obj\n * @returns {Array}\n */\nfunction toArray(obj) {\n    return Array.prototype.slice.call(obj, 0);\n}\n\n/**\n * unique array with objects based on a key (like 'id') or just by the array's value\n * @param {Array} src [{id:1},{id:2},{id:1}]\n * @param {String} [key]\n * @param {Boolean} [sort=False]\n * @returns {Array} [{id:1},{id:2}]\n */\nfunction uniqueArray(src, key, sort) {\n    var results = [];\n    var values = [];\n    var i = 0;\n\n    while (i < src.length) {\n        var val = key ? src[i][key] : src[i];\n        if (inArray(values, val) < 0) {\n            results.push(src[i]);\n        }\n        values[i] = val;\n        i++;\n    }\n\n    if (sort) {\n        if (!key) {\n            results = results.sort();\n        } else {\n            results = results.sort(function sortUniqueArray(a, b) {\n                return a[key] > b[key];\n            });\n        }\n    }\n\n    return results;\n}\n\n/**\n * get the prefixed property\n * @param {Object} obj\n * @param {String} property\n * @returns {String|Undefined} prefixed\n */\nfunction prefixed(obj, property) {\n    var prefix, prop;\n    var camelProp = property[0].toUpperCase() + property.slice(1);\n\n    var i = 0;\n    while (i < VENDOR_PREFIXES.length) {\n        prefix = VENDOR_PREFIXES[i];\n        prop = (prefix) ? prefix + camelProp : property;\n\n        if (prop in obj) {\n            return prop;\n        }\n        i++;\n    }\n    return undefined;\n}\n\n/**\n * get a unique id\n * @returns {number} uniqueId\n */\nvar _uniqueId = 1;\nfunction uniqueId() {\n    return _uniqueId++;\n}\n\n/**\n * get the window object of an element\n * @param {HTMLElement} element\n * @returns {DocumentView|Window}\n */\nfunction getWindowForElement(element) {\n    var doc = element.ownerDocument || element;\n    return (doc.defaultView || doc.parentWindow || window);\n}\n\nvar MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;\n\nvar SUPPORT_TOUCH = ('ontouchstart' in window);\nvar SUPPORT_POINTER_EVENTS = prefixed(window, 'PointerEvent') !== undefined;\nvar SUPPORT_ONLY_TOUCH = SUPPORT_TOUCH && MOBILE_REGEX.test(navigator.userAgent);\n\nvar INPUT_TYPE_TOUCH = 'touch';\nvar INPUT_TYPE_PEN = 'pen';\nvar INPUT_TYPE_MOUSE = 'mouse';\nvar INPUT_TYPE_KINECT = 'kinect';\n\nvar COMPUTE_INTERVAL = 25;\n\nvar INPUT_START = 1;\nvar INPUT_MOVE = 2;\nvar INPUT_END = 4;\nvar INPUT_CANCEL = 8;\n\nvar DIRECTION_NONE = 1;\nvar DIRECTION_LEFT = 2;\nvar DIRECTION_RIGHT = 4;\nvar DIRECTION_UP = 8;\nvar DIRECTION_DOWN = 16;\n\nvar DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;\nvar DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;\nvar DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;\n\nvar PROPS_XY = ['x', 'y'];\nvar PROPS_CLIENT_XY = ['clientX', 'clientY'];\n\n/**\n * create new input type manager\n * @param {Manager} manager\n * @param {Function} callback\n * @returns {Input}\n * @constructor\n */\nfunction Input(manager, callback) {\n    var self = this;\n    this.manager = manager;\n    this.callback = callback;\n    this.element = manager.element;\n    this.target = manager.options.inputTarget;\n\n    // smaller wrapper around the handler, for the scope and the enabled state of the manager,\n    // so when disabled the input events are completely bypassed.\n    this.domHandler = function(ev) {\n        if (boolOrFn(manager.options.enable, [manager])) {\n            self.handler(ev);\n        }\n    };\n\n    this.init();\n\n}\n\nInput.prototype = {\n    /**\n     * should handle the inputEvent data and trigger the callback\n     * @virtual\n     */\n    handler: function() { },\n\n    /**\n     * bind the events\n     */\n    init: function() {\n        this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    },\n\n    /**\n     * unbind the events\n     */\n    destroy: function() {\n        this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    }\n};\n\n/**\n * create new input type manager\n * called by the Manager constructor\n * @param {Hammer} manager\n * @returns {Input}\n */\nfunction createInputInstance(manager) {\n    var Type;\n    var inputClass = manager.options.inputClass;\n\n    if (inputClass) {\n        Type = inputClass;\n    } else if (SUPPORT_POINTER_EVENTS) {\n        Type = PointerEventInput;\n    } else if (SUPPORT_ONLY_TOUCH) {\n        Type = TouchInput;\n    } else if (!SUPPORT_TOUCH) {\n        Type = MouseInput;\n    } else {\n        Type = TouchMouseInput;\n    }\n    return new (Type)(manager, inputHandler);\n}\n\n/**\n * handle input events\n * @param {Manager} manager\n * @param {String} eventType\n * @param {Object} input\n */\nfunction inputHandler(manager, eventType, input) {\n    var pointersLen = input.pointers.length;\n    var changedPointersLen = input.changedPointers.length;\n    var isFirst = (eventType & INPUT_START && (pointersLen - changedPointersLen === 0));\n    var isFinal = (eventType & (INPUT_END | INPUT_CANCEL) && (pointersLen - changedPointersLen === 0));\n\n    input.isFirst = !!isFirst;\n    input.isFinal = !!isFinal;\n\n    if (isFirst) {\n        manager.session = {};\n    }\n\n    // source event is the normalized value of the domEvents\n    // like 'touchstart, mouseup, pointerdown'\n    input.eventType = eventType;\n\n    // compute scale, rotation etc\n    computeInputData(manager, input);\n\n    // emit secret event\n    manager.emit('hammer.input', input);\n\n    manager.recognize(input);\n    manager.session.prevInput = input;\n}\n\n/**\n * extend the data with some usable properties like scale, rotate, velocity etc\n * @param {Object} manager\n * @param {Object} input\n */\nfunction computeInputData(manager, input) {\n    var session = manager.session;\n    var pointers = input.pointers;\n    var pointersLength = pointers.length;\n\n    // store the first input to calculate the distance and direction\n    if (!session.firstInput) {\n        session.firstInput = simpleCloneInputData(input);\n    }\n\n    // to compute scale and rotation we need to store the multiple touches\n    if (pointersLength > 1 && !session.firstMultiple) {\n        session.firstMultiple = simpleCloneInputData(input);\n    } else if (pointersLength === 1) {\n        session.firstMultiple = false;\n    }\n\n    var firstInput = session.firstInput;\n    var firstMultiple = session.firstMultiple;\n    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;\n\n    var center = input.center = getCenter(pointers);\n    input.timeStamp = now();\n    input.deltaTime = input.timeStamp - firstInput.timeStamp;\n\n    input.angle = getAngle(offsetCenter, center);\n    input.distance = getDistance(offsetCenter, center);\n\n    computeDeltaXY(session, input);\n    input.offsetDirection = getDirection(input.deltaX, input.deltaY);\n\n    var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);\n    input.overallVelocityX = overallVelocity.x;\n    input.overallVelocityY = overallVelocity.y;\n    input.overallVelocity = (abs(overallVelocity.x) > abs(overallVelocity.y)) ? overallVelocity.x : overallVelocity.y;\n\n    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;\n    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;\n\n    input.maxPointers = !session.prevInput ? input.pointers.length : ((input.pointers.length >\n        session.prevInput.maxPointers) ? input.pointers.length : session.prevInput.maxPointers);\n\n    computeIntervalInputData(session, input);\n\n    // find the correct target\n    var target = manager.element;\n    if (hasParent(input.srcEvent.target, target)) {\n        target = input.srcEvent.target;\n    }\n    input.target = target;\n}\n\nfunction computeDeltaXY(session, input) {\n    var center = input.center;\n    var offset = session.offsetDelta || {};\n    var prevDelta = session.prevDelta || {};\n    var prevInput = session.prevInput || {};\n\n    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {\n        prevDelta = session.prevDelta = {\n            x: prevInput.deltaX || 0,\n            y: prevInput.deltaY || 0\n        };\n\n        offset = session.offsetDelta = {\n            x: center.x,\n            y: center.y\n        };\n    }\n\n    input.deltaX = prevDelta.x + (center.x - offset.x);\n    input.deltaY = prevDelta.y + (center.y - offset.y);\n}\n\n/**\n * velocity is calculated every x ms\n * @param {Object} session\n * @param {Object} input\n */\nfunction computeIntervalInputData(session, input) {\n    var last = session.lastInterval || input,\n        deltaTime = input.timeStamp - last.timeStamp,\n        velocity, velocityX, velocityY, direction;\n\n    if (input.eventType != INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {\n        var deltaX = input.deltaX - last.deltaX;\n        var deltaY = input.deltaY - last.deltaY;\n\n        var v = getVelocity(deltaTime, deltaX, deltaY);\n        velocityX = v.x;\n        velocityY = v.y;\n        velocity = (abs(v.x) > abs(v.y)) ? v.x : v.y;\n        direction = getDirection(deltaX, deltaY);\n\n        session.lastInterval = input;\n    } else {\n        // use latest velocity info if it doesn't overtake a minimum period\n        velocity = last.velocity;\n        velocityX = last.velocityX;\n        velocityY = last.velocityY;\n        direction = last.direction;\n    }\n\n    input.velocity = velocity;\n    input.velocityX = velocityX;\n    input.velocityY = velocityY;\n    input.direction = direction;\n}\n\n/**\n * create a simple clone from the input used for storage of firstInput and firstMultiple\n * @param {Object} input\n * @returns {Object} clonedInputData\n */\nfunction simpleCloneInputData(input) {\n    // make a simple copy of the pointers because we will get a reference if we don't\n    // we only need clientXY for the calculations\n    var pointers = [];\n    var i = 0;\n    while (i < input.pointers.length) {\n        pointers[i] = {\n            clientX: round(input.pointers[i].clientX),\n            clientY: round(input.pointers[i].clientY)\n        };\n        i++;\n    }\n\n    return {\n        timeStamp: now(),\n        pointers: pointers,\n        center: getCenter(pointers),\n        deltaX: input.deltaX,\n        deltaY: input.deltaY\n    };\n}\n\n/**\n * get the center of all the pointers\n * @param {Array} pointers\n * @return {Object} center contains `x` and `y` properties\n */\nfunction getCenter(pointers) {\n    var pointersLength = pointers.length;\n\n    // no need to loop when only one touch\n    if (pointersLength === 1) {\n        return {\n            x: round(pointers[0].clientX),\n            y: round(pointers[0].clientY)\n        };\n    }\n\n    var x = 0, y = 0, i = 0;\n    while (i < pointersLength) {\n        x += pointers[i].clientX;\n        y += pointers[i].clientY;\n        i++;\n    }\n\n    return {\n        x: round(x / pointersLength),\n        y: round(y / pointersLength)\n    };\n}\n\n/**\n * calculate the velocity between two points. unit is in px per ms.\n * @param {Number} deltaTime\n * @param {Number} x\n * @param {Number} y\n * @return {Object} velocity `x` and `y`\n */\nfunction getVelocity(deltaTime, x, y) {\n    return {\n        x: x / deltaTime || 0,\n        y: y / deltaTime || 0\n    };\n}\n\n/**\n * get the direction between two points\n * @param {Number} x\n * @param {Number} y\n * @return {Number} direction\n */\nfunction getDirection(x, y) {\n    if (x === y) {\n        return DIRECTION_NONE;\n    }\n\n    if (abs(x) >= abs(y)) {\n        return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n    }\n    return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n}\n\n/**\n * calculate the absolute distance between two points\n * @param {Object} p1 {x, y}\n * @param {Object} p2 {x, y}\n * @param {Array} [props] containing x and y keys\n * @return {Number} distance\n */\nfunction getDistance(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n\n    return Math.sqrt((x * x) + (y * y));\n}\n\n/**\n * calculate the angle between two coordinates\n * @param {Object} p1\n * @param {Object} p2\n * @param {Array} [props] containing x and y keys\n * @return {Number} angle\n */\nfunction getAngle(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.atan2(y, x) * 180 / Math.PI;\n}\n\n/**\n * calculate the rotation degrees between two pointersets\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} rotation\n */\nfunction getRotation(start, end) {\n    return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);\n}\n\n/**\n * calculate the scale factor between two pointersets\n * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} scale\n */\nfunction getScale(start, end) {\n    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);\n}\n\nvar MOUSE_INPUT_MAP = {\n    mousedown: INPUT_START,\n    mousemove: INPUT_MOVE,\n    mouseup: INPUT_END\n};\n\nvar MOUSE_ELEMENT_EVENTS = 'mousedown';\nvar MOUSE_WINDOW_EVENTS = 'mousemove mouseup';\n\n/**\n * Mouse events input\n * @constructor\n * @extends Input\n */\nfunction MouseInput() {\n    this.evEl = MOUSE_ELEMENT_EVENTS;\n    this.evWin = MOUSE_WINDOW_EVENTS;\n\n    this.pressed = false; // mousedown state\n\n    Input.apply(this, arguments);\n}\n\ninherit(MouseInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function MEhandler(ev) {\n        var eventType = MOUSE_INPUT_MAP[ev.type];\n\n        // on start we want to have the left mouse button down\n        if (eventType & INPUT_START && ev.button === 0) {\n            this.pressed = true;\n        }\n\n        if (eventType & INPUT_MOVE && ev.which !== 1) {\n            eventType = INPUT_END;\n        }\n\n        // mouse must be down\n        if (!this.pressed) {\n            return;\n        }\n\n        if (eventType & INPUT_END) {\n            this.pressed = false;\n        }\n\n        this.callback(this.manager, eventType, {\n            pointers: [ev],\n            changedPointers: [ev],\n            pointerType: INPUT_TYPE_MOUSE,\n            srcEvent: ev\n        });\n    }\n});\n\nvar POINTER_INPUT_MAP = {\n    pointerdown: INPUT_START,\n    pointermove: INPUT_MOVE,\n    pointerup: INPUT_END,\n    pointercancel: INPUT_CANCEL,\n    pointerout: INPUT_CANCEL\n};\n\n// in IE10 the pointer types is defined as an enum\nvar IE10_POINTER_TYPE_ENUM = {\n    2: INPUT_TYPE_TOUCH,\n    3: INPUT_TYPE_PEN,\n    4: INPUT_TYPE_MOUSE,\n    5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816\n};\n\nvar POINTER_ELEMENT_EVENTS = 'pointerdown';\nvar POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel';\n\n// IE10 has prefixed support, and case-sensitive\nif (window.MSPointerEvent && !window.PointerEvent) {\n    POINTER_ELEMENT_EVENTS = 'MSPointerDown';\n    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';\n}\n\n/**\n * Pointer events input\n * @constructor\n * @extends Input\n */\nfunction PointerEventInput() {\n    this.evEl = POINTER_ELEMENT_EVENTS;\n    this.evWin = POINTER_WINDOW_EVENTS;\n\n    Input.apply(this, arguments);\n\n    this.store = (this.manager.session.pointerEvents = []);\n}\n\ninherit(PointerEventInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function PEhandler(ev) {\n        var store = this.store;\n        var removePointer = false;\n\n        var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');\n        var eventType = POINTER_INPUT_MAP[eventTypeNormalized];\n        var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;\n\n        var isTouch = (pointerType == INPUT_TYPE_TOUCH);\n\n        // get index of the event in the store\n        var storeIndex = inArray(store, ev.pointerId, 'pointerId');\n\n        // start and mouse must be down\n        if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {\n            if (storeIndex < 0) {\n                store.push(ev);\n                storeIndex = store.length - 1;\n            }\n        } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n            removePointer = true;\n        }\n\n        // it not found, so the pointer hasn't been down (so it's probably a hover)\n        if (storeIndex < 0) {\n            return;\n        }\n\n        // update the event in the store\n        store[storeIndex] = ev;\n\n        this.callback(this.manager, eventType, {\n            pointers: store,\n            changedPointers: [ev],\n            pointerType: pointerType,\n            srcEvent: ev\n        });\n\n        if (removePointer) {\n            // remove from the store\n            store.splice(storeIndex, 1);\n        }\n    }\n});\n\nvar SINGLE_TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';\nvar SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Touch events input\n * @constructor\n * @extends Input\n */\nfunction SingleTouchInput() {\n    this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;\n    this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;\n    this.started = false;\n\n    Input.apply(this, arguments);\n}\n\ninherit(SingleTouchInput, Input, {\n    handler: function TEhandler(ev) {\n        var type = SINGLE_TOUCH_INPUT_MAP[ev.type];\n\n        // should we handle the touch events?\n        if (type === INPUT_START) {\n            this.started = true;\n        }\n\n        if (!this.started) {\n            return;\n        }\n\n        var touches = normalizeSingleTouches.call(this, ev, type);\n\n        // when done, reset the started state\n        if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {\n            this.started = false;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction normalizeSingleTouches(ev, type) {\n    var all = toArray(ev.touches);\n    var changed = toArray(ev.changedTouches);\n\n    if (type & (INPUT_END | INPUT_CANCEL)) {\n        all = uniqueArray(all.concat(changed), 'identifier', true);\n    }\n\n    return [all, changed];\n}\n\nvar TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Multi-user touch events input\n * @constructor\n * @extends Input\n */\nfunction TouchInput() {\n    this.evTarget = TOUCH_TARGET_EVENTS;\n    this.targetIds = {};\n\n    Input.apply(this, arguments);\n}\n\ninherit(TouchInput, Input, {\n    handler: function MTEhandler(ev) {\n        var type = TOUCH_INPUT_MAP[ev.type];\n        var touches = getTouches.call(this, ev, type);\n        if (!touches) {\n            return;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction getTouches(ev, type) {\n    var allTouches = toArray(ev.touches);\n    var targetIds = this.targetIds;\n\n    // when there is only one touch, the process can be simplified\n    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {\n        targetIds[allTouches[0].identifier] = true;\n        return [allTouches, allTouches];\n    }\n\n    var i,\n        targetTouches,\n        changedTouches = toArray(ev.changedTouches),\n        changedTargetTouches = [],\n        target = this.target;\n\n    // get target touches from touches\n    targetTouches = allTouches.filter(function(touch) {\n        return hasParent(touch.target, target);\n    });\n\n    // collect touches\n    if (type === INPUT_START) {\n        i = 0;\n        while (i < targetTouches.length) {\n            targetIds[targetTouches[i].identifier] = true;\n            i++;\n        }\n    }\n\n    // filter changed touches to only contain touches that exist in the collected target ids\n    i = 0;\n    while (i < changedTouches.length) {\n        if (targetIds[changedTouches[i].identifier]) {\n            changedTargetTouches.push(changedTouches[i]);\n        }\n\n        // cleanup removed touches\n        if (type & (INPUT_END | INPUT_CANCEL)) {\n            delete targetIds[changedTouches[i].identifier];\n        }\n        i++;\n    }\n\n    if (!changedTargetTouches.length) {\n        return;\n    }\n\n    return [\n        // merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'\n        uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true),\n        changedTargetTouches\n    ];\n}\n\n/**\n * Combined touch and mouse input\n *\n * Touch has a higher priority then mouse, and while touching no mouse events are allowed.\n * This because touch devices also emit mouse events while doing a touch.\n *\n * @constructor\n * @extends Input\n */\n\nvar DEDUP_TIMEOUT = 2500;\nvar DEDUP_DISTANCE = 25;\n\nfunction TouchMouseInput() {\n    Input.apply(this, arguments);\n\n    var handler = bindFn(this.handler, this);\n    this.touch = new TouchInput(this.manager, handler);\n    this.mouse = new MouseInput(this.manager, handler);\n\n    this.primaryTouch = null;\n    this.lastTouches = [];\n}\n\ninherit(TouchMouseInput, Input, {\n    /**\n     * handle mouse and touch events\n     * @param {Hammer} manager\n     * @param {String} inputEvent\n     * @param {Object} inputData\n     */\n    handler: function TMEhandler(manager, inputEvent, inputData) {\n        var isTouch = (inputData.pointerType == INPUT_TYPE_TOUCH),\n            isMouse = (inputData.pointerType == INPUT_TYPE_MOUSE);\n\n        if (isMouse && inputData.sourceCapabilities && inputData.sourceCapabilities.firesTouchEvents) {\n            return;\n        }\n\n        // when we're in a touch event, record touches to  de-dupe synthetic mouse event\n        if (isTouch) {\n            recordTouches.call(this, inputEvent, inputData);\n        } else if (isMouse && isSyntheticEvent.call(this, inputData)) {\n            return;\n        }\n\n        this.callback(manager, inputEvent, inputData);\n    },\n\n    /**\n     * remove the event listeners\n     */\n    destroy: function destroy() {\n        this.touch.destroy();\n        this.mouse.destroy();\n    }\n});\n\nfunction recordTouches(eventType, eventData) {\n    if (eventType & INPUT_START) {\n        this.primaryTouch = eventData.changedPointers[0].identifier;\n        setLastTouch.call(this, eventData);\n    } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n        setLastTouch.call(this, eventData);\n    }\n}\n\nfunction setLastTouch(eventData) {\n    var touch = eventData.changedPointers[0];\n\n    if (touch.identifier === this.primaryTouch) {\n        var lastTouch = {x: touch.clientX, y: touch.clientY};\n        this.lastTouches.push(lastTouch);\n        var lts = this.lastTouches;\n        var removeLastTouch = function() {\n            var i = lts.indexOf(lastTouch);\n            if (i > -1) {\n                lts.splice(i, 1);\n            }\n        };\n        setTimeout(removeLastTouch, DEDUP_TIMEOUT);\n    }\n}\n\nfunction isSyntheticEvent(eventData) {\n    var x = eventData.srcEvent.clientX, y = eventData.srcEvent.clientY;\n    for (var i = 0; i < this.lastTouches.length; i++) {\n        var t = this.lastTouches[i];\n        var dx = Math.abs(x - t.x), dy = Math.abs(y - t.y);\n        if (dx <= DEDUP_DISTANCE && dy <= DEDUP_DISTANCE) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar PREFIXED_TOUCH_ACTION = prefixed(TEST_ELEMENT.style, 'touchAction');\nvar NATIVE_TOUCH_ACTION = PREFIXED_TOUCH_ACTION !== undefined;\n\n// magical touchAction value\nvar TOUCH_ACTION_COMPUTE = 'compute';\nvar TOUCH_ACTION_AUTO = 'auto';\nvar TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented\nvar TOUCH_ACTION_NONE = 'none';\nvar TOUCH_ACTION_PAN_X = 'pan-x';\nvar TOUCH_ACTION_PAN_Y = 'pan-y';\nvar TOUCH_ACTION_MAP = getTouchActionProps();\n\n/**\n * Touch Action\n * sets the touchAction property or uses the js alternative\n * @param {Manager} manager\n * @param {String} value\n * @constructor\n */\nfunction TouchAction(manager, value) {\n    this.manager = manager;\n    this.set(value);\n}\n\nTouchAction.prototype = {\n    /**\n     * set the touchAction value on the element or enable the polyfill\n     * @param {String} value\n     */\n    set: function(value) {\n        // find out the touch-action by the event handlers\n        if (value == TOUCH_ACTION_COMPUTE) {\n            value = this.compute();\n        }\n\n        if (NATIVE_TOUCH_ACTION && this.manager.element.style && TOUCH_ACTION_MAP[value]) {\n            this.manager.element.style[PREFIXED_TOUCH_ACTION] = value;\n        }\n        this.actions = value.toLowerCase().trim();\n    },\n\n    /**\n     * just re-set the touchAction value\n     */\n    update: function() {\n        this.set(this.manager.options.touchAction);\n    },\n\n    /**\n     * compute the value for the touchAction property based on the recognizer's settings\n     * @returns {String} value\n     */\n    compute: function() {\n        var actions = [];\n        each(this.manager.recognizers, function(recognizer) {\n            if (boolOrFn(recognizer.options.enable, [recognizer])) {\n                actions = actions.concat(recognizer.getTouchAction());\n            }\n        });\n        return cleanTouchActions(actions.join(' '));\n    },\n\n    /**\n     * this method is called on each input cycle and provides the preventing of the browser behavior\n     * @param {Object} input\n     */\n    preventDefaults: function(input) {\n        var srcEvent = input.srcEvent;\n        var direction = input.offsetDirection;\n\n        // if the touch action did prevented once this session\n        if (this.manager.session.prevented) {\n            srcEvent.preventDefault();\n            return;\n        }\n\n        var actions = this.actions;\n        var hasNone = inStr(actions, TOUCH_ACTION_NONE) && !TOUCH_ACTION_MAP[TOUCH_ACTION_NONE];\n        var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y];\n        var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];\n\n        if (hasNone) {\n            //do not prevent defaults if this is a tap gesture\n\n            var isTapPointer = input.pointers.length === 1;\n            var isTapMovement = input.distance < 2;\n            var isTapTouchTime = input.deltaTime < 250;\n\n            if (isTapPointer && isTapMovement && isTapTouchTime) {\n                return;\n            }\n        }\n\n        if (hasPanX && hasPanY) {\n            // `pan-x pan-y` means browser handles all scrolling/panning, do not prevent\n            return;\n        }\n\n        if (hasNone ||\n            (hasPanY && direction & DIRECTION_HORIZONTAL) ||\n            (hasPanX && direction & DIRECTION_VERTICAL)) {\n            return this.preventSrc(srcEvent);\n        }\n    },\n\n    /**\n     * call preventDefault to prevent the browser's default behavior (scrolling in most cases)\n     * @param {Object} srcEvent\n     */\n    preventSrc: function(srcEvent) {\n        this.manager.session.prevented = true;\n        srcEvent.preventDefault();\n    }\n};\n\n/**\n * when the touchActions are collected they are not a valid value, so we need to clean things up. *\n * @param {String} actions\n * @returns {*}\n */\nfunction cleanTouchActions(actions) {\n    // none\n    if (inStr(actions, TOUCH_ACTION_NONE)) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\n    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y);\n\n    // if both pan-x and pan-y are set (different recognizers\n    // for different directions, e.g. horizontal pan but vertical swipe?)\n    // we need none (as otherwise with pan-x pan-y combined none of these\n    // recognizers will work, since the browser would handle all panning\n    if (hasPanX && hasPanY) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    // pan-x OR pan-y\n    if (hasPanX || hasPanY) {\n        return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;\n    }\n\n    // manipulation\n    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {\n        return TOUCH_ACTION_MANIPULATION;\n    }\n\n    return TOUCH_ACTION_AUTO;\n}\n\nfunction getTouchActionProps() {\n    if (!NATIVE_TOUCH_ACTION) {\n        return false;\n    }\n    var touchMap = {};\n    var cssSupports = window.CSS && window.CSS.supports;\n    ['auto', 'manipulation', 'pan-y', 'pan-x', 'pan-x pan-y', 'none'].forEach(function(val) {\n\n        // If css.supports is not supported but there is native touch-action assume it supports\n        // all values. This is the case for IE 10 and 11.\n        touchMap[val] = cssSupports ? window.CSS.supports('touch-action', val) : true;\n    });\n    return touchMap;\n}\n\n/**\n * Recognizer flow explained; *\n * All recognizers have the initial state of POSSIBLE when a input session starts.\n * The definition of a input session is from the first input until the last input, with all it's movement in it. *\n * Example session for mouse-input: mousedown -> mousemove -> mouseup\n *\n * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed\n * which determines with state it should be.\n *\n * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to\n * POSSIBLE to give it another change on the next cycle.\n *\n *               Possible\n *                  |\n *            +-----+---------------+\n *            |                     |\n *      +-----+-----+               |\n *      |           |               |\n *   Failed      Cancelled          |\n *                          +-------+------+\n *                          |              |\n *                      Recognized       Began\n *                                         |\n *                                      Changed\n *                                         |\n *                                  Ended/Recognized\n */\nvar STATE_POSSIBLE = 1;\nvar STATE_BEGAN = 2;\nvar STATE_CHANGED = 4;\nvar STATE_ENDED = 8;\nvar STATE_RECOGNIZED = STATE_ENDED;\nvar STATE_CANCELLED = 16;\nvar STATE_FAILED = 32;\n\n/**\n * Recognizer\n * Every recognizer needs to extend from this class.\n * @constructor\n * @param {Object} options\n */\nfunction Recognizer(options) {\n    this.options = assign({}, this.defaults, options || {});\n\n    this.id = uniqueId();\n\n    this.manager = null;\n\n    // default is enable true\n    this.options.enable = ifUndefined(this.options.enable, true);\n\n    this.state = STATE_POSSIBLE;\n\n    this.simultaneous = {};\n    this.requireFail = [];\n}\n\nRecognizer.prototype = {\n    /**\n     * @virtual\n     * @type {Object}\n     */\n    defaults: {},\n\n    /**\n     * set options\n     * @param {Object} options\n     * @return {Recognizer}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // also update the touchAction, in case something changed about the directions/enabled state\n        this.manager && this.manager.touchAction.update();\n        return this;\n    },\n\n    /**\n     * recognize simultaneous with an other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    recognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {\n            return this;\n        }\n\n        var simultaneous = this.simultaneous;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (!simultaneous[otherRecognizer.id]) {\n            simultaneous[otherRecognizer.id] = otherRecognizer;\n            otherRecognizer.recognizeWith(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the simultaneous link. it doesnt remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRecognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        delete this.simultaneous[otherRecognizer.id];\n        return this;\n    },\n\n    /**\n     * recognizer can only run when an other is failing\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    requireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {\n            return this;\n        }\n\n        var requireFail = this.requireFail;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (inArray(requireFail, otherRecognizer) === -1) {\n            requireFail.push(otherRecognizer);\n            otherRecognizer.requireFailure(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the requireFailure link. it does not remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRequireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        var index = inArray(this.requireFail, otherRecognizer);\n        if (index > -1) {\n            this.requireFail.splice(index, 1);\n        }\n        return this;\n    },\n\n    /**\n     * has require failures boolean\n     * @returns {boolean}\n     */\n    hasRequireFailures: function() {\n        return this.requireFail.length > 0;\n    },\n\n    /**\n     * if the recognizer can recognize simultaneous with an other recognizer\n     * @param {Recognizer} otherRecognizer\n     * @returns {Boolean}\n     */\n    canRecognizeWith: function(otherRecognizer) {\n        return !!this.simultaneous[otherRecognizer.id];\n    },\n\n    /**\n     * You should use `tryEmit` instead of `emit` directly to check\n     * that all the needed recognizers has failed before emitting.\n     * @param {Object} input\n     */\n    emit: function(input) {\n        var self = this;\n        var state = this.state;\n\n        function emit(event) {\n            self.manager.emit(event, input);\n        }\n\n        // 'panstart' and 'panmove'\n        if (state < STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n\n        emit(self.options.event); // simple 'eventName' events\n\n        if (input.additionalEvent) { // additional event(panleft, panright, pinchin, pinchout...)\n            emit(input.additionalEvent);\n        }\n\n        // panend and pancancel\n        if (state >= STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n    },\n\n    /**\n     * Check that all the require failure recognizers has failed,\n     * if true, it emits a gesture event,\n     * otherwise, setup the state to FAILED.\n     * @param {Object} input\n     */\n    tryEmit: function(input) {\n        if (this.canEmit()) {\n            return this.emit(input);\n        }\n        // it's failing anyway\n        this.state = STATE_FAILED;\n    },\n\n    /**\n     * can we emit?\n     * @returns {boolean}\n     */\n    canEmit: function() {\n        var i = 0;\n        while (i < this.requireFail.length) {\n            if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {\n                return false;\n            }\n            i++;\n        }\n        return true;\n    },\n\n    /**\n     * update the recognizer\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        // make a new copy of the inputData\n        // so we can change the inputData without messing up the other recognizers\n        var inputDataClone = assign({}, inputData);\n\n        // is is enabled and allow recognizing?\n        if (!boolOrFn(this.options.enable, [this, inputDataClone])) {\n            this.reset();\n            this.state = STATE_FAILED;\n            return;\n        }\n\n        // reset when we've reached the end\n        if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {\n            this.state = STATE_POSSIBLE;\n        }\n\n        this.state = this.process(inputDataClone);\n\n        // the recognizer has recognized a gesture\n        // so trigger an event\n        if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {\n            this.tryEmit(inputDataClone);\n        }\n    },\n\n    /**\n     * return the state of the recognizer\n     * the actual recognizing happens in this method\n     * @virtual\n     * @param {Object} inputData\n     * @returns {Const} STATE\n     */\n    process: function(inputData) { }, // jshint ignore:line\n\n    /**\n     * return the preferred touch-action\n     * @virtual\n     * @returns {Array}\n     */\n    getTouchAction: function() { },\n\n    /**\n     * called when the gesture isn't allowed to recognize\n     * like when another is being recognized or it is disabled\n     * @virtual\n     */\n    reset: function() { }\n};\n\n/**\n * get a usable string, used as event postfix\n * @param {Const} state\n * @returns {String} state\n */\nfunction stateStr(state) {\n    if (state & STATE_CANCELLED) {\n        return 'cancel';\n    } else if (state & STATE_ENDED) {\n        return 'end';\n    } else if (state & STATE_CHANGED) {\n        return 'move';\n    } else if (state & STATE_BEGAN) {\n        return 'start';\n    }\n    return '';\n}\n\n/**\n * direction cons to string\n * @param {Const} direction\n * @returns {String}\n */\nfunction directionStr(direction) {\n    if (direction == DIRECTION_DOWN) {\n        return 'down';\n    } else if (direction == DIRECTION_UP) {\n        return 'up';\n    } else if (direction == DIRECTION_LEFT) {\n        return 'left';\n    } else if (direction == DIRECTION_RIGHT) {\n        return 'right';\n    }\n    return '';\n}\n\n/**\n * get a recognizer by name if it is bound to a manager\n * @param {Recognizer|String} otherRecognizer\n * @param {Recognizer} recognizer\n * @returns {Recognizer}\n */\nfunction getRecognizerByNameIfManager(otherRecognizer, recognizer) {\n    var manager = recognizer.manager;\n    if (manager) {\n        return manager.get(otherRecognizer);\n    }\n    return otherRecognizer;\n}\n\n/**\n * This recognizer is just used as a base for the simple attribute recognizers.\n * @constructor\n * @extends Recognizer\n */\nfunction AttrRecognizer() {\n    Recognizer.apply(this, arguments);\n}\n\ninherit(AttrRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof AttrRecognizer\n     */\n    defaults: {\n        /**\n         * @type {Number}\n         * @default 1\n         */\n        pointers: 1\n    },\n\n    /**\n     * Used to check if it the recognizer receives valid input, like input.distance > 10.\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {Boolean} recognized\n     */\n    attrTest: function(input) {\n        var optionPointers = this.options.pointers;\n        return optionPointers === 0 || input.pointers.length === optionPointers;\n    },\n\n    /**\n     * Process the input and return the state for the recognizer\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {*} State\n     */\n    process: function(input) {\n        var state = this.state;\n        var eventType = input.eventType;\n\n        var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);\n        var isValid = this.attrTest(input);\n\n        // on cancel input and we've recognized before, return STATE_CANCELLED\n        if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {\n            return state | STATE_CANCELLED;\n        } else if (isRecognized || isValid) {\n            if (eventType & INPUT_END) {\n                return state | STATE_ENDED;\n            } else if (!(state & STATE_BEGAN)) {\n                return STATE_BEGAN;\n            }\n            return state | STATE_CHANGED;\n        }\n        return STATE_FAILED;\n    }\n});\n\n/**\n * Pan\n * Recognized when the pointer is down and moved in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PanRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n\n    this.pX = null;\n    this.pY = null;\n}\n\ninherit(PanRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PanRecognizer\n     */\n    defaults: {\n        event: 'pan',\n        threshold: 10,\n        pointers: 1,\n        direction: DIRECTION_ALL\n    },\n\n    getTouchAction: function() {\n        var direction = this.options.direction;\n        var actions = [];\n        if (direction & DIRECTION_HORIZONTAL) {\n            actions.push(TOUCH_ACTION_PAN_Y);\n        }\n        if (direction & DIRECTION_VERTICAL) {\n            actions.push(TOUCH_ACTION_PAN_X);\n        }\n        return actions;\n    },\n\n    directionTest: function(input) {\n        var options = this.options;\n        var hasMoved = true;\n        var distance = input.distance;\n        var direction = input.direction;\n        var x = input.deltaX;\n        var y = input.deltaY;\n\n        // lock to axis?\n        if (!(direction & options.direction)) {\n            if (options.direction & DIRECTION_HORIZONTAL) {\n                direction = (x === 0) ? DIRECTION_NONE : (x < 0) ? DIRECTION_LEFT : DIRECTION_RIGHT;\n                hasMoved = x != this.pX;\n                distance = Math.abs(input.deltaX);\n            } else {\n                direction = (y === 0) ? DIRECTION_NONE : (y < 0) ? DIRECTION_UP : DIRECTION_DOWN;\n                hasMoved = y != this.pY;\n                distance = Math.abs(input.deltaY);\n            }\n        }\n        input.direction = direction;\n        return hasMoved && distance > options.threshold && direction & options.direction;\n    },\n\n    attrTest: function(input) {\n        return AttrRecognizer.prototype.attrTest.call(this, input) &&\n            (this.state & STATE_BEGAN || (!(this.state & STATE_BEGAN) && this.directionTest(input)));\n    },\n\n    emit: function(input) {\n\n        this.pX = input.deltaX;\n        this.pY = input.deltaY;\n\n        var direction = directionStr(input.direction);\n\n        if (direction) {\n            input.additionalEvent = this.options.event + direction;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Pinch\n * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PinchRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(PinchRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'pinch',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);\n    },\n\n    emit: function(input) {\n        if (input.scale !== 1) {\n            var inOut = input.scale < 1 ? 'in' : 'out';\n            input.additionalEvent = this.options.event + inOut;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Press\n * Recognized when the pointer is down for x ms without any movement.\n * @constructor\n * @extends Recognizer\n */\nfunction PressRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    this._timer = null;\n    this._input = null;\n}\n\ninherit(PressRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PressRecognizer\n     */\n    defaults: {\n        event: 'press',\n        pointers: 1,\n        time: 251, // minimal time of the pointer to be pressed\n        threshold: 9 // a minimal movement is ok, but keep it low\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_AUTO];\n    },\n\n    process: function(input) {\n        var options = this.options;\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTime = input.deltaTime > options.time;\n\n        this._input = input;\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (!validMovement || !validPointers || (input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime)) {\n            this.reset();\n        } else if (input.eventType & INPUT_START) {\n            this.reset();\n            this._timer = setTimeoutContext(function() {\n                this.state = STATE_RECOGNIZED;\n                this.tryEmit();\n            }, options.time, this);\n        } else if (input.eventType & INPUT_END) {\n            return STATE_RECOGNIZED;\n        }\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function(input) {\n        if (this.state !== STATE_RECOGNIZED) {\n            return;\n        }\n\n        if (input && (input.eventType & INPUT_END)) {\n            this.manager.emit(this.options.event + 'up', input);\n        } else {\n            this._input.timeStamp = now();\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Rotate\n * Recognized when two or more pointer are moving in a circular motion.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction RotateRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(RotateRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof RotateRecognizer\n     */\n    defaults: {\n        event: 'rotate',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);\n    }\n});\n\n/**\n * Swipe\n * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction SwipeRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(SwipeRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof SwipeRecognizer\n     */\n    defaults: {\n        event: 'swipe',\n        threshold: 10,\n        velocity: 0.3,\n        direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,\n        pointers: 1\n    },\n\n    getTouchAction: function() {\n        return PanRecognizer.prototype.getTouchAction.call(this);\n    },\n\n    attrTest: function(input) {\n        var direction = this.options.direction;\n        var velocity;\n\n        if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {\n            velocity = input.overallVelocity;\n        } else if (direction & DIRECTION_HORIZONTAL) {\n            velocity = input.overallVelocityX;\n        } else if (direction & DIRECTION_VERTICAL) {\n            velocity = input.overallVelocityY;\n        }\n\n        return this._super.attrTest.call(this, input) &&\n            direction & input.offsetDirection &&\n            input.distance > this.options.threshold &&\n            input.maxPointers == this.options.pointers &&\n            abs(velocity) > this.options.velocity && input.eventType & INPUT_END;\n    },\n\n    emit: function(input) {\n        var direction = directionStr(input.offsetDirection);\n        if (direction) {\n            this.manager.emit(this.options.event + direction, input);\n        }\n\n        this.manager.emit(this.options.event, input);\n    }\n});\n\n/**\n * A tap is ecognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur\n * between the given interval and position. The delay option can be used to recognize multi-taps without firing\n * a single tap.\n *\n * The eventData from the emitted event contains the property `tapCount`, which contains the amount of\n * multi-taps being recognized.\n * @constructor\n * @extends Recognizer\n */\nfunction TapRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    // previous time and center,\n    // used for tap counting\n    this.pTime = false;\n    this.pCenter = false;\n\n    this._timer = null;\n    this._input = null;\n    this.count = 0;\n}\n\ninherit(TapRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'tap',\n        pointers: 1,\n        taps: 1,\n        interval: 300, // max time between the multi-tap taps\n        time: 250, // max time of the pointer to be down (like finger on the screen)\n        threshold: 9, // a minimal movement is ok, but keep it low\n        posThreshold: 10 // a multi-tap can be a bit off the initial position\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_MANIPULATION];\n    },\n\n    process: function(input) {\n        var options = this.options;\n\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTouchTime = input.deltaTime < options.time;\n\n        this.reset();\n\n        if ((input.eventType & INPUT_START) && (this.count === 0)) {\n            return this.failTimeout();\n        }\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (validMovement && validTouchTime && validPointers) {\n            if (input.eventType != INPUT_END) {\n                return this.failTimeout();\n            }\n\n            var validInterval = this.pTime ? (input.timeStamp - this.pTime < options.interval) : true;\n            var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;\n\n            this.pTime = input.timeStamp;\n            this.pCenter = input.center;\n\n            if (!validMultiTap || !validInterval) {\n                this.count = 1;\n            } else {\n                this.count += 1;\n            }\n\n            this._input = input;\n\n            // if tap count matches we have recognized it,\n            // else it has began recognizing...\n            var tapCount = this.count % options.taps;\n            if (tapCount === 0) {\n                // no failing requirements, immediately trigger the tap event\n                // or wait as long as the multitap interval to trigger\n                if (!this.hasRequireFailures()) {\n                    return STATE_RECOGNIZED;\n                } else {\n                    this._timer = setTimeoutContext(function() {\n                        this.state = STATE_RECOGNIZED;\n                        this.tryEmit();\n                    }, options.interval, this);\n                    return STATE_BEGAN;\n                }\n            }\n        }\n        return STATE_FAILED;\n    },\n\n    failTimeout: function() {\n        this._timer = setTimeoutContext(function() {\n            this.state = STATE_FAILED;\n        }, this.options.interval, this);\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function() {\n        if (this.state == STATE_RECOGNIZED) {\n            this._input.tapCount = this.count;\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Simple way to create a manager with a default set of recognizers.\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Hammer(element, options) {\n    options = options || {};\n    options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);\n    return new Manager(element, options);\n}\n\n/**\n * @const {string}\n */\nHammer.VERSION = '2.0.7';\n\n/**\n * default settings\n * @namespace\n */\nHammer.defaults = {\n    /**\n     * set if DOM events are being triggered.\n     * But this is slower and unused by simple implementations, so disabled by default.\n     * @type {Boolean}\n     * @default false\n     */\n    domEvents: false,\n\n    /**\n     * The value for the touchAction property/fallback.\n     * When set to `compute` it will magically set the correct value based on the added recognizers.\n     * @type {String}\n     * @default compute\n     */\n    touchAction: TOUCH_ACTION_COMPUTE,\n\n    /**\n     * @type {Boolean}\n     * @default true\n     */\n    enable: true,\n\n    /**\n     * EXPERIMENTAL FEATURE -- can be removed/changed\n     * Change the parent input target element.\n     * If Null, then it is being set the to main element.\n     * @type {Null|EventTarget}\n     * @default null\n     */\n    inputTarget: null,\n\n    /**\n     * force an input class\n     * @type {Null|Function}\n     * @default null\n     */\n    inputClass: null,\n\n    /**\n     * Default recognizer setup when calling `Hammer()`\n     * When creating a new Manager these will be skipped.\n     * @type {Array}\n     */\n    preset: [\n        // RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]\n        [RotateRecognizer, {enable: false}],\n        [PinchRecognizer, {enable: false}, ['rotate']],\n        [SwipeRecognizer, {direction: DIRECTION_HORIZONTAL}],\n        [PanRecognizer, {direction: DIRECTION_HORIZONTAL}, ['swipe']],\n        [TapRecognizer],\n        [TapRecognizer, {event: 'doubletap', taps: 2}, ['tap']],\n        [PressRecognizer]\n    ],\n\n    /**\n     * Some CSS properties can be used to improve the working of Hammer.\n     * Add them to this method and they will be set when creating a new Manager.\n     * @namespace\n     */\n    cssProps: {\n        /**\n         * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userSelect: 'none',\n\n        /**\n         * Disable the Windows Phone grippers when pressing an element.\n         * @type {String}\n         * @default 'none'\n         */\n        touchSelect: 'none',\n\n        /**\n         * Disables the default callout shown when you touch and hold a touch target.\n         * On iOS, when you touch and hold a touch target such as a link, Safari displays\n         * a callout containing information about the link. This property allows you to disable that callout.\n         * @type {String}\n         * @default 'none'\n         */\n        touchCallout: 'none',\n\n        /**\n         * Specifies whether zooming is enabled. Used by IE10>\n         * @type {String}\n         * @default 'none'\n         */\n        contentZooming: 'none',\n\n        /**\n         * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userDrag: 'none',\n\n        /**\n         * Overrides the highlight color shown when the user taps a link or a JavaScript\n         * clickable element in iOS. This property obeys the alpha value, if specified.\n         * @type {String}\n         * @default 'rgba(0,0,0,0)'\n         */\n        tapHighlightColor: 'rgba(0,0,0,0)'\n    }\n};\n\nvar STOP = 1;\nvar FORCED_STOP = 2;\n\n/**\n * Manager\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Manager(element, options) {\n    this.options = assign({}, Hammer.defaults, options || {});\n\n    this.options.inputTarget = this.options.inputTarget || element;\n\n    this.handlers = {};\n    this.session = {};\n    this.recognizers = [];\n    this.oldCssProps = {};\n\n    this.element = element;\n    this.input = createInputInstance(this);\n    this.touchAction = new TouchAction(this, this.options.touchAction);\n\n    toggleCssProps(this, true);\n\n    each(this.options.recognizers, function(item) {\n        var recognizer = this.add(new (item[0])(item[1]));\n        item[2] && recognizer.recognizeWith(item[2]);\n        item[3] && recognizer.requireFailure(item[3]);\n    }, this);\n}\n\nManager.prototype = {\n    /**\n     * set options\n     * @param {Object} options\n     * @returns {Manager}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // Options that need a little more setup\n        if (options.touchAction) {\n            this.touchAction.update();\n        }\n        if (options.inputTarget) {\n            // Clean up existing event listeners and reinitialize\n            this.input.destroy();\n            this.input.target = options.inputTarget;\n            this.input.init();\n        }\n        return this;\n    },\n\n    /**\n     * stop recognizing for this session.\n     * This session will be discarded, when a new [input]start event is fired.\n     * When forced, the recognizer cycle is stopped immediately.\n     * @param {Boolean} [force]\n     */\n    stop: function(force) {\n        this.session.stopped = force ? FORCED_STOP : STOP;\n    },\n\n    /**\n     * run the recognizers!\n     * called by the inputHandler function on every movement of the pointers (touches)\n     * it walks through all the recognizers and tries to detect the gesture that is being made\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        var session = this.session;\n        if (session.stopped) {\n            return;\n        }\n\n        // run the touch-action polyfill\n        this.touchAction.preventDefaults(inputData);\n\n        var recognizer;\n        var recognizers = this.recognizers;\n\n        // this holds the recognizer that is being recognized.\n        // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED\n        // if no recognizer is detecting a thing, it is set to `null`\n        var curRecognizer = session.curRecognizer;\n\n        // reset when the last recognizer is recognized\n        // or when we're in a new session\n        if (!curRecognizer || (curRecognizer && curRecognizer.state & STATE_RECOGNIZED)) {\n            curRecognizer = session.curRecognizer = null;\n        }\n\n        var i = 0;\n        while (i < recognizers.length) {\n            recognizer = recognizers[i];\n\n            // find out if we are allowed try to recognize the input for this one.\n            // 1.   allow if the session is NOT forced stopped (see the .stop() method)\n            // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one\n            //      that is being recognized.\n            // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.\n            //      this can be setup with the `recognizeWith()` method on the recognizer.\n            if (session.stopped !== FORCED_STOP && ( // 1\n                    !curRecognizer || recognizer == curRecognizer || // 2\n                    recognizer.canRecognizeWith(curRecognizer))) { // 3\n                recognizer.recognize(inputData);\n            } else {\n                recognizer.reset();\n            }\n\n            // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the\n            // current active recognizer. but only if we don't already have an active recognizer\n            if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {\n                curRecognizer = session.curRecognizer = recognizer;\n            }\n            i++;\n        }\n    },\n\n    /**\n     * get a recognizer by its event name.\n     * @param {Recognizer|String} recognizer\n     * @returns {Recognizer|Null}\n     */\n    get: function(recognizer) {\n        if (recognizer instanceof Recognizer) {\n            return recognizer;\n        }\n\n        var recognizers = this.recognizers;\n        for (var i = 0; i < recognizers.length; i++) {\n            if (recognizers[i].options.event == recognizer) {\n                return recognizers[i];\n            }\n        }\n        return null;\n    },\n\n    /**\n     * add a recognizer to the manager\n     * existing recognizers with the same event name will be removed\n     * @param {Recognizer} recognizer\n     * @returns {Recognizer|Manager}\n     */\n    add: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'add', this)) {\n            return this;\n        }\n\n        // remove existing\n        var existing = this.get(recognizer.options.event);\n        if (existing) {\n            this.remove(existing);\n        }\n\n        this.recognizers.push(recognizer);\n        recognizer.manager = this;\n\n        this.touchAction.update();\n        return recognizer;\n    },\n\n    /**\n     * remove a recognizer by name or instance\n     * @param {Recognizer|String} recognizer\n     * @returns {Manager}\n     */\n    remove: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'remove', this)) {\n            return this;\n        }\n\n        recognizer = this.get(recognizer);\n\n        // let's make sure this recognizer exists\n        if (recognizer) {\n            var recognizers = this.recognizers;\n            var index = inArray(recognizers, recognizer);\n\n            if (index !== -1) {\n                recognizers.splice(index, 1);\n                this.touchAction.update();\n            }\n        }\n\n        return this;\n    },\n\n    /**\n     * bind event\n     * @param {String} events\n     * @param {Function} handler\n     * @returns {EventEmitter} this\n     */\n    on: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n        if (handler === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            handlers[event] = handlers[event] || [];\n            handlers[event].push(handler);\n        });\n        return this;\n    },\n\n    /**\n     * unbind event, leave emit blank to remove all handlers\n     * @param {String} events\n     * @param {Function} [handler]\n     * @returns {EventEmitter} this\n     */\n    off: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            if (!handler) {\n                delete handlers[event];\n            } else {\n                handlers[event] && handlers[event].splice(inArray(handlers[event], handler), 1);\n            }\n        });\n        return this;\n    },\n\n    /**\n     * emit event to the listeners\n     * @param {String} event\n     * @param {Object} data\n     */\n    emit: function(event, data) {\n        // we also want to trigger dom events\n        if (this.options.domEvents) {\n            triggerDomEvent(event, data);\n        }\n\n        // no handlers, so skip it all\n        var handlers = this.handlers[event] && this.handlers[event].slice();\n        if (!handlers || !handlers.length) {\n            return;\n        }\n\n        data.type = event;\n        data.preventDefault = function() {\n            data.srcEvent.preventDefault();\n        };\n\n        var i = 0;\n        while (i < handlers.length) {\n            handlers[i](data);\n            i++;\n        }\n    },\n\n    /**\n     * destroy the manager and unbinds all events\n     * it doesn't unbind dom events, that is the user own responsibility\n     */\n    destroy: function() {\n        this.element && toggleCssProps(this, false);\n\n        this.handlers = {};\n        this.session = {};\n        this.input.destroy();\n        this.element = null;\n    }\n};\n\n/**\n * add/remove the css properties as defined in manager.options.cssProps\n * @param {Manager} manager\n * @param {Boolean} add\n */\nfunction toggleCssProps(manager, add) {\n    var element = manager.element;\n    if (!element.style) {\n        return;\n    }\n    var prop;\n    each(manager.options.cssProps, function(value, name) {\n        prop = prefixed(element.style, name);\n        if (add) {\n            manager.oldCssProps[prop] = element.style[prop];\n            element.style[prop] = value;\n        } else {\n            element.style[prop] = manager.oldCssProps[prop] || '';\n        }\n    });\n    if (!add) {\n        manager.oldCssProps = {};\n    }\n}\n\n/**\n * trigger dom event\n * @param {String} event\n * @param {Object} data\n */\nfunction triggerDomEvent(event, data) {\n    var gestureEvent = document.createEvent('Event');\n    gestureEvent.initEvent(event, true, true);\n    gestureEvent.gesture = data;\n    data.target.dispatchEvent(gestureEvent);\n}\n\nassign(Hammer, {\n    INPUT_START: INPUT_START,\n    INPUT_MOVE: INPUT_MOVE,\n    INPUT_END: INPUT_END,\n    INPUT_CANCEL: INPUT_CANCEL,\n\n    STATE_POSSIBLE: STATE_POSSIBLE,\n    STATE_BEGAN: STATE_BEGAN,\n    STATE_CHANGED: STATE_CHANGED,\n    STATE_ENDED: STATE_ENDED,\n    STATE_RECOGNIZED: STATE_RECOGNIZED,\n    STATE_CANCELLED: STATE_CANCELLED,\n    STATE_FAILED: STATE_FAILED,\n\n    DIRECTION_NONE: DIRECTION_NONE,\n    DIRECTION_LEFT: DIRECTION_LEFT,\n    DIRECTION_RIGHT: DIRECTION_RIGHT,\n    DIRECTION_UP: DIRECTION_UP,\n    DIRECTION_DOWN: DIRECTION_DOWN,\n    DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,\n    DIRECTION_VERTICAL: DIRECTION_VERTICAL,\n    DIRECTION_ALL: DIRECTION_ALL,\n\n    Manager: Manager,\n    Input: Input,\n    TouchAction: TouchAction,\n\n    TouchInput: TouchInput,\n    MouseInput: MouseInput,\n    PointerEventInput: PointerEventInput,\n    TouchMouseInput: TouchMouseInput,\n    SingleTouchInput: SingleTouchInput,\n\n    Recognizer: Recognizer,\n    AttrRecognizer: AttrRecognizer,\n    Tap: TapRecognizer,\n    Pan: PanRecognizer,\n    Swipe: SwipeRecognizer,\n    Pinch: PinchRecognizer,\n    Rotate: RotateRecognizer,\n    Press: PressRecognizer,\n\n    on: addEventListeners,\n    off: removeEventListeners,\n    each: each,\n    merge: merge,\n    extend: extend,\n    assign: assign,\n    inherit: inherit,\n    bindFn: bindFn,\n    prefixed: prefixed\n});\n\n// this prevents errors when Hammer is loaded in the presence of an AMD\n//  style loader but by script tag, not by the loader.\nvar freeGlobal = (typeof window !== 'undefined' ? window : (typeof self !== 'undefined' ? self : {})); // jshint ignore:line\nfreeGlobal.Hammer = Hammer;\n\nif (typeof define === 'function' && define.amd) {\n    define(function() {\n        return Hammer;\n    });\n} else if (typeof module != 'undefined' && module.exports) {\n    module.exports = Hammer;\n} else {\n    window[exportName] = Hammer;\n}\n\n})(window, document, 'Hammer');\n","/**\n * @module 1-liners/isFunction\n *\n * @description\n *\n * Same as `typeof value === 'function'`.\n *\n * @example\n *\n * \tconst isFunction = require('1-liners/isFunction');\n *\n * \tisFunction(function() {});        // => true\n * \tisFunction(function named() {});  // => true\n *\n * \tisFunction('any other value');    // => false\n *\n */\n'use strict';\n\nexports.__esModule = true;\n\nexports['default'] = function (value) {\n  return typeof value === 'function';\n};\n\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (val, props) {\n  var _transform, _overlay;\n\n  var zIndex = props.zIndex,\n      left = props.left,\n      right = props.right,\n      height = props.height,\n      handleWidth = props.handleWidth,\n      overlayColor = props.overlayColor,\n      fadeOut = props.fadeOut,\n      offset = props.offset;\n\n\n  var clientWidth = 1000;\n  var width = props.width;\n\n  if (typeof document !== \"undefined\") {\n    clientWidth = document.body.clientWidth;\n    if (/\\D/.test(width)) width = document.body.clientWidth * (width.match(/\\d*/) / 100);\n  }\n\n  var opacity = (val - offset) / width;\n\n  if (right) val = width - val;else val = val - width;\n\n  var drawer = {\n    display: \"block\",\n    width: width,\n    height: height,\n    overflow: \"auto\"\n  };\n\n  var transform = (_transform = {\n    boxSizing: \"content-box\",\n    pointer: \"cursor\",\n    position: \"fixed\",\n    display: \"block\",\n    zIndex: zIndex,\n    width: width\n  }, _defineProperty(_transform, right ? \"paddingLeft\" : \"paddingRight\", handleWidth), _defineProperty(_transform, \"maxWidth\", width), _defineProperty(_transform, \"height\", height), _defineProperty(_transform, \"top\", 0), _defineProperty(_transform, right ? \"right\" : \"left\", 0), _defineProperty(_transform, \"margin\", 0), _defineProperty(_transform, \"transform\", \"translate3d(\" + val + \"px, 0, 0)\"), _defineProperty(_transform, \"WebkitTransform\", \"translate3d(\" + val + \"px, 0, 0)\"), _defineProperty(_transform, \"opacity\", fadeOut ? opacity : 1), _transform);\n\n  var overlayTransform = right ? -width : width;\n  var overlay = (_overlay = {\n    zIndex: -2,\n    pointer: \"cursor\",\n    position: \"fixed\",\n    width: clientWidth,\n    height: \"100%\",\n    background: overlayColor,\n    opacity: opacity,\n    top: 0\n  }, _defineProperty(_overlay, right ? \"right\" : \"left\", 0), _defineProperty(_overlay, \"margin\", 0), _defineProperty(_overlay, \"transform\", \"translate3d(\" + overlayTransform + \"px, 0, 0)\"), _defineProperty(_overlay, \"WebkitTransform\", \"translate3d(\" + overlayTransform + \"px, 0, 0)\"), _overlay);\n\n  return { drawer: drawer, transform: transform, overlay: overlay };\n};\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }","import styled from 'styled-components';\nimport { palette } from 'styled-theme';\nimport {\n  boxShadow,\n  borderRadius,\n  transition,\n} from '@iso/lib/helpers/style_utils';\nimport WithDirection from '@iso/lib/helpers/rtl';\n\nconst MailBox = styled.div`\n  width: 100%;\n  height: calc(100vh - 137px);\n  display: flex;\n\n  @media only screen and (max-width: 767px) {\n    height: calc(100vh - 110px);\n  }\n\n  .isoLeftWrapper {\n    display: flex;\n    flex-shrink: 0;\n    flex-direction: column;\n    background-color: #ffffff;\n    border-right: ${(props) => (props['data-rtl'] === 'rtl' ? 0 : 1)}px solid\n      ${palette('border', 4)};\n    border-left: ${(props) => (props['data-rtl'] === 'rtl' ? 1 : 0)}px solid\n      ${palette('border', 4)};\n    width: 250px;\n\n    .isoMailOptions {\n      width: 100%;\n      display: flex;\n      flex-direction: column;\n      height: 100%;\n      overflow-y: auto;\n    }\n  }\n\n  .isoMiddleWrapper {\n    display: flex;\n    flex-direction: column;\n    flex-shrink: 0;\n    background-color: #ffffff;\n    /* border-right: 1px solid ${palette('border', 4)}; */\n    border-right: ${(props) => (props['data-rtl'] === 'rtl' ? 0 : 1)}px solid\n      ${palette('border', 4)};\n    border-left: ${(props) => (props['data-rtl'] === 'rtl' ? 1 : 0)}px solid\n      ${palette('border', 4)};\n    width: 400px;\n\n    @media only screen and (max-width: 767px) {\n      width: 100%;\n    }\n\n    @media only screen and (min-width: 767px) and (max-width: 990px) {\n      width: 320px;\n    }\n\n    @media only screen and (min-width: 991px) and (max-width: 1366px) {\n      width: 340px;\n    }\n\n    .isoBucketLabel {\n      width: 100%;\n      height: 80px;\n      display: flex;\n      flex-shrink: 0;\n      align-items: center;\n      justify-content: space-between;\n      padding: 0px 30px;\n      background-color: ${palette('grayscale', 6)};\n      border-bottom: 1px solid ${palette('border', 0)};\n\n      h3 {\n        font-size: 16px;\n        font-weight: 500;\n        text-transform: capitalize;\n        color: ${palette('secondary', 2)};\n        line-height: 1.1;\n      }\n\n      @media only screen and (max-width: 767px) {\n        height: 60px;\n        padding: 0 20px;\n      }\n    }\n\n    .isoSearchMailWrapper {\n      width: 100%;\n      height: 40px;\n      display: flex;\n      flex-shrink: 0;\n      align-items: center;\n      justify-content: space-between;\n      background-color: ${palette('grayscale', 6)};\n      border-bottom: 1px solid ${palette('border', 0)};\n\n      .isoSearchEmail{\n        max-height: none;\n        border: 0;\n        padding: 0;\n\n        &.ant-input-affix-wrapper{\n          &:focus{\n            box-shadow: none;\n          }\n        }\n\n        &.ant-input-affix-wrapper-focused{\n          box-shadow: none;\n        }\n\n\n      }\n\n      input {\n        font-size: 14px;\n        font-weight: 400;\n        color: ${palette('text', 2)};\n        line-height: inherit;\n        height: 39px;\n        width: 100%;\n        padding: 0 30px;\n        margin-bottom: 0;\n        border: 0;\n        outline: 0 !important;\n        overflow: hidden;\n        background-color: ${palette('grayscale', 6)};\n        ${borderRadius()};\n        ${boxShadow()};\n        ${transition()};\n\n        &:focus,\n        &:hover {\n          border-color: transparent;\n          ${boxShadow()};\n        }\n\n        @media only screen and (max-width: 767px) {\n          padding: 0 20px;\n        }\n\n        &::-webkit-input-placeholder {\n          color: ${palette('grayscale', 0)};\n        }\n\n        &:-moz-placeholder {\n          color: ${palette('grayscale', 0)};\n        }\n\n        &::-moz-placeholder {\n          color: ${palette('grayscale', 0)};\n        }\n        &:-ms-input-placeholder {\n          color: ${palette('grayscale', 0)};\n        }\n      }\n\n      .ant-input-suffix {\n        display: none;\n      }\n    }\n  }\n\n  .isoSingleMailWrapper {\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    background-color: #ffffff;\n\n    .isoNoMailMsg {\n      font-size: 28px;\n      font-weight: 300;\n      text-transform: capitalize;\n      color: ${palette('text', 2)};\n      text-align: center;\n      width: 100%;\n      height: 100%;\n      min-height: calc(100vh - 137px);\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n  }\n\n  .isoBackCatBtn {\n    font-size: 14px;\n    color: ${palette('secondary', 0)};\n    height: 35px;\n    padding: 0 15px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: #ffffff;\n    outline: 0;\n    border: 1px solid ${palette('border', 0)};\n    cursor: pointer;\n    ${transition()};\n\n    i {\n      font-size: 20px;\n      color: ${palette('secondary', 0)};\n      ${transition()};\n    }\n\n    &:hover {\n      color: ${palette('primary', 0)};\n      background-color: #fcfcfc;\n\n      i {\n        color: ${palette('primary', 0)};\n      }\n    }\n  }\n`;\n\nexport default WithDirection(MailBox);\n","import styled from 'styled-components';\nimport { palette } from 'styled-theme';\nimport { transition } from '@iso/lib/helpers/style_utils';\nimport WithDirection from '@iso/lib/helpers/rtl';\nconst WDSingleMailActions = styled.div`\n  width: 100%;\n  height: 80px;\n  display: flex;\n  flex-shrink: 0;\n  align-items: center;\n  justify-content: flex-start;\n  padding: 0px 30px;\n  background-color: ${palette('grayscale', 6)};\n  border-bottom: 1px solid ${palette('border', 0)};\n\n  @media only screen and (max-width: 767px) {\n    padding: 0 15px;\n    height: 60px;\n    overflow: hidden;\n    overflow-x: auto;\n  }\n\n  .mailBackBtn {\n    color: ${palette('secondary', 0)};\n    width: auto;\n    height: 35px;\n    padding: 0 10px;\n    font-size: 14px;\n    font-weight: 500;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: #ffffff;\n    outline: 0;\n    border: 1px solid ${palette('border', 0)};\n    margin: ${(props) =>\n      props['data-rtl'] === 'rtl' ? '0 -1px 0 15px' : '0 15px 0 -1px'};\n    cursor: pointer;\n    ${transition()};\n\n    @media only screen and (max-width: 479px) {\n      margin: ${(props) =>\n        props['data-rtl'] === 'rtl' ? '0 -1px 0 5px' : '0 5px 0 -1px'};\n    }\n\n    i {\n      font-size: 16px;\n      color: ${palette('secondary', 0)};\n      ${transition()};\n    }\n\n    &:hover {\n      color: ${palette('primary', 0)};\n      background-color: darken(#ffffff, 1%);\n\n      i {\n        color: ${palette('primary', 0)};\n      }\n    }\n  }\n\n  .mailMoveDropdown {\n    .ant-popover-inner-content {\n      li {\n        cursor: pointer;\n        padding: 3px 0;\n\n        &:hover {\n          color: ${palette('primary', 0)};\n        }\n      }\n    }\n  }\n`;\n\nconst WDMailActionsWrapper = styled.div`\n  display: -webkit-flex;\n  display: -ms-flex;\n  display: flex;\n\n  button {\n    font-size: 16px;\n    color: ${palette('secondary', 0)};\n    text-align: center;\n    width: 35px;\n    height: 35px;\n    padding: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: #ffffff;\n    outline: 0;\n    border: 1px solid ${palette('border', 0)};\n    margin: ${(props) =>\n      props['data-rtl'] === 'rtl' ? '0 -1px 0 0' : '0 0 0 -1px'};\n    cursor: pointer;\n    ${transition()};\n\n    i {\n      font-size: 16px;\n      color: ${palette('secondary', 0)};\n      width: 100%;\n      ${transition()};\n    }\n\n    &:first-child {\n      margin: ${(props) => (props['data-rtl'] === 'rtl' ? '0 0 0 -1px' : null)};\n    }\n\n    &::only-child {\n      margin: 0;\n    }\n\n    &:hover {\n      color: ${palette('primary', 0)};\n      background-color: #fcfcfc;\n\n      i {\n        color: ${palette('primary', 0)};\n      }\n    }\n\n    &.mailBackBtn {\n      width: auto;\n      padding: 0 10px;\n      font-size: 14px;\n    }\n  }\n`;\n\nconst WDMailCategoryWrapper = styled(WDMailActionsWrapper)`\n  margin: ${(props) =>\n    props['data-rtl'] === 'rtl' ? '0 20px 0 0' : '0 0 0 20px'};\n\n  @media only screen and (max-width: 767px) {\n    margin: ${(props) =>\n      props['data-rtl'] === 'rtl' ? '0 auto 0 10px' : '0 10px 0 auto'};\n  }\n\n  @media only screen and (max-width: 479px) {\n    margin: ${(props) =>\n      props['data-rtl'] === 'rtl' ? '0 0 0 5px' : '0 5px 0 0'};\n  }\n`;\n\nconst WDMailPaginationWrapper = styled(WDMailActionsWrapper)`\n  margin: ${(props) =>\n    props['data-rtl'] === 'rtl' ? '0 auto 0 0' : '0 0 0 auto'};\n`;\n\nconst MailActionDropdown = styled.ul`\n  li {\n    cursor: pointer;\n    padding: 3px 0;\n\n    &:hover {\n      color: ${palette('primary', 0)};\n    }\n  }\n`;\n\nconst SingleMailActions = WithDirection(WDSingleMailActions);\nconst MailCategoryWrapper = WithDirection(WDMailCategoryWrapper);\nconst MailPaginationWrapper = WithDirection(WDMailPaginationWrapper);\nconst MailActionsWrapper = WithDirection(WDMailActionsWrapper);\n\nexport {\n  SingleMailActions,\n  MailActionsWrapper,\n  MailCategoryWrapper,\n  MailPaginationWrapper,\n  MailActionDropdown,\n};\n","import React from 'react';\nimport Popover from '../uielements/popover';\nimport Popconfirm from '../Feedback/Popconfirm';\nimport notification from '../Notification';\nimport { buckets } from './MailBuckets';\nimport { tags } from './MailTags';\nimport {\n  SingleMailActions,\n  MailActionsWrapper,\n  MailCategoryWrapper,\n  MailPaginationWrapper,\n  MailActionDropdown,\n} from './SingleMailActions.style';\nimport { direction } from '@iso/lib/helpers/rtl';\nimport {\n  MailArchiveIcon,\n  MailSpamReportIcon,\n  MailDeleteIcon,\n  MailFolderIcon,\n  MailTagIcon,\n  ArrowRightIcon,\n  ArrowLeftIcon,\n} from '@iso/config/icon.config';\n\nfunction DeleteButton() {\n  return (\n    <Popconfirm\n      title={`Sure to delete This mail?`}\n      okText=\"DELETE\"\n      cancelText=\"No\"\n      onConfirm={() => {\n        notification('error', `Deleted selected mail`, '');\n      }}\n    >\n      <button type=\"button\" className=\"mailDelete\">\n        <MailDeleteIcon size={16} />\n      </button>\n    </Popconfirm>\n  );\n}\n\nfunction MoveMailButton() {\n  const bucketOptions = buckets.map((bucket) => (\n    <li\n      onClick={() => {\n        notification('success', `Massage Moved Successfully`, '');\n      }}\n      key={bucket}\n    >\n      {bucket}\n    </li>\n  ));\n  const content = <MailActionDropdown>{bucketOptions}</MailActionDropdown>;\n  return (\n    <Popover\n      title={`Move mail`}\n      content={content}\n      overlayClassName=\"mailMoveDropdown\"\n    >\n      <button type=\"button\" className=\"mailArchive\">\n        <MailFolderIcon size={16} />\n      </button>\n    </Popover>\n  );\n}\n\nfunction SelectTagButton() {\n  const tagOptions = tags.map((tag) => (\n    <li\n      onClick={() => {\n        notification('success', `Label Added`, '');\n      }}\n      key={tag}\n    >\n      {tag}\n    </li>\n  ));\n  const content = <MailActionDropdown>{tagOptions}</MailActionDropdown>;\n  return (\n    <Popover\n      title={`Select tag`}\n      content={content}\n      overlayClassName=\"mailMoveDropdown\"\n    >\n      <button type=\"button\" className=\"mailReport\">\n        <MailTagIcon size={16} />\n      </button>\n    </Popover>\n  );\n}\n\nexport default function ({ mail, filterMails, selectMail, toggleListVisible }) {\n  const index = filterMails.findIndex(\n    (filterMail) => filterMail.id === mail.id\n  );\n  const toggleView = () => {\n    toggleListVisible();\n  };\n  return (\n    <SingleMailActions className=\"isoMailActionsController\">\n      {toggleListVisible ? (\n        <button className=\"mailBackBtn\" onClick={toggleView}>\n          Inbox\n        </button>\n      ) : (\n        ''\n      )}\n      <MailActionsWrapper className=\"isoMailActions\">\n        <button\n          type=\"button\"\n          className=\"mailArchive\"\n          onClick={() => {\n            notification('success', 'this mail archived');\n          }}\n        >\n          <MailArchiveIcon size={16} />\n        </button>\n\n        <button\n          type=\"button\"\n          className=\"mailReport\"\n          onClick={() => {\n            notification('success', 'Reported as spam');\n          }}\n        >\n          <MailSpamReportIcon size={16} />\n        </button>\n\n        <DeleteButton />\n      </MailActionsWrapper>\n\n      <MailCategoryWrapper className=\"isoMailMove\">\n        <MoveMailButton />\n        <SelectTagButton />\n      </MailCategoryWrapper>\n\n      <MailPaginationWrapper className=\"isoSingleMailPagination\">\n        {index === 0 ? (\n          ''\n        ) : (\n          <button\n            type=\"button\"\n            className=\"prevPage\"\n            onClick={() => selectMail(filterMails[index - 1].id)}\n          >\n            {direction === 'rtl' ? (\n              <ArrowRightIcon size={18} />\n            ) : (\n              <ArrowLeftIcon size={18} />\n            )}\n          </button>\n        )}\n\n        {index + 1 === filterMails.length ? (\n          ''\n        ) : (\n          <button\n            type=\"button\"\n            className=\"nextPage\"\n            onClick={() => selectMail(filterMails[index + 1].id)}\n          >\n            {direction === 'rtl' ? (\n              <ArrowLeftIcon size={18} />\n            ) : (\n              <ArrowRightIcon size={18} />\n            )}\n          </button>\n        )}\n      </MailPaginationWrapper>\n    </SingleMailActions>\n  );\n}\n","import styled from 'styled-components';\nimport { palette } from 'styled-theme';\nimport { borderRadius, transition } from '@iso/lib/helpers/style_utils';\nimport WithDirection from '@iso/lib/helpers/rtl';\nconst SingleMailContents = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex-shrink: 0;\n  height: 100%;\n\n  .isoSingleMail {\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    overflow-y: auto;\n  }\n`;\n\nconst WDSingleMailHeader = styled.div`\n  width: 100%;\n  display: flex;\n  align-items: center;\n  padding: 35px;\n  flex-shrink: 0;\n  border-bottom: 1px solid ${palette('border', 0)};\n\n  @media only screen and (max-width: 767px) {\n    padding: 35px 20px;\n  }\n\n  h2 {\n    font-size: 18px;\n    font-weight: 400;\n    color: ${palette('secondary', 2)};\n    line-height: 1.5;\n    margin: 0;\n    text-align: left;\n  }\n\n  .label {\n    font-size: 12px;\n    font-weight: 400;\n    color: #ffffff;\n    line-height: 1;\n    padding: 0 15px;\n    height: 25px;\n    line-height: 25px;\n    background-color: ${palette('primary', 0)};\n    text-transform: capitalize;\n    margin: ${props =>\n      props['data-rtl'] === 'rtl' ? '0 25px 0 0' : '0 0 0 25px'};\n  }\n`;\n\nconst WDSingleMailInfo = styled.div`\n  width: 100%;\n  display: flex;\n  align-items: center;\n  flex-shrink: 0;\n  padding: 25px 35px;\n  border-bottom: 1px solid ${palette('border', 0)};\n\n  @media only screen and (max-width: 767px) {\n    padding: 25px 20px;\n  }\n\n  .isoRecipentsImg {\n    width: 48px;\n    height: 48px;\n    display: -webkit-inline-flex;\n    display: -ms-inline-flex;\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    overflow: hidden;\n    flex-shrink: 0;\n    ${borderRadius('50%')};\n\n    img {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n    }\n\n    span {\n      width: 100%;\n      height: 100%;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      background-color: ${palette('color', 4)};\n      font-size: 16px;\n      font-weight: 300;\n      color: #fff;\n      letter-spacing: 1px;\n    }\n  }\n\n  .isoMailAddress {\n    width: 100%;\n    padding: ${props =>\n      props['data-rtl'] === 'rtl' ? '0 20px 0 0' : '0 0 0 20px'};\n    display: flex;\n    flex-direction: column;\n    text-align: ${props => (props['data-rtl'] === 'rtl' ? 'right' : 'left')};\n\n    .isoAddress {\n      width: 100%;\n      display: flex;\n      justify-content: space-between;\n      align-items: baseline;\n      position: relative;\n\n      h3 {\n        font-size: 14px;\n        font-weight: 700;\n        color: ${palette('text', 0)};\n        line-height: 1.1;\n        margin: 0 0 8px;\n\n        @media only screen and (max-width: 767px) {\n          line-height: 1.5;\n        }\n\n        span {\n          font-size: inherit;\n          font-weight: 400;\n          color: ${palette('secondary', 2)};\n          padding: ${props =>\n            props['data-rtl'] === 'rtl' ? '0 5px 0 0' : '0 0 0 5px'};\n          display: -webkit-inline-flex;\n          display: -ms-inline-flex;\n          display: inline-flex;\n        }\n      }\n\n      .mailDate {\n        font-size: 13px;\n        font-weight: 400;\n        color: ${palette('secondary', 2)};\n        flex-shrink: 0;\n\n        @media only screen and (max-width: 767px) {\n          position: absolute;\n          right: ${props => (props['data-rtl'] === 'rtl' ? 'inherit' : '0')};\n          left: ${props => (props['data-rtl'] === 'rtl' ? '0' : 'inherit')};\n        }\n      }\n    }\n\n    p {\n      font-size: 13px;\n      font-weight: 400;\n      color: ${palette('secondary', 2)};\n      line-height: 1.1;\n\n      span {\n        font-size: inherit;\n        font-weight: 700;\n        color: ${palette('text', 0)};\n      }\n    }\n  }\n`;\n\nconst WDSingleMailBody = styled.div`\n  padding: 30px 35px;\n  text-align: ${props => (props['data-rtl'] === 'rtl' ? 'right' : 'left')};\n  flex-shrink: 0;\n  border-bottom: 1px solid ${palette('border', 0)};\n\n  @media only screen and (max-width: 767px) {\n    padding: 30px 20px;\n  }\n\n  p {\n    font-size: 14px;\n    font-weight: 400;\n    color: ${palette('text', 3)};\n    line-height: 1.5;\n    margin-bottom: 21px;\n  }\n`;\n\nconst WDSingleMailReply = styled.div`\n  width: 100%;\n  display: flex;\n  align-items: center;\n  padding: 35px;\n  flex-shrink: 0;\n\n  @media only screen and (max-width: 767px) {\n    padding: 35px 20px;\n  }\n\n  .isoComposeMailWrapper {\n    padding: 0;\n    height: auto;\n    overflow: hidden;\n  }\n\n  .isoReplyMailBtn {\n    width: 100%;\n    height: 80px;\n    display: -webkit-flex;\n    display: -ms-flex;\n    display: flex;\n    justify-content: flex-start;\n    align-items: flex-start;\n    font-size: 14px;\n    color: ${palette('text', 2)};\n    border: 1px solid ${palette('border', 0)};\n    padding: 10px 15px;\n\n    span {\n      font-size: inherit;\n      color: ${palette('text', 2)};\n      text-decoration: underline;\n      padding: ${props =>\n        props['data-rtl'] === 'rtl' ? '0 3px 0 0' : '0 0 0 3px'};\n      cursor: pointer;\n      ${transition()};\n\n      &:hover {\n        color: ${palette('primary', 0)};\n      }\n    }\n  }\n`;\n\nconst SingleMailHeader = WithDirection(WDSingleMailHeader);\nconst SingleMailInfo = WithDirection(WDSingleMailInfo);\nconst SingleMailBody = WithDirection(WDSingleMailBody);\nconst SingleMailReply = WithDirection(WDSingleMailReply);\n\nexport {\n  SingleMailContents,\n  SingleMailHeader,\n  SingleMailInfo,\n  SingleMailBody,\n  SingleMailReply,\n};\n","import React from 'react';\nimport ComposeMail from './ComposeMail';\nimport { timeDifference } from '@iso/lib/helpers/utility';\nimport MailAction from './SingleMailActions';\nimport { tags, tagColor } from './MailTags.js';\nimport {\n  SingleMailContents,\n  SingleMailHeader,\n  SingleMailInfo,\n  SingleMailBody,\n  SingleMailReply,\n} from './SingleMail.style';\n\nexport default function singleMail(\n  allMail,\n  filterMails,\n  index,\n  replyMail,\n  changeReplyMail,\n  selectMail,\n  toggleListVisible\n) {\n  const mail = allMail[index];\n  const recpName = mail.name;\n  const signature = {\n    splitLet: recpName\n      .match(/\\b(\\w)/g)\n      .join('')\n      .split('', 2),\n  };\n\n  const labelColor = mail.tags\n    ? tagColor[tags.findIndex(tags => tags === mail.tags)]\n    : '';\n\n  return (\n    <SingleMailContents className=\"isoSingleMailContents\">\n      <MailAction\n        mail={mail}\n        filterMails={filterMails}\n        selectMail={selectMail}\n        toggleListVisible={toggleListVisible}\n      />\n      <div className=\"isoSingleMail\">\n        <SingleMailHeader className=\"isoMailHeader\">\n          <h2>{mail.subject}</h2>\n          <span className=\"label\" style={{ backgroundColor: labelColor }}>\n            {mail.tags ? mail.tags : mail.bucket}\n          </span>\n        </SingleMailHeader>\n\n        <SingleMailInfo className=\"isoMailInfo\">\n          <div className=\"isoRecipentsImg\">\n            {mail.img ? (\n              <img alt=\"#\" src={mail.img} />\n            ) : (\n              <span>{signature.splitLet}</span>\n            )}\n          </div>\n          <div className=\"isoMailAddress\">\n            <div className=\"isoAddress\">\n              <h3>\n                {mail.name} <span>&lt;{mail.email}&gt;</span>\n              </h3>\n              <span className=\"mailDate\">{timeDifference(mail.date)}</span>\n            </div>\n            <p>\n              to <span>me</span>\n            </p>\n          </div>\n        </SingleMailInfo>\n\n        <SingleMailBody className=\"isoMailBody\">\n          <p>{mail.body}</p>\n        </SingleMailBody>\n\n        <SingleMailReply className=\"isoReplyMail\">\n          {replyMail ? (\n            <ComposeMail allMail={allMail} />\n          ) : (\n            <div\n              onClick={event => changeReplyMail(true)}\n              className=\"isoReplyMailBtn\"\n            >\n              Click here to <span>Reply</span>\n            </div>\n          )}\n        </SingleMailReply>\n      </div>\n    </SingleMailContents>\n  );\n}\n","import styled from 'styled-components';\nimport { palette } from 'styled-theme';\nimport { borderRadius, transition } from '@iso/lib/helpers/style_utils';\nimport WithDirection from '@iso/lib/helpers/rtl';\n\nconst MailListWrapper = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  overflow-y: auto;\n\n  .isoMailList {\n    width: 100%;\n    padding: 30px;\n    display: flex;\n    flex-shrink: 0;\n    border-bottom: 1px solid ${palette('border', 0)};\n    overflow: hidden;\n    position: relative;\n    text-align: ${props => (props['data-rtl'] === 'rtl' ? 'right' : 'left')};\n    cursor: pointer;\n    ${transition()};\n\n    .isoLabelIndicator {\n      width: 0;\n      height: 0;\n      border-style: solid;\n      border-width: ${props =>\n        props['data-rtl'] === 'rtl' ? '0 15px 15px 0;' : '15px 15px 0 0'};\n      border-color: transparent transparent transparent transparent;\n      position: absolute;\n      top: 0;\n      left: ${props => (props['data-rtl'] === 'rtl' ? 'inherit' : '0')};\n      right: ${props => (props['data-rtl'] === 'rtl' ? '0' : 'inherit')};\n    }\n\n    &:last-child {\n      border-bottom: 0;\n    }\n\n    .isoRecipentsImg {\n      width: 48px;\n      height: 48px;\n      display: -webkit-inline-flex;\n      display: -ms-inline-flex;\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      overflow: hidden;\n      flex-shrink: 0;\n      ${borderRadius('50%')};\n\n      img {\n        width: 100%;\n        height: 100%;\n        object-fit: cover;\n      }\n\n      span {\n        width: 100%;\n        height: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        background-color: ${palette('color', 4)};\n        font-size: 16px;\n        font-weight: 300;\n        color: #fff;\n        letter-spacing: 1px;\n      }\n    }\n\n    .isoMailInfo {\n      width: 100%;\n      padding: ${props =>\n        props['data-rtl'] === 'rtl' ? '0 20px 0 0' : '0 0 0 20px'};\n\n      .infoHead {\n        width: 100%;\n        display: flex;\n        align-items: baseline;\n        justify-content: space-between;\n        margin-bottom: 3px;\n\n        .isoRecipents {\n          font-size: 13px;\n          font-weight: 400;\n          color: ${palette('secondary', 2)};\n        }\n\n        .isoReceiveDate {\n          font-size: 11px;\n          font-weight: 400;\n          color: ${palette('secondary', 2)};\n          flex-shrink: 0;\n        }\n      }\n\n      .isoSubject {\n        font-size: 14px;\n        font-weight: 500;\n        color: ${palette('secondary', 0)};\n        margin: 0;\n      }\n    }\n\n    &.unreadMail {\n      background-color: ${palette('secondary', 8)};\n    }\n\n    &:hover {\n      background-color: ${palette('secondary', 8)};\n    }\n\n    &.activeMail {\n      background-color: ${palette('secondary', 9)};\n    }\n  }\n\n  .isoDescription {\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    padding: 0 30px;\n    width: 100%;\n    overflow: hidden;\n  }\n`;\n\nexport default WithDirection(MailListWrapper);\n","import React from 'react';\nimport { timeDifference } from '@iso/lib/helpers/utility';\nimport { tags, tagColor } from './MailTags.js';\nimport MailListWrapper from './MailList.style';\nimport { direction } from '@iso/lib/helpers/rtl';\n\nexport default function mailList(\n  mails,\n  selectMail,\n  selectedMail,\n  toggleListVisible\n) {\n  const renderSingleMail = (mail, key) => {\n    const onClick = () => {\n      selectMail(mail.id);\n      if (toggleListVisible) {\n        toggleListVisible();\n      }\n    };\n    const isSelected = selectedMail === mail.id;\n    const recpName = mail.name;\n    const signature = {\n      splitLet: recpName\n        .match(/\\b(\\w)/g)\n        .join('')\n        .split('', 2),\n    };\n    const activeClass = isSelected ? 'activeMail' : '';\n    const unreadClass = !mail.read ? 'unreadMail' : '';\n    const tagOption = mail.tags\n      ? tagColor[tags.findIndex((tags) => tags === mail.tags)]\n      : 'transparent';\n    return (\n      <div\n        key={`list${key}`}\n        onClick={onClick}\n        className={`${activeClass} ${unreadClass} isoMailList`}\n      >\n        <span\n          className=\"isoLabelIndicator\"\n          style={\n            direction === 'rtl'\n              ? { borderRightColor: tagOption }\n              : { borderTopColor: tagOption }\n          }\n        />\n        <div className=\"isoRecipentsImg\">\n          {mail.img ? (\n            <img alt=\"#\" src={mail.img} />\n          ) : (\n            <span>{signature.splitLet}</span>\n          )}\n        </div>\n\n        <div className=\"isoMailInfo\">\n          <div className=\"infoHead\">\n            <p className=\"isoRecipents\">{mail.name}</p>\n            <span className=\"isoReceiveDate\">{timeDifference(mail.date)}</span>\n          </div>\n          <p className=\"isoSubject\">{mail.subject}</p>\n        </div>\n      </div>\n    );\n  };\n  return (\n    <MailListWrapper className=\"isoMailListWrapper\">\n      {mails.map((mail, index) => renderSingleMail(mail, index))}\n    </MailListWrapper>\n  );\n}\n","import styled from 'styled-components';\nimport { palette } from 'styled-theme';\nimport { borderRadius, transition } from '@iso/lib/helpers/style_utils';\n\nconst MailComposeBtnWrapper = styled.div`\n  width: 100%;\n  padding: 0px 30px;\n  height: 80px;\n  display: flex;\n  align-items: center;\n  flex-shrink: 0;\n  background-color: ${palette('grayscale', 6)};\n  border-bottom: 1px solid ${palette('border', 4)};\n\n  button {\n    font-size: 14px;\n    font-weight: 400;\n    color: #ffffff;\n    background-color: ${palette('primary', 0)};\n    width: 100%;\n    height: 40px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    text-align: center;\n    border: 0;\n    outline: 0;\n    cursor: pointer;\n    ${borderRadius('3px')};\n    ${transition()};\n\n    &:hover {\n      background-color: ${palette('primary', 1)};\n    }\n  }\n`;\n\nexport default MailComposeBtnWrapper;\n","import React from 'react';\nimport IntlMessages from '../utility/intlMessages';\nimport MailComposeBtnWrapper from './MailComposeBtn.style';\n\nexport default function(props) {\n  return (\n    <MailComposeBtnWrapper className=\"isoComposeBtnWrapper\">\n      <button\n        type=\"button\"\n        onClick={event => {\n          props.changeComposeMail(true);\n          if (props.onDrawerClose) {\n            props.onDrawerClose();\n          }\n        }}\n      >\n        <IntlMessages id=\"email.compose\" />\n      </button>\n    </MailComposeBtnWrapper>\n  );\n}\n","import styled from 'styled-components';\nimport { palette } from 'styled-theme';\nimport { transition } from '@iso/lib/helpers/style_utils';\nimport WithDirection from '@iso/lib/helpers/rtl';\nconst MailPagination = styled.div`\n  display: -webkit-flex;\n  display: -ms-flex;\n  display: flex;\n  align-items: center;\n\n  button {\n    font-size: 16px;\n    color: ${palette('secondary', 0)};\n    width: 35px;\n    height: 35px;\n    padding: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: #ffffff;\n    outline: 0;\n    border: 1px solid ${palette('border', 0)};\n    cursor: pointer;\n    ${transition()};\n\n    i {\n      font-size: 18px;\n      width: 100%;\n      height: 100%;\n      color: ${palette('secondary', 0)};\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      ${transition()};\n    }\n\n    &.nextPage {\n      margin: ${(props) =>\n        props['data-rtl'] === 'rtl' ? '0 -1px 0 0' : '0 0 0 -1px'};\n    }\n\n    &:hover {\n      color: ${palette('primary', 0)};\n      background-color: darken(#ffffff, 1%);\n\n      i {\n        color: ${palette('primary', 0)};\n      }\n    }\n  }\n`;\n\nexport default WithDirection(MailPagination);\n","import React from 'react';\nimport MailPagination from './MailPagination.style';\nimport { direction } from '@iso/lib/helpers/rtl';\nimport { ArrowRightIcon, ArrowLeftIcon } from '@iso/config/icon.config';\n\nexport default function () {\n  return (\n    <MailPagination className=\"isoMailPagination\">\n      <button type=\"button\" className=\"prevPage\">\n        {direction === 'rtl' ? (\n          <ArrowRightIcon size={18} />\n        ) : (\n          <ArrowLeftIcon size={18} />\n        )}\n      </button>\n\n      <button type=\"button\" className=\"nextPage\">\n        {direction === 'rtl' ? (\n          <ArrowLeftIcon size={18} />\n        ) : (\n          <ArrowRightIcon size={18} />\n        )}\n      </button>\n    </MailPagination>\n  );\n}\n","function defaultEqualityCheck(a, b) {\n  return a === b;\n}\n\nfunction areArgumentsShallowlyEqual(equalityCheck, prev, next) {\n  if (prev === null || next === null || prev.length !== next.length) {\n    return false;\n  }\n\n  // Do this in a for loop (and not a `forEach` or an `every`) so we can determine equality as fast as possible.\n  var length = prev.length;\n  for (var i = 0; i < length; i++) {\n    if (!equalityCheck(prev[i], next[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport function defaultMemoize(func) {\n  var equalityCheck = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultEqualityCheck;\n\n  var lastArgs = null;\n  var lastResult = null;\n  // we reference arguments instead of spreading them for performance reasons\n  return function () {\n    if (!areArgumentsShallowlyEqual(equalityCheck, lastArgs, arguments)) {\n      // apply arguments instead of spreading for performance.\n      lastResult = func.apply(null, arguments);\n    }\n\n    lastArgs = arguments;\n    return lastResult;\n  };\n}\n\nfunction getDependencies(funcs) {\n  var dependencies = Array.isArray(funcs[0]) ? funcs[0] : funcs;\n\n  if (!dependencies.every(function (dep) {\n    return typeof dep === 'function';\n  })) {\n    var dependencyTypes = dependencies.map(function (dep) {\n      return typeof dep;\n    }).join(', ');\n    throw new Error('Selector creators expect all input-selectors to be functions, ' + ('instead received the following types: [' + dependencyTypes + ']'));\n  }\n\n  return dependencies;\n}\n\nexport function createSelectorCreator(memoize) {\n  for (var _len = arguments.length, memoizeOptions = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    memoizeOptions[_key - 1] = arguments[_key];\n  }\n\n  return function () {\n    for (var _len2 = arguments.length, funcs = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      funcs[_key2] = arguments[_key2];\n    }\n\n    var recomputations = 0;\n    var resultFunc = funcs.pop();\n    var dependencies = getDependencies(funcs);\n\n    var memoizedResultFunc = memoize.apply(undefined, [function () {\n      recomputations++;\n      // apply arguments instead of spreading for performance.\n      return resultFunc.apply(null, arguments);\n    }].concat(memoizeOptions));\n\n    // If a selector is called with the exact same arguments we don't need to traverse our dependencies again.\n    var selector = memoize(function () {\n      var params = [];\n      var length = dependencies.length;\n\n      for (var i = 0; i < length; i++) {\n        // apply arguments instead of spreading and mutate a local list of params for performance.\n        params.push(dependencies[i].apply(null, arguments));\n      }\n\n      // apply arguments instead of spreading for performance.\n      return memoizedResultFunc.apply(null, params);\n    });\n\n    selector.resultFunc = resultFunc;\n    selector.dependencies = dependencies;\n    selector.recomputations = function () {\n      return recomputations;\n    };\n    selector.resetRecomputations = function () {\n      return recomputations = 0;\n    };\n    return selector;\n  };\n}\n\nexport var createSelector = createSelectorCreator(defaultMemoize);\n\nexport function createStructuredSelector(selectors) {\n  var selectorCreator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : createSelector;\n\n  if (typeof selectors !== 'object') {\n    throw new Error('createStructuredSelector expects first argument to be an object ' + ('where each property is a selector, instead received a ' + typeof selectors));\n  }\n  var objectKeys = Object.keys(selectors);\n  return selectorCreator(objectKeys.map(function (key) {\n    return selectors[key];\n  }), function () {\n    for (var _len3 = arguments.length, values = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      values[_key3] = arguments[_key3];\n    }\n\n    return values.reduce(function (composition, value, index) {\n      composition[objectKeys[index]] = value;\n      return composition;\n    }, {});\n  });\n}","import { createSelector } from 'reselect';\n\nconst allMailsSelector = state => state.allMails;\nconst filterAttrSelector = state => state.filterAttr;\nconst searchStringSelector = state => state.searchString;\n\nconst filterBucket = (mails, bucket) => {\n  const newMails = [];\n  mails.forEach(mail => {\n    if (bucket === mail.bucket) {\n      newMails.push(mail);\n    }\n  });\n  return newMails;\n};\nconst filterTag = (mails, tag) => {\n  const newMails = [];\n  mails.forEach(mail => {\n    if (mail.tags && mail.tags.indexOf(tag) !== -1) {\n      newMails.push(mail);\n    }\n  });\n  return newMails;\n};\nconst filterMaiil = (allMails, filterAttr, searchString) => {\n  let newMails = filterBucket(allMails, filterAttr.bucket);\n  if (filterAttr.tag) {\n    newMails = filterTag(allMails, filterAttr.tag);\n  }\n  if (searchString) {\n    const search = searchString.toUpperCase();\n    newMails = newMails.filter(mail =>\n      `${mail.email}${mail.body}${mail.subject}`.toUpperCase().includes(search)\n    );\n  }\n  return newMails;\n};\n\nexport default createSelector(\n  allMailsSelector,\n  filterAttrSelector,\n  searchStringSelector,\n  filterMaiil\n);\n","import styled from 'styled-components';\nimport WithDirection from '@iso/lib/helpers/rtl';\n\nconst MailDrawer = styled.div`\n  > div > div {\n    background-color: #ffffff;\n  }\n`;\n\nexport default WithDirection(MailDrawer);\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport ReactDrawer from 'react-motion-drawer';\nimport Scrollbars from '@iso/components/utility/customScrollBar';\nimport { InputSearch } from '@iso/components/uielements/input';\nimport mailList from '@iso/components/Mail/MailList';\nimport mailBuckets from '@iso/components/Mail/MailBuckets';\nimport mailTags from '@iso/components/Mail/MailTags';\nimport singleMail from '@iso/components/Mail/SingleMail';\nimport ComposeBtn from '@iso/components/Mail/MailComposeBtn';\nimport ComposeMail from '@iso/components/Mail/ComposeMail';\nimport mailActions from '@iso/redux/mail/actions';\nimport PaginationControl from '@iso/components/Mail/MailPagination';\nimport IntlMessages from '@iso/components/utility/intlMessages';\nimport mailSelector from '@iso/redux/mail/selector';\nimport MailDrawer from './MailDrawer.styles';\nimport MailBox from './Mail.styles';\nimport { MenuIcon, CloseIcon } from '@iso/config/icon.config';\n\nconst {\n  filterAction,\n  selectMail,\n  changeComposeMail,\n  changeReplyMail,\n  changeSearchString,\n} = mailActions;\n\nexport default function MobileView(props) {\n  const [open, setOpen] = React.useState(false);\n  const [listVisible, setListVisibility] = React.useState(true);\n  const mail = useSelector((state) => state.Mails);\n  const {\n    allMails,\n    selectedMail,\n    filterAttr,\n    composeMail,\n    replyMail,\n    searchString,\n  } = mail;\n  const [search, setSearch] = React.useState(searchString);\n  const filterMails = mailSelector(mail);\n\n  function openDrawer() {\n    setOpen(true);\n  }\n  function closeDrawer() {\n    setOpen(false);\n  }\n\n  function toggleListVisible() {\n    setListVisibility((prev) => !prev);\n  }\n\n  let singleMailComponent = (\n    <p className=\"isoNoMailMsg\">\n      <IntlMessages id=\"email.noMessage\" />\n    </p>\n  );\n  const index = allMails.findIndex((m) => m.id === selectedMail);\n  if (index !== -1) {\n    singleMailComponent = singleMail(\n      allMails,\n      filterMails,\n      index,\n      replyMail,\n      changeReplyMail,\n      selectMail,\n      toggleListVisible\n    );\n  }\n  return (\n    <div style={{ height: '100%' }}>\n      <MailBox className=\"isomorphicMailBox\">\n        {listVisible ? (\n          composeMail ? (\n            <div className=\"isoSingleMailWrapper\">\n              <Scrollbars style={{ height: props.height - 70 }}>\n                {composeMail ? (\n                  <ComposeMail\n                    allMails={allMails}\n                    mobileView=\"true\"\n                    changeComposeMail={changeComposeMail}\n                  />\n                ) : (\n                  singleMailComponent\n                )}\n              </Scrollbars>\n            </div>\n          ) : (\n            <div className=\"isoMiddleWrapper\">\n              <div className=\"isoBucketLabel\">\n                <button className=\"isoBackCatBtn\" onClick={openDrawer}>\n                  <MenuIcon size={24} />\n                </button>\n                <h3>{filterAttr.bucket}</h3>\n                <PaginationControl />\n              </div>\n              <div className=\"isoSearchMailWrapper\">\n                <InputSearch\n                  placeholder=\"Search Email\"\n                  value={search}\n                  className=\"isoSearchEmail\"\n                  onChange={(event) => setSearch(event.target.value)}\n                  onSearch={(value) => changeSearchString(value)}\n                />\n              </div>\n              <Scrollbars style={{ height: props.height - 70 }}>\n                {mailList(filterMails, selectMail, null, toggleListVisible)}\n              </Scrollbars>\n            </div>\n          )\n        ) : (\n          <div className=\"isoSingleMailWrapper\">\n            <Scrollbars style={{ height: props.height - 70 }}>\n              {composeMail ? (\n                <ComposeMail allMails={allMails} />\n              ) : (\n                singleMailComponent\n              )}\n            </Scrollbars>\n          </div>\n        )}\n      </MailBox>\n      <MailDrawer>\n        <ReactDrawer\n          open={open}\n          right={true}\n          onChange={closeDrawer}\n          style={{ position: 'relative' }}\n        >\n          <span\n            onClick={closeDrawer}\n            style={{ position: 'absolute', top: 4, right: 5 }}\n          >\n            <CloseIcon />\n          </span>\n          <div className=\"isoLeftWrapper\">\n            <ComposeBtn\n              changeComposeMail={changeComposeMail}\n              onDrawerClose={closeDrawer}\n            />\n            <div className=\"isoMailOptions\">\n              <Scrollbars style={{ height: props.height - 70 }}>\n                {mailBuckets(allMails, filterAction, filterAttr, closeDrawer)}\n                {mailTags(allMails, filterAction, filterAttr, closeDrawer)}\n              </Scrollbars>\n            </div>\n          </div>\n        </ReactDrawer>\n      </MailDrawer>\n    </div>\n  );\n}\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","import { notification } from 'antd';\n\nconst createNotification = (type, message, description) => {\n  notification[type]({\n    message,\n    description,\n  });\n};\nexport default createNotification;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","import '../../style/index.css';\nimport './index.css';","import _typeof from \"@babel/runtime/helpers/typeof\";\nexport function fillRef(ref, node) {\n  if (typeof ref === 'function') {\n    ref(node);\n  } else if (_typeof(ref) === 'object' && ref && 'current' in ref) {\n    ref.current = node;\n  }\n}\nexport function composeRef() {\n  for (var _len = arguments.length, refs = new Array(_len), _key = 0; _key < _len; _key++) {\n    refs[_key] = arguments[_key];\n  }\n\n  return function (node) {\n    refs.forEach(function (ref) {\n      fillRef(ref, node);\n    });\n  };\n}","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n","var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n","var isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","import '../../style/index.css';\nimport './index.css';","import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/createSuper\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport omit from 'omit.js';\nimport debounce from 'lodash/debounce';\nimport { ConfigConsumer } from '../config-provider';\nimport { tuple } from '../_util/type';\nimport { isValidElement, cloneElement } from '../_util/reactNode';\nvar SpinSizes = tuple('small', 'default', 'large'); // Render indicator\n\nvar defaultIndicator = null;\n\nfunction renderIndicator(prefixCls, props) {\n  var indicator = props.indicator;\n  var dotClassName = \"\".concat(prefixCls, \"-dot\"); // should not be render default indicator when indicator value is null\n\n  if (indicator === null) {\n    return null;\n  }\n\n  if (isValidElement(indicator)) {\n    return cloneElement(indicator, {\n      className: classNames(indicator.props.className, dotClassName)\n    });\n  }\n\n  if (isValidElement(defaultIndicator)) {\n    return cloneElement(defaultIndicator, {\n      className: classNames(defaultIndicator.props.className, dotClassName)\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: classNames(dotClassName, \"\".concat(prefixCls, \"-dot-spin\"))\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"\".concat(prefixCls, \"-dot-item\")\n  }), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"\".concat(prefixCls, \"-dot-item\")\n  }), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"\".concat(prefixCls, \"-dot-item\")\n  }), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"\".concat(prefixCls, \"-dot-item\")\n  }));\n}\n\nfunction shouldDelay(spinning, delay) {\n  return !!spinning && !!delay && !isNaN(Number(delay));\n}\n\nvar Spin = /*#__PURE__*/function (_React$Component) {\n  _inherits(Spin, _React$Component);\n\n  var _super = _createSuper(Spin);\n\n  function Spin(props) {\n    var _this;\n\n    _classCallCheck(this, Spin);\n\n    _this = _super.call(this, props);\n\n    _this.debouncifyUpdateSpinning = function (props) {\n      var _ref = props || _this.props,\n          delay = _ref.delay;\n\n      if (delay) {\n        _this.cancelExistingSpin();\n\n        _this.updateSpinning = debounce(_this.originalUpdateSpinning, delay);\n      }\n    };\n\n    _this.updateSpinning = function () {\n      var spinning = _this.props.spinning;\n      var currentSpinning = _this.state.spinning;\n\n      if (currentSpinning !== spinning) {\n        _this.setState({\n          spinning: spinning\n        });\n      }\n    };\n\n    _this.renderSpin = function (_ref2) {\n      var _classNames;\n\n      var getPrefixCls = _ref2.getPrefixCls,\n          direction = _ref2.direction;\n\n      var _a = _this.props,\n          customizePrefixCls = _a.prefixCls,\n          className = _a.className,\n          size = _a.size,\n          tip = _a.tip,\n          wrapperClassName = _a.wrapperClassName,\n          style = _a.style,\n          restProps = __rest(_a, [\"prefixCls\", \"className\", \"size\", \"tip\", \"wrapperClassName\", \"style\"]);\n\n      var spinning = _this.state.spinning;\n      var prefixCls = getPrefixCls('spin', customizePrefixCls);\n      var spinClassName = classNames(prefixCls, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-sm\"), size === 'small'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-lg\"), size === 'large'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-spinning\"), spinning), _defineProperty(_classNames, \"\".concat(prefixCls, \"-show-text\"), !!tip), _defineProperty(_classNames, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames), className); // fix https://fb.me/react-unknown-prop\n\n      var divProps = omit(restProps, ['spinning', 'delay', 'indicator']);\n      var spinElement = /*#__PURE__*/React.createElement(\"div\", _extends({}, divProps, {\n        style: style,\n        className: spinClassName\n      }), renderIndicator(prefixCls, _this.props), tip ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-text\")\n      }, tip) : null);\n\n      if (_this.isNestedPattern()) {\n        var containerClassName = classNames(\"\".concat(prefixCls, \"-container\"), _defineProperty({}, \"\".concat(prefixCls, \"-blur\"), spinning));\n        return /*#__PURE__*/React.createElement(\"div\", _extends({}, divProps, {\n          className: classNames(\"\".concat(prefixCls, \"-nested-loading\"), wrapperClassName)\n        }), spinning && /*#__PURE__*/React.createElement(\"div\", {\n          key: \"loading\"\n        }, spinElement), /*#__PURE__*/React.createElement(\"div\", {\n          className: containerClassName,\n          key: \"container\"\n        }, _this.props.children));\n      }\n\n      return spinElement;\n    };\n\n    var spinning = props.spinning,\n        delay = props.delay;\n    var shouldBeDelayed = shouldDelay(spinning, delay);\n    _this.state = {\n      spinning: spinning && !shouldBeDelayed\n    };\n    _this.originalUpdateSpinning = _this.updateSpinning;\n\n    _this.debouncifyUpdateSpinning(props);\n\n    return _this;\n  }\n\n  _createClass(Spin, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.updateSpinning();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.debouncifyUpdateSpinning();\n      this.updateSpinning();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.cancelExistingSpin();\n    }\n  }, {\n    key: \"cancelExistingSpin\",\n    value: function cancelExistingSpin() {\n      var updateSpinning = this.updateSpinning;\n\n      if (updateSpinning && updateSpinning.cancel) {\n        updateSpinning.cancel();\n      }\n    }\n  }, {\n    key: \"isNestedPattern\",\n    value: function isNestedPattern() {\n      return !!(this.props && this.props.children);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(ConfigConsumer, null, this.renderSpin);\n    }\n  }], [{\n    key: \"setDefaultIndicator\",\n    value: function setDefaultIndicator(indicator) {\n      defaultIndicator = indicator;\n    }\n  }]);\n\n  return Spin;\n}(React.Component);\n\nSpin.defaultProps = {\n  spinning: true,\n  size: 'default',\n  wrapperClassName: ''\n};\nexport default Spin;","import '../../style/index.css';\nimport './index.css';","\n// turn {x: {val: 1, stiffness: 1, damping: 2}, y: 2} generated by\n// `{x: spring(1, {stiffness: 1, damping: 2}), y: 2}` into {x: 1, y: 2}\n\n'use strict';\n\nexports.__esModule = true;\nexports['default'] = stripStyle;\n\nfunction stripStyle(style) {\n  var ret = {};\n  for (var key in style) {\n    if (!Object.prototype.hasOwnProperty.call(style, key)) {\n      continue;\n    }\n    ret[key] = typeof style[key] === 'number' ? style[key] : style[key].val;\n  }\n  return ret;\n}\n\nmodule.exports = exports['default'];","import styled from 'styled-components';\nimport { palette } from 'styled-theme';\nimport { borderRadius, transition } from '@iso/lib/helpers/style_utils';\nimport WithDirection from '@iso/lib/helpers/rtl';\nconst MailTagsList = styled.ul`\n  padding: 30px 0;\n  text-align: ${(props) => (props['data-rtl'] === 'rtl' ? 'right' : 'left')};\n\n  .isoSectionLabel {\n    font-size: 16px;\n    font-weight: 500;\n    color: ${palette('secondary', 2)};\n    line-height: 1.1;\n    margin-bottom: 20px;\n    padding: 15px 30px;\n    background-color: ${palette('grayscale', 6)};\n  }\n\n  .isoMailTag {\n    width: 100%;\n    display: flex;\n    margin-bottom: 15px;\n    padding: 0 30px;\n    align-items: center;\n    cursor: pointer;\n\n    .isoLabelIndicatorColor {\n      width: 10px;\n      height: 10px;\n      display: flex;\n      margin: ${(props) =>\n        props['data-rtl'] === 'rtl' ? '0 5px 0 0' : '0 0 0 5px'};\n      ${borderRadius('50%')};\n    }\n\n    span {\n      font-size: 14px;\n      font-weight: 400;\n      color: ${palette('secondary', 2)};\n      cursor: pointer;\n      line-height: 1.1;\n      margin: ${(props) =>\n        props['data-rtl'] === 'rtl' ? '0 20px 0 0' : '0 0 0 20px'};\n      ${transition()};\n    }\n\n    &.active {\n      span {\n        font-weight: 500;\n        color: ${palette('primary', 0)};\n      }\n    }\n\n    &:hover {\n      span {\n        color: ${palette('primary', 0)};\n      }\n    }\n  }\n`;\n\nexport default WithDirection(MailTagsList);\n","import React from 'react';\nimport MailTagsList from './MailTags.style';\nconst tags = [\n  'Friend',\n  'Family',\n  'Colleague',\n  'Teachers',\n  'Students',\n  'ClassMates',\n];\nconst tagColor = [\n  '#CD3131',\n  '#74B49B',\n  '#0962EA',\n  '#141829',\n  '#FFCD38',\n  '#61105E',\n];\n\nfunction gettags(mails, filterAttr) {\n  const tags = {};\n  mails.forEach((mail) => {\n    if (mail.tags && mail.bucket === filterAttr.bucket) {\n      mail.tags.split(' ').forEach((tag) => (tags[tag] = 1));\n    }\n  });\n  return tags;\n}\n\nexport default function MailTags(\n  mails,\n  filterAction,\n  filterAttr,\n  onDrawerClose\n) {\n  const Tags = gettags(mails, filterAttr);\n  const renderSingleTag = (tag, key) => {\n    const onClick = () => {\n      filterAction({ tag });\n      if (onDrawerClose) {\n        onDrawerClose();\n      }\n    };\n    const selectedTag = tag === filterAttr.tag;\n    const activeClass = selectedTag ? 'active' : '';\n    const background = tagColor[tags.findIndex((tags) => tags === tag)];\n    return (\n      <li\n        key={`tag${key}`}\n        onClick={onClick}\n        className={`isoMailTag ${activeClass}`}\n      >\n        <span className=\"isoLabelIndicatorColor\" style={{ background }} />\n        <span>{tag}</span>\n      </li>\n    );\n  };\n  return (\n    <MailTagsList className=\"isoMailTagList\">\n      <p className=\"isoSectionLabel\">Label</p>\n      {Object.keys(Tags).map((tag, index) => renderSingleTag(tag, index))}\n    </MailTagsList>\n  );\n}\nexport { tags, tagColor };\n","\n\n// currently used to initiate the velocity style object to 0\n'use strict';\n\nexports.__esModule = true;\nexports['default'] = mapToZero;\n\nfunction mapToZero(obj) {\n  var ret = {};\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      ret[key] = 0;\n    }\n  }\n  return ret;\n}\n\nmodule.exports = exports['default'];","\n\n// stepper is used a lot. Saves allocation to return the same array wrapper.\n// This is fine and danger-free against mutations because the callsite\n// immediately destructures it and gets the numbers inside without passing the\n\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = stepper;\n\nvar reusedTuple = [0, 0];\n\nfunction stepper(secondPerFrame, x, v, destX, k, b, precision) {\n  // Spring stiffness, in kg / s^2\n\n  // for animations, destX is really spring length (spring at rest). initial\n  // position is considered as the stretched/compressed position of a spring\n  var Fspring = -k * (x - destX);\n\n  // Damping, in kg / s\n  var Fdamper = -b * v;\n\n  // usually we put mass here, but for animation purposes, specifying mass is a\n  // bit redundant. you could simply adjust k and b accordingly\n  // let a = (Fspring + Fdamper) / mass;\n  var a = Fspring + Fdamper;\n\n  var newV = v + a * secondPerFrame;\n  var newX = x + newV * secondPerFrame;\n\n  if (Math.abs(newV) < precision && Math.abs(newX - destX) < precision) {\n    reusedTuple[0] = destX;\n    reusedTuple[1] = 0;\n    return reusedTuple;\n  }\n\n  reusedTuple[0] = newX;\n  reusedTuple[1] = newV;\n  return reusedTuple;\n}\n\nmodule.exports = exports[\"default\"];\n// array reference around.","// Generated by CoffeeScript 1.7.1\n(function() {\n  var getNanoSeconds, hrtime, loadTime;\n\n  if ((typeof performance !== \"undefined\" && performance !== null) && performance.now) {\n    module.exports = function() {\n      return performance.now();\n    };\n  } else if ((typeof process !== \"undefined\" && process !== null) && process.hrtime) {\n    module.exports = function() {\n      return (getNanoSeconds() - loadTime) / 1e6;\n    };\n    hrtime = process.hrtime;\n    getNanoSeconds = function() {\n      var hr;\n      hr = hrtime();\n      return hr[0] * 1e9 + hr[1];\n    };\n    loadTime = getNanoSeconds();\n  } else if (Date.now) {\n    module.exports = function() {\n      return Date.now() - loadTime;\n    };\n    loadTime = Date.now();\n  } else {\n    module.exports = function() {\n      return new Date().getTime() - loadTime;\n    };\n    loadTime = new Date().getTime();\n  }\n\n}).call(this);\n","\n\n// usage assumption: currentStyle values have already been rendered but it says\n// nothing of whether currentStyle is stale (see unreadPropStyle)\n'use strict';\n\nexports.__esModule = true;\nexports['default'] = shouldStopAnimation;\n\nfunction shouldStopAnimation(currentStyle, style, currentVelocity) {\n  for (var key in style) {\n    if (!Object.prototype.hasOwnProperty.call(style, key)) {\n      continue;\n    }\n\n    if (currentVelocity[key] !== 0) {\n      return false;\n    }\n\n    var styleValue = typeof style[key] === 'number' ? style[key] : style[key].val;\n    // stepper will have already taken care of rounding precision errors, so\n    // won't have such thing as 0.9999 !=== 1\n    if (currentStyle[key] !== styleValue) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nmodule.exports = exports['default'];"],"sourceRoot":""}